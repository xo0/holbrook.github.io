<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>心内求法</title><link href="http://holbrook.github.io/" rel="alternate"></link><link href="http://holbrook.github.io/feeds/all.atom.xml" rel="self"></link><id>http://holbrook.github.io/</id><updated>2017-02-27T00:00:00+08:00</updated><entry><title>利用Python进行数据分析(5.3)：Pandas 计算汇总和描述统计</title><link href="http://holbrook.github.io/2017/02/27/python_data_analysis5-3.html" rel="alternate"></link><published>2017-02-27T00:00:00+08:00</published><updated>2017-02-27T00:00:00+08:00</updated><author><name>Holbrook</name></author><id>tag:holbrook.github.io,2017-02-27:/2017/02/27/python_data_analysis5-3.html</id><summary type="html">
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;</summary><content type="html">&lt;style type="text/css"&gt;/*!
*
* IPython notebook
*
*/
/* CSS font colors for translated ANSI colors. */
.ansibold {
  font-weight: bold;
}
/* use dark versions for foreground, to improve visibility */
.ansiblack {
  color: black;
}
.ansired {
  color: darkred;
}
.ansigreen {
  color: darkgreen;
}
.ansiyellow {
  color: #c4a000;
}
.ansiblue {
  color: darkblue;
}
.ansipurple {
  color: darkviolet;
}
.ansicyan {
  color: steelblue;
}
.ansigray {
  color: gray;
}
/* and light for background, for the same reason */
.ansibgblack {
  background-color: black;
}
.ansibgred {
  background-color: red;
}
.ansibggreen {
  background-color: green;
}
.ansibgyellow {
  background-color: yellow;
}
.ansibgblue {
  background-color: blue;
}
.ansibgpurple {
  background-color: magenta;
}
.ansibgcyan {
  background-color: cyan;
}
.ansibggray {
  background-color: gray;
}
div.cell {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  border-radius: 2px;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
  border-width: 1px;
  border-style: solid;
  border-color: transparent;
  width: 100%;
  padding: 5px;
  /* This acts as a spacer between cells, that is outside the border */
  margin: 0px;
  outline: none;
  border-left-width: 1px;
  padding-left: 5px;
  background: linear-gradient(to right, transparent -40px, transparent 1px, transparent 1px, transparent 100%);
}
div.cell.jupyter-soft-selected {
  border-left-color: #90CAF9;
  border-left-color: #E3F2FD;
  border-left-width: 1px;
  padding-left: 5px;
  border-right-color: #E3F2FD;
  border-right-width: 1px;
  background: #E3F2FD;
}
@media print {
  div.cell.jupyter-soft-selected {
    border-color: transparent;
  }
}
div.cell.selected {
  border-color: #ababab;
  border-left-width: 0px;
  padding-left: 6px;
  background: linear-gradient(to right, #42A5F5 -40px, #42A5F5 5px, transparent 5px, transparent 100%);
}
@media print {
  div.cell.selected {
    border-color: transparent;
  }
}
div.cell.selected.jupyter-soft-selected {
  border-left-width: 0;
  padding-left: 6px;
  background: linear-gradient(to right, #42A5F5 -40px, #42A5F5 7px, #E3F2FD 7px, #E3F2FD 100%);
}
.edit_mode div.cell.selected {
  border-color: #66BB6A;
  border-left-width: 0px;
  padding-left: 6px;
  background: linear-gradient(to right, #66BB6A -40px, #66BB6A 5px, transparent 5px, transparent 100%);
}
@media print {
  .edit_mode div.cell.selected {
    border-color: transparent;
  }
}
.prompt {
  /* This needs to be wide enough for 3 digit prompt numbers: In[100]: */
  min-width: 14ex;
  /* This padding is tuned to match the padding on the CodeMirror editor. */
  padding: 0.4em;
  margin: 0px;
  font-family: monospace;
  text-align: right;
  /* This has to match that of the the CodeMirror class line-height below */
  line-height: 1.21429em;
  /* Don't highlight prompt number selection */
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  -khtml-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  /* Use default cursor */
  cursor: default;
}
@media (max-width: 540px) {
  .prompt {
    text-align: left;
  }
}
div.inner_cell {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  /* Old browsers */
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  box-flex: 1;
  /* Modern browsers */
  flex: 1;
}
@-moz-document url-prefix() {
  div.inner_cell {
    overflow-x: hidden;
  }
}
/* input_area and input_prompt must match in top border and margin for alignment */
div.input_area {
  border: 1px solid #cfcfcf;
  border-radius: 2px;
  background: #f7f7f7;
  line-height: 1.21429em;
}
/* This is needed so that empty prompt areas can collapse to zero height when there
   is no content in the output_subarea and the prompt. The main purpose of this is
   to make sure that empty JavaScript output_subareas have no height. */
div.prompt:empty {
  padding-top: 0;
  padding-bottom: 0;
}
div.unrecognized_cell {
  padding: 5px 5px 5px 0px;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
div.unrecognized_cell .inner_cell {
  border-radius: 2px;
  padding: 5px;
  font-weight: bold;
  color: red;
  border: 1px solid #cfcfcf;
  background: #eaeaea;
}
div.unrecognized_cell .inner_cell a {
  color: inherit;
  text-decoration: none;
}
div.unrecognized_cell .inner_cell a:hover {
  color: inherit;
  text-decoration: none;
}
@media (max-width: 540px) {
  div.unrecognized_cell &gt; div.prompt {
    display: none;
  }
}
div.code_cell {
  /* avoid page breaking on code cells when printing */
}
@media print {
  div.code_cell {
    page-break-inside: avoid;
  }
}
/* any special styling for code cells that are currently running goes here */
div.input {
  page-break-inside: avoid;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.input {
    /* Old browsers */
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-box-align: stretch;
    display: -moz-box;
    -moz-box-orient: vertical;
    -moz-box-align: stretch;
    display: box;
    box-orient: vertical;
    box-align: stretch;
    /* Modern browsers */
    display: flex;
    flex-direction: column;
    align-items: stretch;
  }
}
/* input_area and input_prompt must match in top border and margin for alignment */
div.input_prompt {
  color: #303F9F;
  border-top: 1px solid transparent;
}
div.input_area &gt; div.highlight {
  margin: 0.4em;
  border: none;
  padding: 0px;
  background-color: transparent;
}
div.input_area &gt; div.highlight &gt; pre {
  margin: 0px;
  border: none;
  padding: 0px;
  background-color: transparent;
}
/* The following gets added to the &lt;head&gt; if it is detected that the user has a
 * monospace font with inconsistent normal/bold/italic height.  See
 * notebookmain.js.  Such fonts will have keywords vertically offset with
 * respect to the rest of the text.  The user should select a better font.
 * See: https://github.com/ipython/ipython/issues/1503
 *
 * .CodeMirror span {
 *      vertical-align: bottom;
 * }
 */
.CodeMirror {
  line-height: 1.21429em;
  /* Changed from 1em to our global default */
  font-size: 14px;
  height: auto;
  /* Changed to auto to autogrow */
  background: none;
  /* Changed from white to allow our bg to show through */
}
.CodeMirror-scroll {
  /*  The CodeMirror docs are a bit fuzzy on if overflow-y should be hidden or visible.*/
  /*  We have found that if it is visible, vertical scrollbars appear with font size changes.*/
  overflow-y: hidden;
  overflow-x: auto;
}
.CodeMirror-lines {
  /* In CM2, this used to be 0.4em, but in CM3 it went to 4px. We need the em value because */
  /* we have set a different line-height and want this to scale with that. */
  padding: 0.4em;
}
.CodeMirror-linenumber {
  padding: 0 8px 0 4px;
}
.CodeMirror-gutters {
  border-bottom-left-radius: 2px;
  border-top-left-radius: 2px;
}
.CodeMirror pre {
  /* In CM3 this went to 4px from 0 in CM2. We need the 0 value because of how we size */
  /* .CodeMirror-lines */
  padding: 0;
  border: 0;
  border-radius: 0;
}
/*

Original style from softwaremaniacs.org (c) Ivan Sagalaev &lt;Maniac@SoftwareManiacs.Org&gt;
Adapted from GitHub theme

*/
.highlight-base {
  color: #000;
}
.highlight-variable {
  color: #000;
}
.highlight-variable-2 {
  color: #1a1a1a;
}
.highlight-variable-3 {
  color: #333333;
}
.highlight-string {
  color: #BA2121;
}
.highlight-comment {
  color: #408080;
  font-style: italic;
}
.highlight-number {
  color: #080;
}
.highlight-atom {
  color: #88F;
}
.highlight-keyword {
  color: #008000;
  font-weight: bold;
}
.highlight-builtin {
  color: #008000;
}
.highlight-error {
  color: #f00;
}
.highlight-operator {
  color: #AA22FF;
  font-weight: bold;
}
.highlight-meta {
  color: #AA22FF;
}
/* previously not defined, copying from default codemirror */
.highlight-def {
  color: #00f;
}
.highlight-string-2 {
  color: #f50;
}
.highlight-qualifier {
  color: #555;
}
.highlight-bracket {
  color: #997;
}
.highlight-tag {
  color: #170;
}
.highlight-attribute {
  color: #00c;
}
.highlight-header {
  color: blue;
}
.highlight-quote {
  color: #090;
}
.highlight-link {
  color: #00c;
}
/* apply the same style to codemirror */
.cm-s-ipython span.cm-keyword {
  color: #008000;
  font-weight: bold;
}
.cm-s-ipython span.cm-atom {
  color: #88F;
}
.cm-s-ipython span.cm-number {
  color: #080;
}
.cm-s-ipython span.cm-def {
  color: #00f;
}
.cm-s-ipython span.cm-variable {
  color: #000;
}
.cm-s-ipython span.cm-operator {
  color: #AA22FF;
  font-weight: bold;
}
.cm-s-ipython span.cm-variable-2 {
  color: #1a1a1a;
}
.cm-s-ipython span.cm-variable-3 {
  color: #333333;
}
.cm-s-ipython span.cm-comment {
  color: #408080;
  font-style: italic;
}
.cm-s-ipython span.cm-string {
  color: #BA2121;
}
.cm-s-ipython span.cm-string-2 {
  color: #f50;
}
.cm-s-ipython span.cm-meta {
  color: #AA22FF;
}
.cm-s-ipython span.cm-qualifier {
  color: #555;
}
.cm-s-ipython span.cm-builtin {
  color: #008000;
}
.cm-s-ipython span.cm-bracket {
  color: #997;
}
.cm-s-ipython span.cm-tag {
  color: #170;
}
.cm-s-ipython span.cm-attribute {
  color: #00c;
}
.cm-s-ipython span.cm-header {
  color: blue;
}
.cm-s-ipython span.cm-quote {
  color: #090;
}
.cm-s-ipython span.cm-link {
  color: #00c;
}
.cm-s-ipython span.cm-error {
  color: #f00;
}
.cm-s-ipython span.cm-tab {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAMCAYAAAAkuj5RAAAAAXNSR0IArs4c6QAAAGFJREFUSMft1LsRQFAQheHPowAKoACx3IgEKtaEHujDjORSgWTH/ZOdnZOcM/sgk/kFFWY0qV8foQwS4MKBCS3qR6ixBJvElOobYAtivseIE120FaowJPN75GMu8j/LfMwNjh4HUpwg4LUAAAAASUVORK5CYII=);
  background-position: right;
  background-repeat: no-repeat;
}
div.output_wrapper {
  /* this position must be relative to enable descendents to be absolute within it */
  position: relative;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  z-index: 1;
}
/* class for the output area when it should be height-limited */
div.output_scroll {
  /* ideally, this would be max-height, but FF barfs all over that */
  height: 24em;
  /* FF needs this *and the wrapper* to specify full width, or it will shrinkwrap */
  width: 100%;
  overflow: auto;
  border-radius: 2px;
  -webkit-box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.8);
  box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.8);
  display: block;
}
/* output div while it is collapsed */
div.output_collapsed {
  margin: 0px;
  padding: 0px;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
div.out_prompt_overlay {
  height: 100%;
  padding: 0px 0.4em;
  position: absolute;
  border-radius: 2px;
}
div.out_prompt_overlay:hover {
  /* use inner shadow to get border that is computed the same on WebKit/FF */
  -webkit-box-shadow: inset 0 0 1px #000;
  box-shadow: inset 0 0 1px #000;
  background: rgba(240, 240, 240, 0.5);
}
div.output_prompt {
  color: #D84315;
}
/* This class is the outer container of all output sections. */
div.output_area {
  padding: 0px;
  page-break-inside: avoid;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
div.output_area .MathJax_Display {
  text-align: left !important;
}
div.output_area 
div.output_area 
div.output_area img,
div.output_area svg {
  max-width: 100%;
  height: auto;
}
div.output_area img.unconfined,
div.output_area svg.unconfined {
  max-width: none;
}
/* This is needed to protect the pre formating from global settings such
   as that of bootstrap */
.output {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.output_area {
    /* Old browsers */
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-box-align: stretch;
    display: -moz-box;
    -moz-box-orient: vertical;
    -moz-box-align: stretch;
    display: box;
    box-orient: vertical;
    box-align: stretch;
    /* Modern browsers */
    display: flex;
    flex-direction: column;
    align-items: stretch;
  }
}
div.output_area pre {
  margin: 0;
  padding: 0;
  border: 0;
  vertical-align: baseline;
  color: black;
  background-color: transparent;
  border-radius: 0;
}
/* This class is for the output subarea inside the output_area and after
   the prompt div. */
div.output_subarea {
  overflow-x: auto;
  padding: 0.4em;
  /* Old browsers */
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  box-flex: 1;
  /* Modern browsers */
  flex: 1;
  max-width: calc(100% - 14ex);
}
div.output_scroll div.output_subarea {
  overflow-x: visible;
}
/* The rest of the output_* classes are for special styling of the different
   output types */
/* all text output has this class: */
div.output_text {
  text-align: left;
  color: #000;
  /* This has to match that of the the CodeMirror class line-height below */
  line-height: 1.21429em;
}
/* stdout/stderr are 'text' as well as 'stream', but execute_result/error are *not* streams */
div.output_stderr {
  background: #fdd;
  /* very light red background for stderr */
}
div.output_latex {
  text-align: left;
}
/* Empty output_javascript divs should have no height */
div.output_javascript:empty {
  padding: 0;
}
.js-error {
  color: darkred;
}
/* raw_input styles */
div.raw_input_container {
  line-height: 1.21429em;
  padding-top: 5px;
}
pre.raw_input_prompt {
  /* nothing needed here. */
}
input.raw_input {
  font-family: monospace;
  font-size: inherit;
  color: inherit;
  width: auto;
  /* make sure input baseline aligns with prompt */
  vertical-align: baseline;
  /* padding + margin = 0.5em between prompt and cursor */
  padding: 0em 0.25em;
  margin: 0em 0.25em;
}
input.raw_input:focus {
  box-shadow: none;
}
p.p-space {
  margin-bottom: 10px;
}
div.output_unrecognized {
  padding: 5px;
  font-weight: bold;
  color: red;
}
div.output_unrecognized a {
  color: inherit;
  text-decoration: none;
}
div.output_unrecognized a:hover {
  color: inherit;
  text-decoration: none;
}
.rendered_html {
  color: #000;
  /* any extras will just be numbers: */
}



.rendered_html :link {
  text-decoration: underline;
}
.rendered_html :visited {
  text-decoration: underline;
}






.rendered_html h1:first-child {
  margin-top: 0.538em;
}
.rendered_html h2:first-child {
  margin-top: 0.636em;
}
.rendered_html h3:first-child {
  margin-top: 0.777em;
}
.rendered_html h4:first-child {
  margin-top: 1em;
}
.rendered_html h5:first-child {
  margin-top: 1em;
}
.rendered_html h6:first-child {
  margin-top: 1em;
}








.rendered_html * + ul {
  margin-top: 1em;
}
.rendered_html * + ol {
  margin-top: 1em;
}


.rendered_html pre,



.rendered_html tr,
.rendered_html th,

.rendered_html td,


.rendered_html * + table {
  margin-top: 1em;
}

.rendered_html * + p {
  margin-top: 1em;
}

.rendered_html * + img {
  margin-top: 1em;
}
.rendered_html img,

.rendered_html img.unconfined,

div.text_cell {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.text_cell &gt; div.prompt {
    display: none;
  }
}
div.text_cell_render {
  /*font-family: "Helvetica Neue", Arial, Helvetica, Geneva, sans-serif;*/
  outline: none;
  resize: none;
  width: inherit;
  border-style: none;
  padding: 0.5em 0.5em 0.5em 0.4em;
  color: #000;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
}
a.anchor-link:link {
  text-decoration: none;
  padding: 0px 20px;
  visibility: hidden;
}
h1:hover .anchor-link,
h2:hover .anchor-link,
h3:hover .anchor-link,
h4:hover .anchor-link,
h5:hover .anchor-link,
h6:hover .anchor-link {
  visibility: visible;
}
.text_cell.rendered .input_area {
  display: none;
}
.text_cell.rendered 
.text_cell.unrendered .text_cell_render {
  display: none;
}
.cm-header-1,
.cm-header-2,
.cm-header-3,
.cm-header-4,
.cm-header-5,
.cm-header-6 {
  font-weight: bold;
  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
}
.cm-header-1 {
  font-size: 185.7%;
}
.cm-header-2 {
  font-size: 157.1%;
}
.cm-header-3 {
  font-size: 128.6%;
}
.cm-header-4 {
  font-size: 110%;
}
.cm-header-5 {
  font-size: 100%;
  font-style: italic;
}
.cm-header-6 {
  font-size: 100%;
  font-style: italic;
}
&lt;/style&gt;
&lt;style type="text/css"&gt;.highlight .hll { background-color: #ffffcc }
.highlight  { background: #f8f8f8; }
.highlight .c { color: #408080; font-style: italic } /* Comment */
.highlight .err { border: 1px solid #FF0000 } /* Error */
.highlight .k { color: #008000; font-weight: bold } /* Keyword */
.highlight .o { color: #666666 } /* Operator */
.highlight .ch { color: #408080; font-style: italic } /* Comment.Hashbang */
.highlight .cm { color: #408080; font-style: italic } /* Comment.Multiline */
.highlight .cp { color: #BC7A00 } /* Comment.Preproc */
.highlight .cpf { color: #408080; font-style: italic } /* Comment.PreprocFile */
.highlight .c1 { color: #408080; font-style: italic } /* Comment.Single */
.highlight .cs { color: #408080; font-style: italic } /* Comment.Special */
.highlight .gd { color: #A00000 } /* Generic.Deleted */
.highlight .ge { font-style: italic } /* Generic.Emph */
.highlight .gr { color: #FF0000 } /* Generic.Error */
.highlight .gh { color: #000080; font-weight: bold } /* Generic.Heading */
.highlight .gi { color: #00A000 } /* Generic.Inserted */
.highlight .go { color: #888888 } /* Generic.Output */
.highlight .gp { color: #000080; font-weight: bold } /* Generic.Prompt */
.highlight .gs { font-weight: bold } /* Generic.Strong */
.highlight .gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.highlight .gt { color: #0044DD } /* Generic.Traceback */
.highlight .kc { color: #008000; font-weight: bold } /* Keyword.Constant */
.highlight .kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
.highlight .kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
.highlight .kp { color: #008000 } /* Keyword.Pseudo */
.highlight .kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
.highlight .kt { color: #B00040 } /* Keyword.Type */
.highlight .m { color: #666666 } /* Literal.Number */
.highlight .s { color: #BA2121 } /* Literal.String */
.highlight .na { color: #7D9029 } /* Name.Attribute */
.highlight .nb { color: #008000 } /* Name.Builtin */
.highlight .nc { color: #0000FF; font-weight: bold } /* Name.Class */
.highlight .no { color: #880000 } /* Name.Constant */
.highlight .nd { color: #AA22FF } /* Name.Decorator */
.highlight .ni { color: #999999; font-weight: bold } /* Name.Entity */
.highlight .ne { color: #D2413A; font-weight: bold } /* Name.Exception */
.highlight .nf { color: #0000FF } /* Name.Function */
.highlight .nl { color: #A0A000 } /* Name.Label */
.highlight .nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
.highlight .nt { color: #008000; font-weight: bold } /* Name.Tag */
.highlight .nv { color: #19177C } /* Name.Variable */
.highlight .ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
.highlight .w { color: #bbbbbb } /* Text.Whitespace */
.highlight .mb { color: #666666 } /* Literal.Number.Bin */
.highlight .mf { color: #666666 } /* Literal.Number.Float */
.highlight .mh { color: #666666 } /* Literal.Number.Hex */
.highlight .mi { color: #666666 } /* Literal.Number.Integer */
.highlight .mo { color: #666666 } /* Literal.Number.Oct */
.highlight .sb { color: #BA2121 } /* Literal.String.Backtick */
.highlight .sc { color: #BA2121 } /* Literal.String.Char */
.highlight .sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */
.highlight .s2 { color: #BA2121 } /* Literal.String.Double */
.highlight .se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */
.highlight .sh { color: #BA2121 } /* Literal.String.Heredoc */
.highlight .si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */
.highlight .sx { color: #008000 } /* Literal.String.Other */
.highlight .sr { color: #BB6688 } /* Literal.String.Regex */
.highlight .s1 { color: #BA2121 } /* Literal.String.Single */
.highlight .ss { color: #19177C } /* Literal.String.Symbol */
.highlight .bp { color: #008000 } /* Name.Builtin.Pseudo */
.highlight .vc { color: #19177C } /* Name.Variable.Class */
.highlight .vg { color: #19177C } /* Name.Variable.Global */
.highlight .vi { color: #19177C } /* Name.Variable.Instance */
.highlight .il { color: #666666 } /* Literal.Number.Integer.Long */&lt;/style&gt;
&lt;style type="text/css"&gt;
/* Temporary definitions which will become obsolete with Notebook release 5.0 */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-bold { font-weight: bold; }
&lt;/style&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[1]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="o"&gt;%&lt;/span&gt;&lt;span class="k"&gt;pylab&lt;/span&gt; inline
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;pandas&lt;/span&gt; &lt;span class="k"&gt;import&lt;/span&gt; &lt;span class="n"&gt;Series&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;DataFrame&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;pandas&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;pd&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;div class="output_subarea output_stream output_stdout output_text"&gt;
&lt;pre&gt;Populating the interactive namespace from numpy and matplotlib
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;《&lt;a href="https://book.douban.com/subject/25779298/"&gt;利用Python进行数据分析&lt;/a&gt;》
作者: Wes McKinney
译者: 唐学韬&lt;/p&gt;
&lt;p&gt;汇总和描述性统计&lt;/p&gt;
&lt;p&gt;Pandas 实现了一些简单简单的汇总和描述性统计功能，更复杂的统计计算可以使用 &lt;a href=""&gt;Scipy&lt;/a&gt; 的 &lt;code&gt;stats&lt;/code&gt;模块。&lt;/p&gt;
&lt;h1 id="基本统计"&gt;基本统计&lt;a class="anchor-link" href="#基本统计"&gt;&amp;para;&lt;/a&gt;&lt;/h1&gt;&lt;p&gt;包括：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;count: 计数&lt;/li&gt;
&lt;li&gt;describe: 各列的汇总统计&lt;/li&gt;
&lt;li&gt;min, max: 最小值和最大值&lt;/li&gt;
&lt;li&gt;argmin, argmax: 最小值和最大值的索引位置&lt;/li&gt;
&lt;li&gt;idxmin, idxmax: 最小值和最大值 的索引值&lt;/li&gt;
&lt;li&gt;quantile: 样本的分位数(0--1)&lt;/li&gt;
&lt;li&gt;sum: 求和&lt;/li&gt;
&lt;li&gt;mean: 平均数&lt;/li&gt;
&lt;li&gt;median: 中位数（0.5分位数）&lt;/li&gt;
&lt;li&gt;mad: 平均绝对离差&lt;/li&gt;
&lt;li&gt;var: 方差&lt;/li&gt;
&lt;li&gt;std: 标准差&lt;/li&gt;
&lt;li&gt;skew: 偏度（三阶矩）&lt;/li&gt;
&lt;li&gt;kurt: 峰度（四阶矩）&lt;/li&gt;
&lt;li&gt;cumsum: 累计和&lt;/li&gt;
&lt;li&gt;cummin, cummax: 累计最小、最大值&lt;/li&gt;
&lt;li&gt;cumprod: 累计积&lt;/li&gt;
&lt;li&gt;diff: 一阶差分（用于时间序列）&lt;/li&gt;
&lt;li&gt;pct_change: 百分数变化&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[2]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;df&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;DataFrame&lt;/span&gt;&lt;span class="p"&gt;([[&lt;/span&gt;&lt;span class="mf"&gt;1.4&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;nan&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mf"&gt;7.1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;4.5&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
                &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;nan&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;nan&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mf"&gt;0.75&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;1.3&lt;/span&gt;&lt;span class="p"&gt;]],&lt;/span&gt;
               &lt;span class="n"&gt;index&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'a'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'b'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'c'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'d'&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
               &lt;span class="n"&gt;columns&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'one'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'two'&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="n"&gt;df&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[2]:&lt;/div&gt;
&lt;div class="output_html rendered_html output_subarea output_execute_result"&gt;
&lt;div&gt;
&lt;table border="1" class="dataframe"&gt;
&lt;thead&gt;
&lt;tr style="text-align: right;"&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;one&lt;/th&gt;
&lt;th&gt;two&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;th&gt;a&lt;/th&gt;
&lt;td&gt;1.40&lt;/td&gt;
&lt;td&gt;NaN&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;b&lt;/th&gt;
&lt;td&gt;7.10&lt;/td&gt;
&lt;td&gt;-4.5&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;c&lt;/th&gt;
&lt;td&gt;NaN&lt;/td&gt;
&lt;td&gt;NaN&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;d&lt;/th&gt;
&lt;td&gt;0.75&lt;/td&gt;
&lt;td&gt;-1.3&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[3]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# 求和&lt;/span&gt;
&lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sum&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[3]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;one    9.25
two   -5.80
dtype: float64&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[5]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;#  按行求和&lt;/span&gt;
&lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sum&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;axis&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[5]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;a    1.40
b    2.60
c    0.00
d   -0.55
dtype: float64&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[6]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# 不忽略 NA&lt;/span&gt;
&lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;mean&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;axis&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;skipna&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;False&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[6]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;a      NaN
b    1.300
c      NaN
d   -0.275
dtype: float64&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[9]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# 返回索引&lt;/span&gt;
&lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;idxmax&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[9]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;one    b
two    d
dtype: object&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[10]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# 累加型&lt;/span&gt;
&lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;cumsum&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[10]:&lt;/div&gt;
&lt;div class="output_html rendered_html output_subarea output_execute_result"&gt;
&lt;div&gt;
&lt;table border="1" class="dataframe"&gt;
&lt;thead&gt;
&lt;tr style="text-align: right;"&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;one&lt;/th&gt;
&lt;th&gt;two&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;th&gt;a&lt;/th&gt;
&lt;td&gt;1.40&lt;/td&gt;
&lt;td&gt;NaN&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;b&lt;/th&gt;
&lt;td&gt;8.50&lt;/td&gt;
&lt;td&gt;-4.5&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;c&lt;/th&gt;
&lt;td&gt;NaN&lt;/td&gt;
&lt;td&gt;NaN&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;d&lt;/th&gt;
&lt;td&gt;9.25&lt;/td&gt;
&lt;td&gt;-5.8&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[11]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# 描述&lt;/span&gt;
&lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;describe&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[11]:&lt;/div&gt;
&lt;div class="output_html rendered_html output_subarea output_execute_result"&gt;
&lt;div&gt;
&lt;table border="1" class="dataframe"&gt;
&lt;thead&gt;
&lt;tr style="text-align: right;"&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;one&lt;/th&gt;
&lt;th&gt;two&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;th&gt;count&lt;/th&gt;
&lt;td&gt;3.000000&lt;/td&gt;
&lt;td&gt;2.000000&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;mean&lt;/th&gt;
&lt;td&gt;3.083333&lt;/td&gt;
&lt;td&gt;-2.900000&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;std&lt;/th&gt;
&lt;td&gt;3.493685&lt;/td&gt;
&lt;td&gt;2.262742&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;min&lt;/th&gt;
&lt;td&gt;0.750000&lt;/td&gt;
&lt;td&gt;-4.500000&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;25%&lt;/th&gt;
&lt;td&gt;1.075000&lt;/td&gt;
&lt;td&gt;-3.700000&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;50%&lt;/th&gt;
&lt;td&gt;1.400000&lt;/td&gt;
&lt;td&gt;-2.900000&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;75%&lt;/th&gt;
&lt;td&gt;4.250000&lt;/td&gt;
&lt;td&gt;-2.100000&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;max&lt;/th&gt;
&lt;td&gt;7.100000&lt;/td&gt;
&lt;td&gt;-1.300000&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[12]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# 非数值型的描述&lt;/span&gt;
&lt;span class="n"&gt;obj&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Series&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="s1"&gt;'a'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'a'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'b'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'c'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;obj&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;describe&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[12]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;count     16
unique     3
top        a
freq       8
dtype: object&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h1 id="相关系数(Correlation)与协方差(covariance)"&gt;相关系数(Correlation)与协方差(covariance)&lt;a class="anchor-link" href="#相关系数(Correlation)与协方差(covariance)"&gt;&amp;para;&lt;/a&gt;&lt;/h1&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[26]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;pandas_datareader&lt;/span&gt; &lt;span class="k"&gt;import&lt;/span&gt; &lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;wb&lt;/span&gt;

&lt;span class="n"&gt;all_data&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{}&lt;/span&gt;
&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;ticker&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'AAPL'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'IBM'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'MSFT'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'GOOG'&lt;/span&gt;&lt;span class="p"&gt;]:&lt;/span&gt;
    &lt;span class="n"&gt;all_data&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;ticker&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;get_data_yahoo&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ticker&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;price&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;DataFrame&lt;/span&gt;&lt;span class="p"&gt;({&lt;/span&gt;&lt;span class="n"&gt;tic&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'Adj Close'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
                   &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;tic&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;data&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;all_data&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;items&lt;/span&gt;&lt;span class="p"&gt;()})&lt;/span&gt;
&lt;span class="n"&gt;volume&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;DataFrame&lt;/span&gt;&lt;span class="p"&gt;({&lt;/span&gt;&lt;span class="n"&gt;tic&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'Volume'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
                    &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;tic&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;data&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;all_data&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;items&lt;/span&gt;&lt;span class="p"&gt;()})&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[27]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;price&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[27]:&lt;/div&gt;
&lt;div class="output_html rendered_html output_subarea output_execute_result"&gt;
&lt;div&gt;
&lt;table border="1" class="dataframe"&gt;
&lt;thead&gt;
&lt;tr style="text-align: right;"&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;AAPL&lt;/th&gt;
&lt;th&gt;GOOG&lt;/th&gt;
&lt;th&gt;IBM&lt;/th&gt;
&lt;th&gt;MSFT&lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;Date&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;th&gt;2010-01-04&lt;/th&gt;
&lt;td&gt;27.727039&lt;/td&gt;
&lt;td&gt;313.062468&lt;/td&gt;
&lt;td&gt;111.405000&lt;/td&gt;
&lt;td&gt;25.555485&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;2010-01-05&lt;/th&gt;
&lt;td&gt;27.774976&lt;/td&gt;
&lt;td&gt;311.683844&lt;/td&gt;
&lt;td&gt;110.059232&lt;/td&gt;
&lt;td&gt;25.563741&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;2010-01-06&lt;/th&gt;
&lt;td&gt;27.333178&lt;/td&gt;
&lt;td&gt;303.826685&lt;/td&gt;
&lt;td&gt;109.344283&lt;/td&gt;
&lt;td&gt;25.406859&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;2010-01-07&lt;/th&gt;
&lt;td&gt;27.282650&lt;/td&gt;
&lt;td&gt;296.753749&lt;/td&gt;
&lt;td&gt;108.965786&lt;/td&gt;
&lt;td&gt;25.142634&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;2010-01-08&lt;/th&gt;
&lt;td&gt;27.464034&lt;/td&gt;
&lt;td&gt;300.709808&lt;/td&gt;
&lt;td&gt;110.059232&lt;/td&gt;
&lt;td&gt;25.316031&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;2010-01-11&lt;/th&gt;
&lt;td&gt;27.221758&lt;/td&gt;
&lt;td&gt;300.255255&lt;/td&gt;
&lt;td&gt;108.906903&lt;/td&gt;
&lt;td&gt;24.994007&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;2010-01-12&lt;/th&gt;
&lt;td&gt;26.912110&lt;/td&gt;
&lt;td&gt;294.945572&lt;/td&gt;
&lt;td&gt;109.773245&lt;/td&gt;
&lt;td&gt;24.828866&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;2010-01-13&lt;/th&gt;
&lt;td&gt;27.291720&lt;/td&gt;
&lt;td&gt;293.252243&lt;/td&gt;
&lt;td&gt;109.537735&lt;/td&gt;
&lt;td&gt;25.060064&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;2010-01-14&lt;/th&gt;
&lt;td&gt;27.133657&lt;/td&gt;
&lt;td&gt;294.630868&lt;/td&gt;
&lt;td&gt;111.287245&lt;/td&gt;
&lt;td&gt;25.563741&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;2010-01-15&lt;/th&gt;
&lt;td&gt;26.680198&lt;/td&gt;
&lt;td&gt;289.710772&lt;/td&gt;
&lt;td&gt;110.841458&lt;/td&gt;
&lt;td&gt;25.481172&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;2010-01-19&lt;/th&gt;
&lt;td&gt;27.860485&lt;/td&gt;
&lt;td&gt;293.516976&lt;/td&gt;
&lt;td&gt;112.826478&lt;/td&gt;
&lt;td&gt;25.679340&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;2010-01-20&lt;/th&gt;
&lt;td&gt;27.431644&lt;/td&gt;
&lt;td&gt;289.915587&lt;/td&gt;
&lt;td&gt;109.554561&lt;/td&gt;
&lt;td&gt;25.258232&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;2010-01-21&lt;/th&gt;
&lt;td&gt;26.957455&lt;/td&gt;
&lt;td&gt;291.199286&lt;/td&gt;
&lt;td&gt;108.503173&lt;/td&gt;
&lt;td&gt;24.779325&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;2010-01-22&lt;/th&gt;
&lt;td&gt;25.620401&lt;/td&gt;
&lt;td&gt;274.730736&lt;/td&gt;
&lt;td&gt;105.559289&lt;/td&gt;
&lt;td&gt;23.912336&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;2010-01-25&lt;/th&gt;
&lt;td&gt;26.309658&lt;/td&gt;
&lt;td&gt;269.730740&lt;/td&gt;
&lt;td&gt;106.080779&lt;/td&gt;
&lt;td&gt;24.209590&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;2010-01-26&lt;/th&gt;
&lt;td&gt;26.681494&lt;/td&gt;
&lt;td&gt;270.939526&lt;/td&gt;
&lt;td&gt;105.769566&lt;/td&gt;
&lt;td&gt;24.358216&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;2010-01-27&lt;/th&gt;
&lt;td&gt;26.932840&lt;/td&gt;
&lt;td&gt;270.779695&lt;/td&gt;
&lt;td&gt;106.257412&lt;/td&gt;
&lt;td&gt;24.498586&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;2010-01-28&lt;/th&gt;
&lt;td&gt;25.819922&lt;/td&gt;
&lt;td&gt;266.878565&lt;/td&gt;
&lt;td&gt;104.087347&lt;/td&gt;
&lt;td&gt;24.077477&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;2010-01-29&lt;/th&gt;
&lt;td&gt;24.883208&lt;/td&gt;
&lt;td&gt;264.705742&lt;/td&gt;
&lt;td&gt;102.943437&lt;/td&gt;
&lt;td&gt;23.268290&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;2010-02-01&lt;/th&gt;
&lt;td&gt;25.229131&lt;/td&gt;
&lt;td&gt;266.244198&lt;/td&gt;
&lt;td&gt;104.861166&lt;/td&gt;
&lt;td&gt;23.458201&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;2010-02-02&lt;/th&gt;
&lt;td&gt;25.375533&lt;/td&gt;
&lt;td&gt;265.295156&lt;/td&gt;
&lt;td&gt;105.584521&lt;/td&gt;
&lt;td&gt;23.499485&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;2010-02-03&lt;/th&gt;
&lt;td&gt;25.812149&lt;/td&gt;
&lt;td&gt;270.140309&lt;/td&gt;
&lt;td&gt;105.693870&lt;/td&gt;
&lt;td&gt;23.639855&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;2010-02-04&lt;/th&gt;
&lt;td&gt;24.881912&lt;/td&gt;
&lt;td&gt;263.127321&lt;/td&gt;
&lt;td&gt;103.456514&lt;/td&gt;
&lt;td&gt;22.987551&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;2010-02-05&lt;/th&gt;
&lt;td&gt;25.323710&lt;/td&gt;
&lt;td&gt;265.380075&lt;/td&gt;
&lt;td&gt;103.893889&lt;/td&gt;
&lt;td&gt;23.136177&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;2010-02-08&lt;/th&gt;
&lt;td&gt;25.150100&lt;/td&gt;
&lt;td&gt;266.468996&lt;/td&gt;
&lt;td&gt;102.972982&lt;/td&gt;
&lt;td&gt;22.888466&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;2010-02-09&lt;/th&gt;
&lt;td&gt;25.418289&lt;/td&gt;
&lt;td&gt;267.952522&lt;/td&gt;
&lt;td&gt;104.096663&lt;/td&gt;
&lt;td&gt;23.127920&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;2010-02-10&lt;/th&gt;
&lt;td&gt;25.279660&lt;/td&gt;
&lt;td&gt;266.958496&lt;/td&gt;
&lt;td&gt;103.758713&lt;/td&gt;
&lt;td&gt;23.111406&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;2010-02-11&lt;/th&gt;
&lt;td&gt;25.739595&lt;/td&gt;
&lt;td&gt;267.932539&lt;/td&gt;
&lt;td&gt;104.536000&lt;/td&gt;
&lt;td&gt;23.218748&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;2010-02-12&lt;/th&gt;
&lt;td&gt;25.961142&lt;/td&gt;
&lt;td&gt;266.294170&lt;/td&gt;
&lt;td&gt;104.764113&lt;/td&gt;
&lt;td&gt;23.061864&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;2010-02-16&lt;/th&gt;
&lt;td&gt;26.352412&lt;/td&gt;
&lt;td&gt;270.380071&lt;/td&gt;
&lt;td&gt;105.803308&lt;/td&gt;
&lt;td&gt;23.518124&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;...&lt;/th&gt;
&lt;td&gt;...&lt;/td&gt;
&lt;td&gt;...&lt;/td&gt;
&lt;td&gt;...&lt;/td&gt;
&lt;td&gt;...&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;2017-01-12&lt;/th&gt;
&lt;td&gt;118.735214&lt;/td&gt;
&lt;td&gt;806.359985&lt;/td&gt;
&lt;td&gt;166.632452&lt;/td&gt;
&lt;td&gt;62.232715&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;2017-01-13&lt;/th&gt;
&lt;td&gt;118.526121&lt;/td&gt;
&lt;td&gt;807.880005&lt;/td&gt;
&lt;td&gt;166.027237&lt;/td&gt;
&lt;td&gt;62.322172&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;2017-01-17&lt;/th&gt;
&lt;td&gt;119.481976&lt;/td&gt;
&lt;td&gt;804.609985&lt;/td&gt;
&lt;td&gt;166.572925&lt;/td&gt;
&lt;td&gt;62.153195&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;2017-01-18&lt;/th&gt;
&lt;td&gt;119.472017&lt;/td&gt;
&lt;td&gt;806.070007&lt;/td&gt;
&lt;td&gt;165.491479&lt;/td&gt;
&lt;td&gt;62.123377&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;2017-01-19&lt;/th&gt;
&lt;td&gt;119.262925&lt;/td&gt;
&lt;td&gt;802.174988&lt;/td&gt;
&lt;td&gt;165.501396&lt;/td&gt;
&lt;td&gt;61.924581&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;2017-01-20&lt;/th&gt;
&lt;td&gt;119.481976&lt;/td&gt;
&lt;td&gt;805.020020&lt;/td&gt;
&lt;td&gt;169.212061&lt;/td&gt;
&lt;td&gt;62.361932&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;2017-01-23&lt;/th&gt;
&lt;td&gt;119.561633&lt;/td&gt;
&lt;td&gt;819.309998&lt;/td&gt;
&lt;td&gt;169.688291&lt;/td&gt;
&lt;td&gt;62.580604&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;2017-01-24&lt;/th&gt;
&lt;td&gt;119.452107&lt;/td&gt;
&lt;td&gt;823.869995&lt;/td&gt;
&lt;td&gt;174.520082&lt;/td&gt;
&lt;td&gt;63.137231&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;2017-01-25&lt;/th&gt;
&lt;td&gt;121.353858&lt;/td&gt;
&lt;td&gt;835.669983&lt;/td&gt;
&lt;td&gt;176.891332&lt;/td&gt;
&lt;td&gt;63.296267&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;2017-01-26&lt;/th&gt;
&lt;td&gt;121.413604&lt;/td&gt;
&lt;td&gt;832.150024&lt;/td&gt;
&lt;td&gt;177.258440&lt;/td&gt;
&lt;td&gt;63.882708&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;2017-01-27&lt;/th&gt;
&lt;td&gt;121.423555&lt;/td&gt;
&lt;td&gt;823.309998&lt;/td&gt;
&lt;td&gt;175.909108&lt;/td&gt;
&lt;td&gt;65.383610&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;2017-01-30&lt;/th&gt;
&lt;td&gt;121.104937&lt;/td&gt;
&lt;td&gt;802.320007&lt;/td&gt;
&lt;td&gt;174.420876&lt;/td&gt;
&lt;td&gt;64.737526&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;2017-01-31&lt;/th&gt;
&lt;td&gt;120.826147&lt;/td&gt;
&lt;td&gt;796.789978&lt;/td&gt;
&lt;td&gt;173.150918&lt;/td&gt;
&lt;td&gt;64.260423&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;2017-02-01&lt;/th&gt;
&lt;td&gt;128.194203&lt;/td&gt;
&lt;td&gt;795.695007&lt;/td&gt;
&lt;td&gt;172.922712&lt;/td&gt;
&lt;td&gt;63.196871&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;2017-02-02&lt;/th&gt;
&lt;td&gt;127.975152&lt;/td&gt;
&lt;td&gt;798.530029&lt;/td&gt;
&lt;td&gt;173.210445&lt;/td&gt;
&lt;td&gt;62.789338&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;2017-02-03&lt;/th&gt;
&lt;td&gt;128.522781&lt;/td&gt;
&lt;td&gt;801.489990&lt;/td&gt;
&lt;td&gt;174.440723&lt;/td&gt;
&lt;td&gt;63.296267&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;2017-02-06&lt;/th&gt;
&lt;td&gt;129.727549&lt;/td&gt;
&lt;td&gt;801.340027&lt;/td&gt;
&lt;td&gt;174.480403&lt;/td&gt;
&lt;td&gt;63.256507&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;2017-02-07&lt;/th&gt;
&lt;td&gt;130.962201&lt;/td&gt;
&lt;td&gt;806.969971&lt;/td&gt;
&lt;td&gt;177.060012&lt;/td&gt;
&lt;td&gt;63.047773&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;2017-02-08&lt;/th&gt;
&lt;td&gt;131.469994&lt;/td&gt;
&lt;td&gt;808.380005&lt;/td&gt;
&lt;td&gt;176.169998&lt;/td&gt;
&lt;td&gt;62.958315&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;2017-02-09&lt;/th&gt;
&lt;td&gt;132.419998&lt;/td&gt;
&lt;td&gt;809.559998&lt;/td&gt;
&lt;td&gt;177.210007&lt;/td&gt;
&lt;td&gt;63.673974&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;2017-02-10&lt;/th&gt;
&lt;td&gt;132.119995&lt;/td&gt;
&lt;td&gt;813.669983&lt;/td&gt;
&lt;td&gt;178.679993&lt;/td&gt;
&lt;td&gt;63.614338&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;2017-02-13&lt;/th&gt;
&lt;td&gt;133.289993&lt;/td&gt;
&lt;td&gt;819.239990&lt;/td&gt;
&lt;td&gt;179.360001&lt;/td&gt;
&lt;td&gt;64.330000&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;2017-02-14&lt;/th&gt;
&lt;td&gt;135.020004&lt;/td&gt;
&lt;td&gt;820.450012&lt;/td&gt;
&lt;td&gt;180.130005&lt;/td&gt;
&lt;td&gt;64.570000&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;2017-02-15&lt;/th&gt;
&lt;td&gt;135.509995&lt;/td&gt;
&lt;td&gt;818.979980&lt;/td&gt;
&lt;td&gt;181.679993&lt;/td&gt;
&lt;td&gt;64.529999&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;2017-02-16&lt;/th&gt;
&lt;td&gt;135.350006&lt;/td&gt;
&lt;td&gt;824.159973&lt;/td&gt;
&lt;td&gt;181.429993&lt;/td&gt;
&lt;td&gt;64.519997&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;2017-02-17&lt;/th&gt;
&lt;td&gt;135.720001&lt;/td&gt;
&lt;td&gt;828.070007&lt;/td&gt;
&lt;td&gt;180.669998&lt;/td&gt;
&lt;td&gt;64.620003&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;2017-02-21&lt;/th&gt;
&lt;td&gt;136.699997&lt;/td&gt;
&lt;td&gt;831.659973&lt;/td&gt;
&lt;td&gt;180.259995&lt;/td&gt;
&lt;td&gt;64.489998&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;2017-02-22&lt;/th&gt;
&lt;td&gt;137.110001&lt;/td&gt;
&lt;td&gt;830.760010&lt;/td&gt;
&lt;td&gt;181.149994&lt;/td&gt;
&lt;td&gt;64.360001&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;2017-02-23&lt;/th&gt;
&lt;td&gt;136.529999&lt;/td&gt;
&lt;td&gt;831.330017&lt;/td&gt;
&lt;td&gt;181.649994&lt;/td&gt;
&lt;td&gt;64.620003&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;2017-02-24&lt;/th&gt;
&lt;td&gt;136.660004&lt;/td&gt;
&lt;td&gt;828.640015&lt;/td&gt;
&lt;td&gt;181.350006&lt;/td&gt;
&lt;td&gt;64.620003&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;1799 rows &amp;times; 4 columns&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[28]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;returns&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;price&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;pct_change&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;returns&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;tail&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[28]:&lt;/div&gt;
&lt;div class="output_html rendered_html output_subarea output_execute_result"&gt;
&lt;div&gt;
&lt;table border="1" class="dataframe"&gt;
&lt;thead&gt;
&lt;tr style="text-align: right;"&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;AAPL&lt;/th&gt;
&lt;th&gt;GOOG&lt;/th&gt;
&lt;th&gt;IBM&lt;/th&gt;
&lt;th&gt;MSFT&lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;Date&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;th&gt;2017-02-17&lt;/th&gt;
&lt;td&gt;0.002734&lt;/td&gt;
&lt;td&gt;0.004744&lt;/td&gt;
&lt;td&gt;-0.004189&lt;/td&gt;
&lt;td&gt;0.001550&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;2017-02-21&lt;/th&gt;
&lt;td&gt;0.007221&lt;/td&gt;
&lt;td&gt;0.004335&lt;/td&gt;
&lt;td&gt;-0.002269&lt;/td&gt;
&lt;td&gt;-0.002012&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;2017-02-22&lt;/th&gt;
&lt;td&gt;0.002999&lt;/td&gt;
&lt;td&gt;-0.001082&lt;/td&gt;
&lt;td&gt;0.004937&lt;/td&gt;
&lt;td&gt;-0.002016&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;2017-02-23&lt;/th&gt;
&lt;td&gt;-0.004230&lt;/td&gt;
&lt;td&gt;0.000686&lt;/td&gt;
&lt;td&gt;0.002760&lt;/td&gt;
&lt;td&gt;0.004040&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;2017-02-24&lt;/th&gt;
&lt;td&gt;0.000952&lt;/td&gt;
&lt;td&gt;-0.003236&lt;/td&gt;
&lt;td&gt;-0.001651&lt;/td&gt;
&lt;td&gt;0.000000&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[39]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# 相关系数&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;returns&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;MSFT&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;corr&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;returns&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;IBM&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="c1"&gt;# 协方差&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;returns&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;MSFT&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;cov&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;returns&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;IBM&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;div class="output_subarea output_stream output_stdout output_text"&gt;
&lt;pre&gt;0.495166900181
8.58872503835e-05
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[40]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;#  相关系数矩阵&lt;/span&gt;
&lt;span class="n"&gt;returns&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;corr&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[40]:&lt;/div&gt;
&lt;div class="output_html rendered_html output_subarea output_execute_result"&gt;
&lt;div&gt;
&lt;table border="1" class="dataframe"&gt;
&lt;thead&gt;
&lt;tr style="text-align: right;"&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;AAPL&lt;/th&gt;
&lt;th&gt;GOOG&lt;/th&gt;
&lt;th&gt;IBM&lt;/th&gt;
&lt;th&gt;MSFT&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;th&gt;AAPL&lt;/th&gt;
&lt;td&gt;1.000000&lt;/td&gt;
&lt;td&gt;0.409523&lt;/td&gt;
&lt;td&gt;0.381495&lt;/td&gt;
&lt;td&gt;0.388913&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;GOOG&lt;/th&gt;
&lt;td&gt;0.409523&lt;/td&gt;
&lt;td&gt;1.000000&lt;/td&gt;
&lt;td&gt;0.402880&lt;/td&gt;
&lt;td&gt;0.470810&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;IBM&lt;/th&gt;
&lt;td&gt;0.381495&lt;/td&gt;
&lt;td&gt;0.402880&lt;/td&gt;
&lt;td&gt;1.000000&lt;/td&gt;
&lt;td&gt;0.495167&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;MSFT&lt;/th&gt;
&lt;td&gt;0.388913&lt;/td&gt;
&lt;td&gt;0.470810&lt;/td&gt;
&lt;td&gt;0.495167&lt;/td&gt;
&lt;td&gt;1.000000&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[41]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# 协方差矩阵&lt;/span&gt;
&lt;span class="n"&gt;returns&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;cov&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[41]:&lt;/div&gt;
&lt;div class="output_html rendered_html output_subarea output_execute_result"&gt;
&lt;div&gt;
&lt;table border="1" class="dataframe"&gt;
&lt;thead&gt;
&lt;tr style="text-align: right;"&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;AAPL&lt;/th&gt;
&lt;th&gt;GOOG&lt;/th&gt;
&lt;th&gt;IBM&lt;/th&gt;
&lt;th&gt;MSFT&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;th&gt;AAPL&lt;/th&gt;
&lt;td&gt;0.000269&lt;/td&gt;
&lt;td&gt;0.000105&lt;/td&gt;
&lt;td&gt;0.000075&lt;/td&gt;
&lt;td&gt;0.000092&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;GOOG&lt;/th&gt;
&lt;td&gt;0.000105&lt;/td&gt;
&lt;td&gt;0.000244&lt;/td&gt;
&lt;td&gt;0.000075&lt;/td&gt;
&lt;td&gt;0.000106&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;IBM&lt;/th&gt;
&lt;td&gt;0.000075&lt;/td&gt;
&lt;td&gt;0.000075&lt;/td&gt;
&lt;td&gt;0.000144&lt;/td&gt;
&lt;td&gt;0.000086&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;MSFT&lt;/th&gt;
&lt;td&gt;0.000092&lt;/td&gt;
&lt;td&gt;0.000106&lt;/td&gt;
&lt;td&gt;0.000086&lt;/td&gt;
&lt;td&gt;0.000209&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[44]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# 一组相关系数&lt;/span&gt;
&lt;span class="n"&gt;returns&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;corrwith&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;returns&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;IBM&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[44]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;AAPL    0.381495
GOOG    0.402880
IBM     1.000000
MSFT    0.495167
dtype: float64&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[45]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# 一组相关系数( 回报百分比与成交量之间)&lt;/span&gt;
&lt;span class="n"&gt;returns&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;corrwith&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;volume&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[45]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;AAPL   -0.074047
GOOG   -0.009542
IBM    -0.194405
MSFT   -0.091078
dtype: float64&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h1 id="唯一值，值计数和成员资格"&gt;唯一值，值计数和成员资格&lt;a class="anchor-link" href="#唯一值，值计数和成员资格"&gt;&amp;para;&lt;/a&gt;&lt;/h1&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[46]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;obj&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Series&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="s1"&gt;'c'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'a'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'d'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'a'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'a'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'b'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'b'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'c'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'c'&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[47]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;uniques&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;obj&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;unique&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;uniques&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[47]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;array(['c', 'a', 'd', 'b'], dtype=object)&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[48]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;obj&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;value_counts&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[48]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;a    3
c    3
b    2
d    1
dtype: int64&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[49]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;pd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;value_counts&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;obj&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;values&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;sort&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;False&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[49]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;b    2
d    1
c    3
a    3
dtype: int64&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[50]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;mask&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;obj&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;isin&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="s1"&gt;'b'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'c'&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="n"&gt;mask&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[50]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;0     True
1    False
2    False
3    False
4    False
5     True
6     True
7     True
8     True
dtype: bool&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[54]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# 通过 `isin()`的结果进行筛选&lt;/span&gt;
&lt;span class="n"&gt;obj&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;mask&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[54]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;0    c
5    b
6    b
7    c
8    c
dtype: object&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[52]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;DataFrame&lt;/span&gt;&lt;span class="p"&gt;({&lt;/span&gt;&lt;span class="s1"&gt;'Qu1'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
                  &lt;span class="s1"&gt;'Qu2'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
                  &lt;span class="s1"&gt;'Qu3'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;]})&lt;/span&gt;
&lt;span class="n"&gt;data&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[52]:&lt;/div&gt;
&lt;div class="output_html rendered_html output_subarea output_execute_result"&gt;
&lt;div&gt;
&lt;table border="1" class="dataframe"&gt;
&lt;thead&gt;
&lt;tr style="text-align: right;"&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;Qu1&lt;/th&gt;
&lt;th&gt;Qu2&lt;/th&gt;
&lt;th&gt;Qu3&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;th&gt;0&lt;/th&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;1&lt;/th&gt;
&lt;td&gt;3&lt;/td&gt;
&lt;td&gt;3&lt;/td&gt;
&lt;td&gt;5&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;2&lt;/th&gt;
&lt;td&gt;4&lt;/td&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;3&lt;/th&gt;
&lt;td&gt;3&lt;/td&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;td&gt;4&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;4&lt;/th&gt;
&lt;td&gt;4&lt;/td&gt;
&lt;td&gt;3&lt;/td&gt;
&lt;td&gt;4&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[55]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;result&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;apply&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;pd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;value_counts&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;fillna&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;result&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[55]:&lt;/div&gt;
&lt;div class="output_html rendered_html output_subarea output_execute_result"&gt;
&lt;div&gt;
&lt;table border="1" class="dataframe"&gt;
&lt;thead&gt;
&lt;tr style="text-align: right;"&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;Qu1&lt;/th&gt;
&lt;th&gt;Qu2&lt;/th&gt;
&lt;th&gt;Qu3&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;th&gt;1&lt;/th&gt;
&lt;td&gt;1.0&lt;/td&gt;
&lt;td&gt;1.0&lt;/td&gt;
&lt;td&gt;1.0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;2&lt;/th&gt;
&lt;td&gt;0.0&lt;/td&gt;
&lt;td&gt;2.0&lt;/td&gt;
&lt;td&gt;1.0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;3&lt;/th&gt;
&lt;td&gt;2.0&lt;/td&gt;
&lt;td&gt;2.0&lt;/td&gt;
&lt;td&gt;0.0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;4&lt;/th&gt;
&lt;td&gt;2.0&lt;/td&gt;
&lt;td&gt;0.0&lt;/td&gt;
&lt;td&gt;2.0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;5&lt;/th&gt;
&lt;td&gt;0.0&lt;/td&gt;
&lt;td&gt;0.0&lt;/td&gt;
&lt;td&gt;1.0&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[&amp;nbsp;]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt; 
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;script type="text/javascript"&gt;if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
    var mathjaxscript = document.createElement('script');
    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
    mathjaxscript.type = 'text/javascript';
    mathjaxscript.src = '//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML';
    mathjaxscript[(window.opera ? "innerHTML" : "text")] =
        "MathJax.Hub.Config({" +
        "    config: ['MMLorHTML.js']," +
        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } }," +
        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
        "    displayAlign: 'center'," +
        "    displayIndent: '0em'," +
        "    showMathMenu: true," +
        "    tex2jax: { " +
        "        inlineMath: [ ['$','$'] ], " +
        "        displayMath: [ ['$$','$$'] ]," +
        "        processEscapes: true," +
        "        preview: 'TeX'," +
        "    }, " +
        "    'HTML-CSS': { " +
        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'black ! important'} }" +
        "    } " +
        "}); ";
    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
}
&lt;/script&gt;
</content><category term="读书笔记"></category><category term="python"></category></entry><entry><title>利用Python进行数据分析(5.1)：Pandas 中的数据结构</title><link href="http://holbrook.github.io/2017/02/24/python_data_analysis5-1.html" rel="alternate"></link><published>2017-02-24T00:00:00+08:00</published><updated>2017-02-24T00:00:00+08:00</updated><author><name>Holbrook</name></author><id>tag:holbrook.github.io,2017-02-24:/2017/02/24/python_data_analysis5-1.html</id><summary type="html">
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;</summary><content type="html">&lt;style type="text/css"&gt;/*!
*
* IPython notebook
*
*/
/* CSS font colors for translated ANSI colors. */
.ansibold {
  font-weight: bold;
}
/* use dark versions for foreground, to improve visibility */
.ansiblack {
  color: black;
}
.ansired {
  color: darkred;
}
.ansigreen {
  color: darkgreen;
}
.ansiyellow {
  color: #c4a000;
}
.ansiblue {
  color: darkblue;
}
.ansipurple {
  color: darkviolet;
}
.ansicyan {
  color: steelblue;
}
.ansigray {
  color: gray;
}
/* and light for background, for the same reason */
.ansibgblack {
  background-color: black;
}
.ansibgred {
  background-color: red;
}
.ansibggreen {
  background-color: green;
}
.ansibgyellow {
  background-color: yellow;
}
.ansibgblue {
  background-color: blue;
}
.ansibgpurple {
  background-color: magenta;
}
.ansibgcyan {
  background-color: cyan;
}
.ansibggray {
  background-color: gray;
}
div.cell {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  border-radius: 2px;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
  border-width: 1px;
  border-style: solid;
  border-color: transparent;
  width: 100%;
  padding: 5px;
  /* This acts as a spacer between cells, that is outside the border */
  margin: 0px;
  outline: none;
  border-left-width: 1px;
  padding-left: 5px;
  background: linear-gradient(to right, transparent -40px, transparent 1px, transparent 1px, transparent 100%);
}
div.cell.jupyter-soft-selected {
  border-left-color: #90CAF9;
  border-left-color: #E3F2FD;
  border-left-width: 1px;
  padding-left: 5px;
  border-right-color: #E3F2FD;
  border-right-width: 1px;
  background: #E3F2FD;
}
@media print {
  div.cell.jupyter-soft-selected {
    border-color: transparent;
  }
}
div.cell.selected {
  border-color: #ababab;
  border-left-width: 0px;
  padding-left: 6px;
  background: linear-gradient(to right, #42A5F5 -40px, #42A5F5 5px, transparent 5px, transparent 100%);
}
@media print {
  div.cell.selected {
    border-color: transparent;
  }
}
div.cell.selected.jupyter-soft-selected {
  border-left-width: 0;
  padding-left: 6px;
  background: linear-gradient(to right, #42A5F5 -40px, #42A5F5 7px, #E3F2FD 7px, #E3F2FD 100%);
}
.edit_mode div.cell.selected {
  border-color: #66BB6A;
  border-left-width: 0px;
  padding-left: 6px;
  background: linear-gradient(to right, #66BB6A -40px, #66BB6A 5px, transparent 5px, transparent 100%);
}
@media print {
  .edit_mode div.cell.selected {
    border-color: transparent;
  }
}
.prompt {
  /* This needs to be wide enough for 3 digit prompt numbers: In[100]: */
  min-width: 14ex;
  /* This padding is tuned to match the padding on the CodeMirror editor. */
  padding: 0.4em;
  margin: 0px;
  font-family: monospace;
  text-align: right;
  /* This has to match that of the the CodeMirror class line-height below */
  line-height: 1.21429em;
  /* Don't highlight prompt number selection */
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  -khtml-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  /* Use default cursor */
  cursor: default;
}
@media (max-width: 540px) {
  .prompt {
    text-align: left;
  }
}
div.inner_cell {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  /* Old browsers */
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  box-flex: 1;
  /* Modern browsers */
  flex: 1;
}
@-moz-document url-prefix() {
  div.inner_cell {
    overflow-x: hidden;
  }
}
/* input_area and input_prompt must match in top border and margin for alignment */
div.input_area {
  border: 1px solid #cfcfcf;
  border-radius: 2px;
  background: #f7f7f7;
  line-height: 1.21429em;
}
/* This is needed so that empty prompt areas can collapse to zero height when there
   is no content in the output_subarea and the prompt. The main purpose of this is
   to make sure that empty JavaScript output_subareas have no height. */
div.prompt:empty {
  padding-top: 0;
  padding-bottom: 0;
}
div.unrecognized_cell {
  padding: 5px 5px 5px 0px;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
div.unrecognized_cell .inner_cell {
  border-radius: 2px;
  padding: 5px;
  font-weight: bold;
  color: red;
  border: 1px solid #cfcfcf;
  background: #eaeaea;
}
div.unrecognized_cell .inner_cell a {
  color: inherit;
  text-decoration: none;
}
div.unrecognized_cell .inner_cell a:hover {
  color: inherit;
  text-decoration: none;
}
@media (max-width: 540px) {
  div.unrecognized_cell &gt; div.prompt {
    display: none;
  }
}
div.code_cell {
  /* avoid page breaking on code cells when printing */
}
@media print {
  div.code_cell {
    page-break-inside: avoid;
  }
}
/* any special styling for code cells that are currently running goes here */
div.input {
  page-break-inside: avoid;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.input {
    /* Old browsers */
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-box-align: stretch;
    display: -moz-box;
    -moz-box-orient: vertical;
    -moz-box-align: stretch;
    display: box;
    box-orient: vertical;
    box-align: stretch;
    /* Modern browsers */
    display: flex;
    flex-direction: column;
    align-items: stretch;
  }
}
/* input_area and input_prompt must match in top border and margin for alignment */
div.input_prompt {
  color: #303F9F;
  border-top: 1px solid transparent;
}
div.input_area &gt; div.highlight {
  margin: 0.4em;
  border: none;
  padding: 0px;
  background-color: transparent;
}
div.input_area &gt; div.highlight &gt; pre {
  margin: 0px;
  border: none;
  padding: 0px;
  background-color: transparent;
}
/* The following gets added to the &lt;head&gt; if it is detected that the user has a
 * monospace font with inconsistent normal/bold/italic height.  See
 * notebookmain.js.  Such fonts will have keywords vertically offset with
 * respect to the rest of the text.  The user should select a better font.
 * See: https://github.com/ipython/ipython/issues/1503
 *
 * .CodeMirror span {
 *      vertical-align: bottom;
 * }
 */
.CodeMirror {
  line-height: 1.21429em;
  /* Changed from 1em to our global default */
  font-size: 14px;
  height: auto;
  /* Changed to auto to autogrow */
  background: none;
  /* Changed from white to allow our bg to show through */
}
.CodeMirror-scroll {
  /*  The CodeMirror docs are a bit fuzzy on if overflow-y should be hidden or visible.*/
  /*  We have found that if it is visible, vertical scrollbars appear with font size changes.*/
  overflow-y: hidden;
  overflow-x: auto;
}
.CodeMirror-lines {
  /* In CM2, this used to be 0.4em, but in CM3 it went to 4px. We need the em value because */
  /* we have set a different line-height and want this to scale with that. */
  padding: 0.4em;
}
.CodeMirror-linenumber {
  padding: 0 8px 0 4px;
}
.CodeMirror-gutters {
  border-bottom-left-radius: 2px;
  border-top-left-radius: 2px;
}
.CodeMirror pre {
  /* In CM3 this went to 4px from 0 in CM2. We need the 0 value because of how we size */
  /* .CodeMirror-lines */
  padding: 0;
  border: 0;
  border-radius: 0;
}
/*

Original style from softwaremaniacs.org (c) Ivan Sagalaev &lt;Maniac@SoftwareManiacs.Org&gt;
Adapted from GitHub theme

*/
.highlight-base {
  color: #000;
}
.highlight-variable {
  color: #000;
}
.highlight-variable-2 {
  color: #1a1a1a;
}
.highlight-variable-3 {
  color: #333333;
}
.highlight-string {
  color: #BA2121;
}
.highlight-comment {
  color: #408080;
  font-style: italic;
}
.highlight-number {
  color: #080;
}
.highlight-atom {
  color: #88F;
}
.highlight-keyword {
  color: #008000;
  font-weight: bold;
}
.highlight-builtin {
  color: #008000;
}
.highlight-error {
  color: #f00;
}
.highlight-operator {
  color: #AA22FF;
  font-weight: bold;
}
.highlight-meta {
  color: #AA22FF;
}
/* previously not defined, copying from default codemirror */
.highlight-def {
  color: #00f;
}
.highlight-string-2 {
  color: #f50;
}
.highlight-qualifier {
  color: #555;
}
.highlight-bracket {
  color: #997;
}
.highlight-tag {
  color: #170;
}
.highlight-attribute {
  color: #00c;
}
.highlight-header {
  color: blue;
}
.highlight-quote {
  color: #090;
}
.highlight-link {
  color: #00c;
}
/* apply the same style to codemirror */
.cm-s-ipython span.cm-keyword {
  color: #008000;
  font-weight: bold;
}
.cm-s-ipython span.cm-atom {
  color: #88F;
}
.cm-s-ipython span.cm-number {
  color: #080;
}
.cm-s-ipython span.cm-def {
  color: #00f;
}
.cm-s-ipython span.cm-variable {
  color: #000;
}
.cm-s-ipython span.cm-operator {
  color: #AA22FF;
  font-weight: bold;
}
.cm-s-ipython span.cm-variable-2 {
  color: #1a1a1a;
}
.cm-s-ipython span.cm-variable-3 {
  color: #333333;
}
.cm-s-ipython span.cm-comment {
  color: #408080;
  font-style: italic;
}
.cm-s-ipython span.cm-string {
  color: #BA2121;
}
.cm-s-ipython span.cm-string-2 {
  color: #f50;
}
.cm-s-ipython span.cm-meta {
  color: #AA22FF;
}
.cm-s-ipython span.cm-qualifier {
  color: #555;
}
.cm-s-ipython span.cm-builtin {
  color: #008000;
}
.cm-s-ipython span.cm-bracket {
  color: #997;
}
.cm-s-ipython span.cm-tag {
  color: #170;
}
.cm-s-ipython span.cm-attribute {
  color: #00c;
}
.cm-s-ipython span.cm-header {
  color: blue;
}
.cm-s-ipython span.cm-quote {
  color: #090;
}
.cm-s-ipython span.cm-link {
  color: #00c;
}
.cm-s-ipython span.cm-error {
  color: #f00;
}
.cm-s-ipython span.cm-tab {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAMCAYAAAAkuj5RAAAAAXNSR0IArs4c6QAAAGFJREFUSMft1LsRQFAQheHPowAKoACx3IgEKtaEHujDjORSgWTH/ZOdnZOcM/sgk/kFFWY0qV8foQwS4MKBCS3qR6ixBJvElOobYAtivseIE120FaowJPN75GMu8j/LfMwNjh4HUpwg4LUAAAAASUVORK5CYII=);
  background-position: right;
  background-repeat: no-repeat;
}
div.output_wrapper {
  /* this position must be relative to enable descendents to be absolute within it */
  position: relative;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  z-index: 1;
}
/* class for the output area when it should be height-limited */
div.output_scroll {
  /* ideally, this would be max-height, but FF barfs all over that */
  height: 24em;
  /* FF needs this *and the wrapper* to specify full width, or it will shrinkwrap */
  width: 100%;
  overflow: auto;
  border-radius: 2px;
  -webkit-box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.8);
  box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.8);
  display: block;
}
/* output div while it is collapsed */
div.output_collapsed {
  margin: 0px;
  padding: 0px;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
div.out_prompt_overlay {
  height: 100%;
  padding: 0px 0.4em;
  position: absolute;
  border-radius: 2px;
}
div.out_prompt_overlay:hover {
  /* use inner shadow to get border that is computed the same on WebKit/FF */
  -webkit-box-shadow: inset 0 0 1px #000;
  box-shadow: inset 0 0 1px #000;
  background: rgba(240, 240, 240, 0.5);
}
div.output_prompt {
  color: #D84315;
}
/* This class is the outer container of all output sections. */
div.output_area {
  padding: 0px;
  page-break-inside: avoid;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
div.output_area .MathJax_Display {
  text-align: left !important;
}
div.output_area 
div.output_area 
div.output_area img,
div.output_area svg {
  max-width: 100%;
  height: auto;
}
div.output_area img.unconfined,
div.output_area svg.unconfined {
  max-width: none;
}
/* This is needed to protect the pre formating from global settings such
   as that of bootstrap */
.output {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.output_area {
    /* Old browsers */
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-box-align: stretch;
    display: -moz-box;
    -moz-box-orient: vertical;
    -moz-box-align: stretch;
    display: box;
    box-orient: vertical;
    box-align: stretch;
    /* Modern browsers */
    display: flex;
    flex-direction: column;
    align-items: stretch;
  }
}
div.output_area pre {
  margin: 0;
  padding: 0;
  border: 0;
  vertical-align: baseline;
  color: black;
  background-color: transparent;
  border-radius: 0;
}
/* This class is for the output subarea inside the output_area and after
   the prompt div. */
div.output_subarea {
  overflow-x: auto;
  padding: 0.4em;
  /* Old browsers */
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  box-flex: 1;
  /* Modern browsers */
  flex: 1;
  max-width: calc(100% - 14ex);
}
div.output_scroll div.output_subarea {
  overflow-x: visible;
}
/* The rest of the output_* classes are for special styling of the different
   output types */
/* all text output has this class: */
div.output_text {
  text-align: left;
  color: #000;
  /* This has to match that of the the CodeMirror class line-height below */
  line-height: 1.21429em;
}
/* stdout/stderr are 'text' as well as 'stream', but execute_result/error are *not* streams */
div.output_stderr {
  background: #fdd;
  /* very light red background for stderr */
}
div.output_latex {
  text-align: left;
}
/* Empty output_javascript divs should have no height */
div.output_javascript:empty {
  padding: 0;
}
.js-error {
  color: darkred;
}
/* raw_input styles */
div.raw_input_container {
  line-height: 1.21429em;
  padding-top: 5px;
}
pre.raw_input_prompt {
  /* nothing needed here. */
}
input.raw_input {
  font-family: monospace;
  font-size: inherit;
  color: inherit;
  width: auto;
  /* make sure input baseline aligns with prompt */
  vertical-align: baseline;
  /* padding + margin = 0.5em between prompt and cursor */
  padding: 0em 0.25em;
  margin: 0em 0.25em;
}
input.raw_input:focus {
  box-shadow: none;
}
p.p-space {
  margin-bottom: 10px;
}
div.output_unrecognized {
  padding: 5px;
  font-weight: bold;
  color: red;
}
div.output_unrecognized a {
  color: inherit;
  text-decoration: none;
}
div.output_unrecognized a:hover {
  color: inherit;
  text-decoration: none;
}
.rendered_html {
  color: #000;
  /* any extras will just be numbers: */
}



.rendered_html :link {
  text-decoration: underline;
}
.rendered_html :visited {
  text-decoration: underline;
}






.rendered_html h1:first-child {
  margin-top: 0.538em;
}
.rendered_html h2:first-child {
  margin-top: 0.636em;
}
.rendered_html h3:first-child {
  margin-top: 0.777em;
}
.rendered_html h4:first-child {
  margin-top: 1em;
}
.rendered_html h5:first-child {
  margin-top: 1em;
}
.rendered_html h6:first-child {
  margin-top: 1em;
}








.rendered_html * + ul {
  margin-top: 1em;
}
.rendered_html * + ol {
  margin-top: 1em;
}


.rendered_html pre,



.rendered_html tr,
.rendered_html th,

.rendered_html td,


.rendered_html * + table {
  margin-top: 1em;
}

.rendered_html * + p {
  margin-top: 1em;
}

.rendered_html * + img {
  margin-top: 1em;
}
.rendered_html img,

.rendered_html img.unconfined,

div.text_cell {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.text_cell &gt; div.prompt {
    display: none;
  }
}
div.text_cell_render {
  /*font-family: "Helvetica Neue", Arial, Helvetica, Geneva, sans-serif;*/
  outline: none;
  resize: none;
  width: inherit;
  border-style: none;
  padding: 0.5em 0.5em 0.5em 0.4em;
  color: #000;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
}
a.anchor-link:link {
  text-decoration: none;
  padding: 0px 20px;
  visibility: hidden;
}
h1:hover .anchor-link,
h2:hover .anchor-link,
h3:hover .anchor-link,
h4:hover .anchor-link,
h5:hover .anchor-link,
h6:hover .anchor-link {
  visibility: visible;
}
.text_cell.rendered .input_area {
  display: none;
}
.text_cell.rendered 
.text_cell.unrendered .text_cell_render {
  display: none;
}
.cm-header-1,
.cm-header-2,
.cm-header-3,
.cm-header-4,
.cm-header-5,
.cm-header-6 {
  font-weight: bold;
  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
}
.cm-header-1 {
  font-size: 185.7%;
}
.cm-header-2 {
  font-size: 157.1%;
}
.cm-header-3 {
  font-size: 128.6%;
}
.cm-header-4 {
  font-size: 110%;
}
.cm-header-5 {
  font-size: 100%;
  font-style: italic;
}
.cm-header-6 {
  font-size: 100%;
  font-style: italic;
}
&lt;/style&gt;
&lt;style type="text/css"&gt;.highlight .hll { background-color: #ffffcc }
.highlight  { background: #f8f8f8; }
.highlight .c { color: #408080; font-style: italic } /* Comment */
.highlight .err { border: 1px solid #FF0000 } /* Error */
.highlight .k { color: #008000; font-weight: bold } /* Keyword */
.highlight .o { color: #666666 } /* Operator */
.highlight .ch { color: #408080; font-style: italic } /* Comment.Hashbang */
.highlight .cm { color: #408080; font-style: italic } /* Comment.Multiline */
.highlight .cp { color: #BC7A00 } /* Comment.Preproc */
.highlight .cpf { color: #408080; font-style: italic } /* Comment.PreprocFile */
.highlight .c1 { color: #408080; font-style: italic } /* Comment.Single */
.highlight .cs { color: #408080; font-style: italic } /* Comment.Special */
.highlight .gd { color: #A00000 } /* Generic.Deleted */
.highlight .ge { font-style: italic } /* Generic.Emph */
.highlight .gr { color: #FF0000 } /* Generic.Error */
.highlight .gh { color: #000080; font-weight: bold } /* Generic.Heading */
.highlight .gi { color: #00A000 } /* Generic.Inserted */
.highlight .go { color: #888888 } /* Generic.Output */
.highlight .gp { color: #000080; font-weight: bold } /* Generic.Prompt */
.highlight .gs { font-weight: bold } /* Generic.Strong */
.highlight .gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.highlight .gt { color: #0044DD } /* Generic.Traceback */
.highlight .kc { color: #008000; font-weight: bold } /* Keyword.Constant */
.highlight .kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
.highlight .kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
.highlight .kp { color: #008000 } /* Keyword.Pseudo */
.highlight .kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
.highlight .kt { color: #B00040 } /* Keyword.Type */
.highlight .m { color: #666666 } /* Literal.Number */
.highlight .s { color: #BA2121 } /* Literal.String */
.highlight .na { color: #7D9029 } /* Name.Attribute */
.highlight .nb { color: #008000 } /* Name.Builtin */
.highlight .nc { color: #0000FF; font-weight: bold } /* Name.Class */
.highlight .no { color: #880000 } /* Name.Constant */
.highlight .nd { color: #AA22FF } /* Name.Decorator */
.highlight .ni { color: #999999; font-weight: bold } /* Name.Entity */
.highlight .ne { color: #D2413A; font-weight: bold } /* Name.Exception */
.highlight .nf { color: #0000FF } /* Name.Function */
.highlight .nl { color: #A0A000 } /* Name.Label */
.highlight .nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
.highlight .nt { color: #008000; font-weight: bold } /* Name.Tag */
.highlight .nv { color: #19177C } /* Name.Variable */
.highlight .ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
.highlight .w { color: #bbbbbb } /* Text.Whitespace */
.highlight .mb { color: #666666 } /* Literal.Number.Bin */
.highlight .mf { color: #666666 } /* Literal.Number.Float */
.highlight .mh { color: #666666 } /* Literal.Number.Hex */
.highlight .mi { color: #666666 } /* Literal.Number.Integer */
.highlight .mo { color: #666666 } /* Literal.Number.Oct */
.highlight .sb { color: #BA2121 } /* Literal.String.Backtick */
.highlight .sc { color: #BA2121 } /* Literal.String.Char */
.highlight .sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */
.highlight .s2 { color: #BA2121 } /* Literal.String.Double */
.highlight .se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */
.highlight .sh { color: #BA2121 } /* Literal.String.Heredoc */
.highlight .si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */
.highlight .sx { color: #008000 } /* Literal.String.Other */
.highlight .sr { color: #BB6688 } /* Literal.String.Regex */
.highlight .s1 { color: #BA2121 } /* Literal.String.Single */
.highlight .ss { color: #19177C } /* Literal.String.Symbol */
.highlight .bp { color: #008000 } /* Name.Builtin.Pseudo */
.highlight .vc { color: #19177C } /* Name.Variable.Class */
.highlight .vg { color: #19177C } /* Name.Variable.Global */
.highlight .vi { color: #19177C } /* Name.Variable.Instance */
.highlight .il { color: #666666 } /* Literal.Number.Integer.Long */&lt;/style&gt;
&lt;style type="text/css"&gt;
/* Temporary definitions which will become obsolete with Notebook release 5.0 */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-bold { font-weight: bold; }
&lt;/style&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[39]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="o"&gt;%&lt;/span&gt;&lt;span class="k"&gt;pylab&lt;/span&gt; inline
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;pandas&lt;/span&gt; &lt;span class="k"&gt;import&lt;/span&gt; &lt;span class="n"&gt;Series&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;DataFrame&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;pandas&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;pd&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;div class="output_subarea output_stream output_stdout output_text"&gt;
&lt;pre&gt;Populating the interactive namespace from numpy and matplotlib
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;《&lt;a href="https://book.douban.com/subject/25779298/"&gt;利用Python进行数据分析&lt;/a&gt;》
作者: Wes McKinney
译者: 唐学韬&lt;/p&gt;
&lt;p&gt;Pandas中两个主要的数据结构是 &lt;code&gt;Series&lt;/code&gt; 和 &lt;code&gt;DataFrame&lt;/code&gt;，两个数据结构中都使用了索引(&lt;code&gt;Index&lt;/code&gt;)对象。&lt;/p&gt;
&lt;h1 id="Series"&gt;Series&lt;a class="anchor-link" href="#Series"&gt;&amp;para;&lt;/a&gt;&lt;/h1&gt;&lt;p&gt;Series是一组带索引的数组。包含一组数据（各种NumPy数据类型）和与之相关的一组数据标签（即索引）。&lt;/p&gt;
&lt;p&gt;可以用index和values分别规定索引和值。如果不规定索引，会自动创建 0 到 N-1 索引。&lt;/p&gt;
&lt;h2 id="最简单的-Series"&gt;最简单的 Series&lt;a class="anchor-link" href="#最简单的-Series"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[40]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;#  只包含一组数据的 Series&lt;/span&gt;
&lt;span class="n"&gt;obj&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Series&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;7&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="n"&gt;obj&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[40]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;0    4
1    7
2   -5
3    3
dtype: int64&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[41]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;obj&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;index&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[41]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;RangeIndex(start=0, stop=4, step=1)&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[42]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;obj&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;values&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[42]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;array([ 4,  7, -5,  3])&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="指定索引"&gt;指定索引&lt;a class="anchor-link" href="#指定索引"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[43]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;obj2&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Series&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;7&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;index&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'d'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'b'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'a'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'c'&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="n"&gt;obj2&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[43]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;d    4
b    7
a   -5
c    3
dtype: int64&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="通过索引获取数据"&gt;通过索引获取数据&lt;a class="anchor-link" href="#通过索引获取数据"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[44]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;#  取单行数据&lt;/span&gt;
&lt;span class="n"&gt;obj2&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'d'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[44]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;4&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[45]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# 取多行数据&lt;/span&gt;
&lt;span class="n"&gt;obj2&lt;/span&gt;&lt;span class="p"&gt;[[&lt;/span&gt;&lt;span class="s1"&gt;'c'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'a'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'d'&lt;/span&gt;&lt;span class="p"&gt;]]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[45]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;c    3
a   -5
d    4
dtype: int64&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="按条件获取数据"&gt;按条件获取数据&lt;a class="anchor-link" href="#按条件获取数据"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[46]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;obj2&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;obj2&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[46]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;d    4
b    7
c    3
dtype: int64&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="数组运算"&gt;数组运算&lt;a class="anchor-link" href="#数组运算"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;对数组进行计算，只改变值，不会改变索引&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[47]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;obj2&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[47]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;d     8
b    14
a   -10
c     6
dtype: int64&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[48]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;exp&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;obj2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[48]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;d      54.598150
b    1096.633158
a       0.006738
c      20.085537
dtype: float64&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="改变索引"&gt;改变索引&lt;a class="anchor-link" href="#改变索引"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[49]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;obj2&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[49]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;d    4
b    7
a   -5
c    3
dtype: int64&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[50]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;obj2&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;index&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'Bob'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'Steve'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'Jeff'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'Ryan'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;obj2&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[50]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;Bob      4
Steve    7
Jeff    -5
Ryan     3
dtype: int64&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="作为Dictionary"&gt;作为Dictionary&lt;a class="anchor-link" href="#作为Dictionary"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;可以将 Series 看作一个定长有序字典。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[51]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="s1"&gt;'b'&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;obj2&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[51]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;False&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[52]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;#  通过 Dictionary 直接创建 Series&lt;/span&gt;
&lt;span class="n"&gt;sdata&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s1"&gt;'Ohio'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;35000&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'Texas'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;71000&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'Oregon'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;16000&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'Utah'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;5000&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="n"&gt;obj3&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Series&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;sdata&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;obj3&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[52]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;Ohio      35000
Oregon    16000
Texas     71000
Utah       5000
dtype: int64&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[53]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# 重建索引，并按索引筛选数据&lt;/span&gt;
&lt;span class="c1"&gt;# 注意，索引 `California`  对应的值为 NaN&lt;/span&gt;
&lt;span class="n"&gt;states&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'California'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'Ohio'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'Oregon'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'Texas'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;obj4&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Series&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;sdata&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;index&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;states&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;obj4&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[53]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;California        NaN
Ohio          35000.0
Oregon        16000.0
Texas         71000.0
dtype: float64&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[&amp;nbsp;]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt; 
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="数据检查"&gt;数据检查&lt;a class="anchor-link" href="#数据检查"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[54]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;pd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;isnull&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;obj4&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c1"&gt;# 等价于 obj4.isnull()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[54]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;California     True
Ohio          False
Oregon        False
Texas         False
dtype: bool&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[55]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;pd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;notnull&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;obj4&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c1"&gt;#  等价于 obj4.notnull()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[55]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;California    False
Ohio           True
Oregon         True
Texas          True
dtype: bool&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="自动对齐索引"&gt;自动对齐索引&lt;a class="anchor-link" href="#自动对齐索引"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Series很重要的功能就是按照索引自动对齐。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[56]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;obj3&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[56]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;Ohio      35000
Oregon    16000
Texas     71000
Utah       5000
dtype: int64&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[57]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;obj4&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[57]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;California        NaN
Ohio          35000.0
Oregon        16000.0
Texas         71000.0
dtype: float64&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[58]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;obj3&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;obj4&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[58]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;California         NaN
Ohio           70000.0
Oregon         32000.0
Texas         142000.0
Utah               NaN
dtype: float64&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="命名"&gt;命名&lt;a class="anchor-link" href="#命名"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Series 自身和索引都可以命名。这个设计对于 Pandas 其他模块很重要。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[59]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;obj4&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;'population'&lt;/span&gt;
&lt;span class="n"&gt;obj4&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;index&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;'state'&lt;/span&gt;
&lt;span class="n"&gt;obj4&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[59]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;state
California        NaN
Ohio          35000.0
Oregon        16000.0
Texas         71000.0
Name: population, dtype: float64&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[60]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;obj4&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;index&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[60]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;Index(['California', 'Ohio', 'Oregon', 'Texas'], dtype='object', name='state')&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h1 id="DataFrame_1"&gt;DataFrame&lt;a class="anchor-link" href="#DataFrame"&gt;&amp;para;&lt;/a&gt;&lt;/h1&gt;&lt;p&gt;DataFrame 是一种表格型结构，含有一组有序的列，每一列可以是不同的数据类型。&lt;/p&gt;
&lt;p&gt;DataFrame 可以看做是共用索引的、由Series组成的字典。其中，共用的索引是整个 DataFrame 的行索引，而各个 Series 的名字作为列索引。&lt;/p&gt;
&lt;p&gt;DataFrame面向行和列的操作基本是平衡的。其实，DataFrame中的数据是以一个或者多个二维块存放的（不是列表、字典或者其他）。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="创建-DataFrame"&gt;创建 DataFrame&lt;a class="anchor-link" href="#创建-DataFrame"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[92]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;#  使用字典创建&lt;/span&gt;
&lt;span class="n"&gt;data&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s1"&gt;'state'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'Ohio'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'Ohio'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'Ohio'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'Nevada'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'Nevada'&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
        &lt;span class="s1"&gt;'year'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;2000&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2001&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2002&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2001&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2002&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
        &lt;span class="s1"&gt;'pop'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mf"&gt;1.5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;1.7&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;3.6&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;2.4&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;2.9&lt;/span&gt;&lt;span class="p"&gt;]}&lt;/span&gt;
&lt;span class="n"&gt;frame&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;DataFrame&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;frame&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[92]:&lt;/div&gt;
&lt;div class="output_html rendered_html output_subarea output_execute_result"&gt;
&lt;div&gt;
&lt;table border="1" class="dataframe"&gt;
&lt;thead&gt;
&lt;tr style="text-align: right;"&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;pop&lt;/th&gt;
&lt;th&gt;state&lt;/th&gt;
&lt;th&gt;year&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;th&gt;0&lt;/th&gt;
&lt;td&gt;1.5&lt;/td&gt;
&lt;td&gt;Ohio&lt;/td&gt;
&lt;td&gt;2000&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;1&lt;/th&gt;
&lt;td&gt;1.7&lt;/td&gt;
&lt;td&gt;Ohio&lt;/td&gt;
&lt;td&gt;2001&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;2&lt;/th&gt;
&lt;td&gt;3.6&lt;/td&gt;
&lt;td&gt;Ohio&lt;/td&gt;
&lt;td&gt;2002&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;3&lt;/th&gt;
&lt;td&gt;2.4&lt;/td&gt;
&lt;td&gt;Nevada&lt;/td&gt;
&lt;td&gt;2001&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;4&lt;/th&gt;
&lt;td&gt;2.9&lt;/td&gt;
&lt;td&gt;Nevada&lt;/td&gt;
&lt;td&gt;2002&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[66]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# 更改列顺序&lt;/span&gt;
&lt;span class="n"&gt;DataFrame&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;columns&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'year'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'state'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'pop'&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[66]:&lt;/div&gt;
&lt;div class="output_html rendered_html output_subarea output_execute_result"&gt;
&lt;div&gt;
&lt;table border="1" class="dataframe"&gt;
&lt;thead&gt;
&lt;tr style="text-align: right;"&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;year&lt;/th&gt;
&lt;th&gt;state&lt;/th&gt;
&lt;th&gt;pop&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;th&gt;0&lt;/th&gt;
&lt;td&gt;2000&lt;/td&gt;
&lt;td&gt;Ohio&lt;/td&gt;
&lt;td&gt;1.5&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;1&lt;/th&gt;
&lt;td&gt;2001&lt;/td&gt;
&lt;td&gt;Ohio&lt;/td&gt;
&lt;td&gt;1.7&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;2&lt;/th&gt;
&lt;td&gt;2002&lt;/td&gt;
&lt;td&gt;Ohio&lt;/td&gt;
&lt;td&gt;3.6&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;3&lt;/th&gt;
&lt;td&gt;2001&lt;/td&gt;
&lt;td&gt;Nevada&lt;/td&gt;
&lt;td&gt;2.4&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;4&lt;/th&gt;
&lt;td&gt;2002&lt;/td&gt;
&lt;td&gt;Nevada&lt;/td&gt;
&lt;td&gt;2.9&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[68]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# 与行索引的机制类似，找不到的列，会用 NaN 填充&lt;/span&gt;
&lt;span class="n"&gt;frame2&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;DataFrame&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;columns&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'year'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'state'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'pop'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'debt'&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
                   &lt;span class="n"&gt;index&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'one'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'two'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'three'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'four'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'five'&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="n"&gt;frame2&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[68]:&lt;/div&gt;
&lt;div class="output_html rendered_html output_subarea output_execute_result"&gt;
&lt;div&gt;
&lt;table border="1" class="dataframe"&gt;
&lt;thead&gt;
&lt;tr style="text-align: right;"&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;year&lt;/th&gt;
&lt;th&gt;state&lt;/th&gt;
&lt;th&gt;pop&lt;/th&gt;
&lt;th&gt;debt&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;th&gt;one&lt;/th&gt;
&lt;td&gt;2000&lt;/td&gt;
&lt;td&gt;Ohio&lt;/td&gt;
&lt;td&gt;1.5&lt;/td&gt;
&lt;td&gt;NaN&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;two&lt;/th&gt;
&lt;td&gt;2001&lt;/td&gt;
&lt;td&gt;Ohio&lt;/td&gt;
&lt;td&gt;1.7&lt;/td&gt;
&lt;td&gt;NaN&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;three&lt;/th&gt;
&lt;td&gt;2002&lt;/td&gt;
&lt;td&gt;Ohio&lt;/td&gt;
&lt;td&gt;3.6&lt;/td&gt;
&lt;td&gt;NaN&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;four&lt;/th&gt;
&lt;td&gt;2001&lt;/td&gt;
&lt;td&gt;Nevada&lt;/td&gt;
&lt;td&gt;2.4&lt;/td&gt;
&lt;td&gt;NaN&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;five&lt;/th&gt;
&lt;td&gt;2002&lt;/td&gt;
&lt;td&gt;Nevada&lt;/td&gt;
&lt;td&gt;2.9&lt;/td&gt;
&lt;td&gt;NaN&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="得到列"&gt;得到列&lt;a class="anchor-link" href="#得到列"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[70]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# 列是关于 Series 的字典&lt;/span&gt;
&lt;span class="n"&gt;frame2&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;columns&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[70]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;Index(['year', 'state', 'pop', 'debt'], dtype='object')&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[72]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# 获取某一列&lt;/span&gt;
&lt;span class="n"&gt;frame2&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'state'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[72]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;one        Ohio
two        Ohio
three      Ohio
four     Nevada
five     Nevada
Name: state, dtype: object&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[74]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# 也可以用属性的方式获取 DataFrame 中的某一列&lt;/span&gt;
&lt;span class="n"&gt;frame2&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;year&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[74]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;one      2000
two      2001
three    2002
four     2001
five     2002
Name: year, dtype: int64&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[78]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;#  获取多个列，还是 DataFrame, 此时为&amp;ldquo;切片&amp;rdquo;操作&lt;/span&gt;
&lt;span class="n"&gt;frame2&lt;/span&gt;&lt;span class="p"&gt;[[&lt;/span&gt;&lt;span class="s1"&gt;'state'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;'year'&lt;/span&gt;&lt;span class="p"&gt;]]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[78]:&lt;/div&gt;
&lt;div class="output_html rendered_html output_subarea output_execute_result"&gt;
&lt;div&gt;
&lt;table border="1" class="dataframe"&gt;
&lt;thead&gt;
&lt;tr style="text-align: right;"&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;state&lt;/th&gt;
&lt;th&gt;year&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;th&gt;one&lt;/th&gt;
&lt;td&gt;Ohio&lt;/td&gt;
&lt;td&gt;2000&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;two&lt;/th&gt;
&lt;td&gt;Ohio&lt;/td&gt;
&lt;td&gt;2001&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;three&lt;/th&gt;
&lt;td&gt;Ohio&lt;/td&gt;
&lt;td&gt;2002&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;four&lt;/th&gt;
&lt;td&gt;Nevada&lt;/td&gt;
&lt;td&gt;2001&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;five&lt;/th&gt;
&lt;td&gt;Nevada&lt;/td&gt;
&lt;td&gt;2002&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="得到行"&gt;得到行&lt;a class="anchor-link" href="#得到行"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;通过索引可以得到 DataFrame 的一行，行也是一个 Series.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[79]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;frame2&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ix&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'three'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[79]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;year     2002
state    Ohio
pop       3.6
debt      NaN
Name: three, dtype: object&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="按列赋值"&gt;按列赋值&lt;a class="anchor-link" href="#按列赋值"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[81]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# 整列赋相同值&lt;/span&gt;
&lt;span class="n"&gt;frame2&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'debt'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mf"&gt;16.5&lt;/span&gt;
&lt;span class="n"&gt;frame2&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[81]:&lt;/div&gt;
&lt;div class="output_html rendered_html output_subarea output_execute_result"&gt;
&lt;div&gt;
&lt;table border="1" class="dataframe"&gt;
&lt;thead&gt;
&lt;tr style="text-align: right;"&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;year&lt;/th&gt;
&lt;th&gt;state&lt;/th&gt;
&lt;th&gt;pop&lt;/th&gt;
&lt;th&gt;debt&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;th&gt;one&lt;/th&gt;
&lt;td&gt;2000&lt;/td&gt;
&lt;td&gt;Ohio&lt;/td&gt;
&lt;td&gt;1.5&lt;/td&gt;
&lt;td&gt;16.5&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;two&lt;/th&gt;
&lt;td&gt;2001&lt;/td&gt;
&lt;td&gt;Ohio&lt;/td&gt;
&lt;td&gt;1.7&lt;/td&gt;
&lt;td&gt;16.5&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;three&lt;/th&gt;
&lt;td&gt;2002&lt;/td&gt;
&lt;td&gt;Ohio&lt;/td&gt;
&lt;td&gt;3.6&lt;/td&gt;
&lt;td&gt;16.5&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;four&lt;/th&gt;
&lt;td&gt;2001&lt;/td&gt;
&lt;td&gt;Nevada&lt;/td&gt;
&lt;td&gt;2.4&lt;/td&gt;
&lt;td&gt;16.5&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;five&lt;/th&gt;
&lt;td&gt;2002&lt;/td&gt;
&lt;td&gt;Nevada&lt;/td&gt;
&lt;td&gt;2.9&lt;/td&gt;
&lt;td&gt;16.5&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[84]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# 用一个 array 或 narray 对列赋值&lt;/span&gt;
&lt;span class="n"&gt;frame2&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'debt'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;arange&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mf"&gt;5.&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;frame2&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[84]:&lt;/div&gt;
&lt;div class="output_html rendered_html output_subarea output_execute_result"&gt;
&lt;div&gt;
&lt;table border="1" class="dataframe"&gt;
&lt;thead&gt;
&lt;tr style="text-align: right;"&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;year&lt;/th&gt;
&lt;th&gt;state&lt;/th&gt;
&lt;th&gt;pop&lt;/th&gt;
&lt;th&gt;debt&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;th&gt;one&lt;/th&gt;
&lt;td&gt;2000&lt;/td&gt;
&lt;td&gt;Ohio&lt;/td&gt;
&lt;td&gt;1.5&lt;/td&gt;
&lt;td&gt;0.0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;two&lt;/th&gt;
&lt;td&gt;2001&lt;/td&gt;
&lt;td&gt;Ohio&lt;/td&gt;
&lt;td&gt;1.7&lt;/td&gt;
&lt;td&gt;1.0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;three&lt;/th&gt;
&lt;td&gt;2002&lt;/td&gt;
&lt;td&gt;Ohio&lt;/td&gt;
&lt;td&gt;3.6&lt;/td&gt;
&lt;td&gt;2.0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;four&lt;/th&gt;
&lt;td&gt;2001&lt;/td&gt;
&lt;td&gt;Nevada&lt;/td&gt;
&lt;td&gt;2.4&lt;/td&gt;
&lt;td&gt;3.0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;five&lt;/th&gt;
&lt;td&gt;2002&lt;/td&gt;
&lt;td&gt;Nevada&lt;/td&gt;
&lt;td&gt;2.9&lt;/td&gt;
&lt;td&gt;4.0&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[86]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# 使用 Series，可以根据索引对列精确赋值&lt;/span&gt;
&lt;span class="c1"&gt;# 注意其中的空值&lt;/span&gt;
&lt;span class="n"&gt;val&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Series&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;1.2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;1.5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;1.7&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;index&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'two'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'four'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'five'&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="n"&gt;frame2&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'debt'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;val&lt;/span&gt;
&lt;span class="n"&gt;frame2&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[86]:&lt;/div&gt;
&lt;div class="output_html rendered_html output_subarea output_execute_result"&gt;
&lt;div&gt;
&lt;table border="1" class="dataframe"&gt;
&lt;thead&gt;
&lt;tr style="text-align: right;"&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;year&lt;/th&gt;
&lt;th&gt;state&lt;/th&gt;
&lt;th&gt;pop&lt;/th&gt;
&lt;th&gt;debt&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;th&gt;one&lt;/th&gt;
&lt;td&gt;2000&lt;/td&gt;
&lt;td&gt;Ohio&lt;/td&gt;
&lt;td&gt;1.5&lt;/td&gt;
&lt;td&gt;NaN&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;two&lt;/th&gt;
&lt;td&gt;2001&lt;/td&gt;
&lt;td&gt;Ohio&lt;/td&gt;
&lt;td&gt;1.7&lt;/td&gt;
&lt;td&gt;-1.2&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;three&lt;/th&gt;
&lt;td&gt;2002&lt;/td&gt;
&lt;td&gt;Ohio&lt;/td&gt;
&lt;td&gt;3.6&lt;/td&gt;
&lt;td&gt;NaN&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;four&lt;/th&gt;
&lt;td&gt;2001&lt;/td&gt;
&lt;td&gt;Nevada&lt;/td&gt;
&lt;td&gt;2.4&lt;/td&gt;
&lt;td&gt;-1.5&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;five&lt;/th&gt;
&lt;td&gt;2002&lt;/td&gt;
&lt;td&gt;Nevada&lt;/td&gt;
&lt;td&gt;2.9&lt;/td&gt;
&lt;td&gt;-1.7&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="增加和删除列"&gt;增加和删除列&lt;a class="anchor-link" href="#增加和删除列"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[90]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# 对不存在的列赋值会增加列&lt;/span&gt;
&lt;span class="n"&gt;frame2&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'eastern'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;frame2&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;state&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s1"&gt;'Ohio'&lt;/span&gt;
&lt;span class="n"&gt;frame2&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[90]:&lt;/div&gt;
&lt;div class="output_html rendered_html output_subarea output_execute_result"&gt;
&lt;div&gt;
&lt;table border="1" class="dataframe"&gt;
&lt;thead&gt;
&lt;tr style="text-align: right;"&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;year&lt;/th&gt;
&lt;th&gt;state&lt;/th&gt;
&lt;th&gt;pop&lt;/th&gt;
&lt;th&gt;debt&lt;/th&gt;
&lt;th&gt;eastern&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;th&gt;one&lt;/th&gt;
&lt;td&gt;2000&lt;/td&gt;
&lt;td&gt;Ohio&lt;/td&gt;
&lt;td&gt;1.5&lt;/td&gt;
&lt;td&gt;NaN&lt;/td&gt;
&lt;td&gt;True&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;two&lt;/th&gt;
&lt;td&gt;2001&lt;/td&gt;
&lt;td&gt;Ohio&lt;/td&gt;
&lt;td&gt;1.7&lt;/td&gt;
&lt;td&gt;-1.2&lt;/td&gt;
&lt;td&gt;True&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;three&lt;/th&gt;
&lt;td&gt;2002&lt;/td&gt;
&lt;td&gt;Ohio&lt;/td&gt;
&lt;td&gt;3.6&lt;/td&gt;
&lt;td&gt;NaN&lt;/td&gt;
&lt;td&gt;True&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;four&lt;/th&gt;
&lt;td&gt;2001&lt;/td&gt;
&lt;td&gt;Nevada&lt;/td&gt;
&lt;td&gt;2.4&lt;/td&gt;
&lt;td&gt;-1.5&lt;/td&gt;
&lt;td&gt;False&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;five&lt;/th&gt;
&lt;td&gt;2002&lt;/td&gt;
&lt;td&gt;Nevada&lt;/td&gt;
&lt;td&gt;2.9&lt;/td&gt;
&lt;td&gt;-1.7&lt;/td&gt;
&lt;td&gt;False&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[91]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# 使用 `del` 删除列&lt;/span&gt;
&lt;span class="k"&gt;del&lt;/span&gt; &lt;span class="n"&gt;frame2&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'eastern'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;frame2&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[91]:&lt;/div&gt;
&lt;div class="output_html rendered_html output_subarea output_execute_result"&gt;
&lt;div&gt;
&lt;table border="1" class="dataframe"&gt;
&lt;thead&gt;
&lt;tr style="text-align: right;"&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;year&lt;/th&gt;
&lt;th&gt;state&lt;/th&gt;
&lt;th&gt;pop&lt;/th&gt;
&lt;th&gt;debt&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;th&gt;one&lt;/th&gt;
&lt;td&gt;2000&lt;/td&gt;
&lt;td&gt;Ohio&lt;/td&gt;
&lt;td&gt;1.5&lt;/td&gt;
&lt;td&gt;NaN&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;two&lt;/th&gt;
&lt;td&gt;2001&lt;/td&gt;
&lt;td&gt;Ohio&lt;/td&gt;
&lt;td&gt;1.7&lt;/td&gt;
&lt;td&gt;-1.2&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;three&lt;/th&gt;
&lt;td&gt;2002&lt;/td&gt;
&lt;td&gt;Ohio&lt;/td&gt;
&lt;td&gt;3.6&lt;/td&gt;
&lt;td&gt;NaN&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;four&lt;/th&gt;
&lt;td&gt;2001&lt;/td&gt;
&lt;td&gt;Nevada&lt;/td&gt;
&lt;td&gt;2.4&lt;/td&gt;
&lt;td&gt;-1.5&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;five&lt;/th&gt;
&lt;td&gt;2002&lt;/td&gt;
&lt;td&gt;Nevada&lt;/td&gt;
&lt;td&gt;2.9&lt;/td&gt;
&lt;td&gt;-1.7&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="转置"&gt;转置&lt;a class="anchor-link" href="#转置"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[93]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;frame2&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;T&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[93]:&lt;/div&gt;
&lt;div class="output_html rendered_html output_subarea output_execute_result"&gt;
&lt;div&gt;
&lt;table border="1" class="dataframe"&gt;
&lt;thead&gt;
&lt;tr style="text-align: right;"&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;one&lt;/th&gt;
&lt;th&gt;two&lt;/th&gt;
&lt;th&gt;three&lt;/th&gt;
&lt;th&gt;four&lt;/th&gt;
&lt;th&gt;five&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;th&gt;year&lt;/th&gt;
&lt;td&gt;2000&lt;/td&gt;
&lt;td&gt;2001&lt;/td&gt;
&lt;td&gt;2002&lt;/td&gt;
&lt;td&gt;2001&lt;/td&gt;
&lt;td&gt;2002&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;state&lt;/th&gt;
&lt;td&gt;Ohio&lt;/td&gt;
&lt;td&gt;Ohio&lt;/td&gt;
&lt;td&gt;Ohio&lt;/td&gt;
&lt;td&gt;Nevada&lt;/td&gt;
&lt;td&gt;Nevada&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;pop&lt;/th&gt;
&lt;td&gt;1.5&lt;/td&gt;
&lt;td&gt;1.7&lt;/td&gt;
&lt;td&gt;3.6&lt;/td&gt;
&lt;td&gt;2.4&lt;/td&gt;
&lt;td&gt;2.9&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;debt&lt;/th&gt;
&lt;td&gt;NaN&lt;/td&gt;
&lt;td&gt;-1.2&lt;/td&gt;
&lt;td&gt;NaN&lt;/td&gt;
&lt;td&gt;-1.5&lt;/td&gt;
&lt;td&gt;-1.7&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="更多创建方法"&gt;更多创建方法&lt;a class="anchor-link" href="#更多创建方法"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[95]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;#  使用二维字典创建&lt;/span&gt;
&lt;span class="n"&gt;pop&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s1"&gt;'Nevada'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="mi"&gt;2001&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mf"&gt;2.4&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2002&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mf"&gt;2.9&lt;/span&gt;&lt;span class="p"&gt;},&lt;/span&gt;
       &lt;span class="s1"&gt;'Ohio'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="mi"&gt;2000&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mf"&gt;1.5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2001&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mf"&gt;1.7&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2002&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mf"&gt;3.6&lt;/span&gt;&lt;span class="p"&gt;}}&lt;/span&gt;
&lt;span class="n"&gt;frame3&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;DataFrame&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;pop&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;frame3&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[95]:&lt;/div&gt;
&lt;div class="output_html rendered_html output_subarea output_execute_result"&gt;
&lt;div&gt;
&lt;table border="1" class="dataframe"&gt;
&lt;thead&gt;
&lt;tr style="text-align: right;"&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;Nevada&lt;/th&gt;
&lt;th&gt;Ohio&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;th&gt;2000&lt;/th&gt;
&lt;td&gt;NaN&lt;/td&gt;
&lt;td&gt;1.5&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;2001&lt;/th&gt;
&lt;td&gt;2.4&lt;/td&gt;
&lt;td&gt;1.7&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;2002&lt;/th&gt;
&lt;td&gt;2.9&lt;/td&gt;
&lt;td&gt;3.6&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[96]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;DataFrame&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;pop&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;index&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;2001&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2002&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2003&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[96]:&lt;/div&gt;
&lt;div class="output_html rendered_html output_subarea output_execute_result"&gt;
&lt;div&gt;
&lt;table border="1" class="dataframe"&gt;
&lt;thead&gt;
&lt;tr style="text-align: right;"&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;Nevada&lt;/th&gt;
&lt;th&gt;Ohio&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;th&gt;2001&lt;/th&gt;
&lt;td&gt;2.4&lt;/td&gt;
&lt;td&gt;1.7&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;2002&lt;/th&gt;
&lt;td&gt;2.9&lt;/td&gt;
&lt;td&gt;3.6&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;2003&lt;/th&gt;
&lt;td&gt;NaN&lt;/td&gt;
&lt;td&gt;NaN&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[97]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;pdata&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s1"&gt;'Ohio'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;frame3&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'Ohio'&lt;/span&gt;&lt;span class="p"&gt;][:&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
         &lt;span class="s1"&gt;'Nevada'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;frame3&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'Nevada'&lt;/span&gt;&lt;span class="p"&gt;][:&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;]}&lt;/span&gt;
&lt;span class="n"&gt;DataFrame&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;pdata&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[97]:&lt;/div&gt;
&lt;div class="output_html rendered_html output_subarea output_execute_result"&gt;
&lt;div&gt;
&lt;table border="1" class="dataframe"&gt;
&lt;thead&gt;
&lt;tr style="text-align: right;"&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;Nevada&lt;/th&gt;
&lt;th&gt;Ohio&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;th&gt;2000&lt;/th&gt;
&lt;td&gt;NaN&lt;/td&gt;
&lt;td&gt;1.5&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;2001&lt;/th&gt;
&lt;td&gt;2.4&lt;/td&gt;
&lt;td&gt;1.7&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="为索引和列命名"&gt;为索引和列命名&lt;a class="anchor-link" href="#为索引和列命名"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[98]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;frame3&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;index&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;'year'&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt; &lt;span class="n"&gt;frame3&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;columns&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;'state'&lt;/span&gt;
&lt;span class="n"&gt;frame3&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[98]:&lt;/div&gt;
&lt;div class="output_html rendered_html output_subarea output_execute_result"&gt;
&lt;div&gt;
&lt;table border="1" class="dataframe"&gt;
&lt;thead&gt;
&lt;tr style="text-align: right;"&gt;
&lt;th&gt;state&lt;/th&gt;
&lt;th&gt;Nevada&lt;/th&gt;
&lt;th&gt;Ohio&lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;year&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;th&gt;2000&lt;/th&gt;
&lt;td&gt;NaN&lt;/td&gt;
&lt;td&gt;1.5&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;2001&lt;/th&gt;
&lt;td&gt;2.4&lt;/td&gt;
&lt;td&gt;1.7&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;2002&lt;/th&gt;
&lt;td&gt;2.9&lt;/td&gt;
&lt;td&gt;3.6&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="DataFrame-的值"&gt;DataFrame 的值&lt;a class="anchor-link" href="#DataFrame-的值"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[101]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# 返回 ndarray&lt;/span&gt;
&lt;span class="n"&gt;frame3&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;values&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[101]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;array([[ nan,  1.5],
       [ 2.4,  1.7],
       [ 2.9,  3.6]])&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[102]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# 类型不同时，自动转换为最抽象的类型&lt;/span&gt;
&lt;span class="n"&gt;frame2&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;values&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[102]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;array([[2000, 'Ohio', 1.5, nan],
       [2001, 'Ohio', 1.7, -1.2],
       [2002, 'Ohio', 3.6, nan],
       [2001, 'Nevada', 2.4, -1.5],
       [2002, 'Nevada', 2.9, -1.7]], dtype=object)&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h1 id="索引对象_1"&gt;索引对象&lt;a class="anchor-link" href="#索引对象"&gt;&amp;para;&lt;/a&gt;&lt;/h1&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[103]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;obj&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Series&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;index&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'a'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'b'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'c'&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="n"&gt;index&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;obj&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;index&lt;/span&gt;
&lt;span class="n"&gt;index&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[103]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;Index(['a', 'b', 'c'], dtype='object')&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[104]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;index&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;:]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[104]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;Index(['b', 'c'], dtype='object')&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[109]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# Index 里面的数据不能更改&lt;/span&gt;
&lt;span class="c1"&gt;# index[1] = 'd'&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[113]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;index&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;pd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Index&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;arange&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="n"&gt;obj2&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Series&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="mf"&gt;1.5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;2.5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;index&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;index&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;obj2&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;index&lt;/span&gt; &lt;span class="ow"&gt;is&lt;/span&gt; &lt;span class="n"&gt;index&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[113]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;True&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[114]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;frame3&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[114]:&lt;/div&gt;
&lt;div class="output_html rendered_html output_subarea output_execute_result"&gt;
&lt;div&gt;
&lt;table border="1" class="dataframe"&gt;
&lt;thead&gt;
&lt;tr style="text-align: right;"&gt;
&lt;th&gt;state&lt;/th&gt;
&lt;th&gt;Nevada&lt;/th&gt;
&lt;th&gt;Ohio&lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;year&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;th&gt;2000&lt;/th&gt;
&lt;td&gt;NaN&lt;/td&gt;
&lt;td&gt;1.5&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;2001&lt;/th&gt;
&lt;td&gt;2.4&lt;/td&gt;
&lt;td&gt;1.7&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;2002&lt;/th&gt;
&lt;td&gt;2.9&lt;/td&gt;
&lt;td&gt;3.6&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[115]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="s1"&gt;'Ohio'&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;frame3&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;columns&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[115]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;True&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[116]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="mi"&gt;2003&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;frame3&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;index&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[116]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;False&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;Index 不是数组，也不是 Series（看起来像）。Index 支持的一些方法如下：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;append  连接另一个 Index&lt;/li&gt;
&lt;li&gt;diff  计算差集&lt;/li&gt;
&lt;li&gt;intersection 计算交集&lt;/li&gt;
&lt;li&gt;union 计算并集&lt;/li&gt;
&lt;li&gt;isin 是否全包含&lt;/li&gt;
&lt;li&gt;delete 删除 i  初的元素，返回一个新的 Index&lt;/li&gt;
&lt;li&gt;drop 删除传入的值，返回一个新的 Index&lt;/li&gt;
&lt;li&gt;insert 插入到 i 处&lt;/li&gt;
&lt;li&gt;is_monotonic 是否各元素都大于等于前一个元素（顺序排列）&lt;/li&gt;
&lt;li&gt;is_unique 是否没有重复值&lt;/li&gt;
&lt;li&gt;unique 返回唯一值的数组&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[&amp;nbsp;]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt; 
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;script type="text/javascript"&gt;if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
    var mathjaxscript = document.createElement('script');
    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
    mathjaxscript.type = 'text/javascript';
    mathjaxscript.src = '//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML';
    mathjaxscript[(window.opera ? "innerHTML" : "text")] =
        "MathJax.Hub.Config({" +
        "    config: ['MMLorHTML.js']," +
        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } }," +
        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
        "    displayAlign: 'center'," +
        "    displayIndent: '0em'," +
        "    showMathMenu: true," +
        "    tex2jax: { " +
        "        inlineMath: [ ['$','$'] ], " +
        "        displayMath: [ ['$$','$$'] ]," +
        "        processEscapes: true," +
        "        preview: 'TeX'," +
        "    }, " +
        "    'HTML-CSS': { " +
        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'black ! important'} }" +
        "    } " +
        "}); ";
    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
}
&lt;/script&gt;
</content><category term="读书笔记"></category><category term="python"></category></entry><entry><title>利用Python进行数据分析(5.2)：Pandas 基本功能</title><link href="http://holbrook.github.io/2017/02/24/python_data_analysis5-2.html" rel="alternate"></link><published>2017-02-24T00:00:00+08:00</published><updated>2017-02-24T00:00:00+08:00</updated><author><name>Holbrook</name></author><id>tag:holbrook.github.io,2017-02-24:/2017/02/24/python_data_analysis5-2.html</id><summary type="html">
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;</summary><content type="html">&lt;style type="text/css"&gt;/*!
*
* IPython notebook
*
*/
/* CSS font colors for translated ANSI colors. */
.ansibold {
  font-weight: bold;
}
/* use dark versions for foreground, to improve visibility */
.ansiblack {
  color: black;
}
.ansired {
  color: darkred;
}
.ansigreen {
  color: darkgreen;
}
.ansiyellow {
  color: #c4a000;
}
.ansiblue {
  color: darkblue;
}
.ansipurple {
  color: darkviolet;
}
.ansicyan {
  color: steelblue;
}
.ansigray {
  color: gray;
}
/* and light for background, for the same reason */
.ansibgblack {
  background-color: black;
}
.ansibgred {
  background-color: red;
}
.ansibggreen {
  background-color: green;
}
.ansibgyellow {
  background-color: yellow;
}
.ansibgblue {
  background-color: blue;
}
.ansibgpurple {
  background-color: magenta;
}
.ansibgcyan {
  background-color: cyan;
}
.ansibggray {
  background-color: gray;
}
div.cell {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  border-radius: 2px;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
  border-width: 1px;
  border-style: solid;
  border-color: transparent;
  width: 100%;
  padding: 5px;
  /* This acts as a spacer between cells, that is outside the border */
  margin: 0px;
  outline: none;
  border-left-width: 1px;
  padding-left: 5px;
  background: linear-gradient(to right, transparent -40px, transparent 1px, transparent 1px, transparent 100%);
}
div.cell.jupyter-soft-selected {
  border-left-color: #90CAF9;
  border-left-color: #E3F2FD;
  border-left-width: 1px;
  padding-left: 5px;
  border-right-color: #E3F2FD;
  border-right-width: 1px;
  background: #E3F2FD;
}
@media print {
  div.cell.jupyter-soft-selected {
    border-color: transparent;
  }
}
div.cell.selected {
  border-color: #ababab;
  border-left-width: 0px;
  padding-left: 6px;
  background: linear-gradient(to right, #42A5F5 -40px, #42A5F5 5px, transparent 5px, transparent 100%);
}
@media print {
  div.cell.selected {
    border-color: transparent;
  }
}
div.cell.selected.jupyter-soft-selected {
  border-left-width: 0;
  padding-left: 6px;
  background: linear-gradient(to right, #42A5F5 -40px, #42A5F5 7px, #E3F2FD 7px, #E3F2FD 100%);
}
.edit_mode div.cell.selected {
  border-color: #66BB6A;
  border-left-width: 0px;
  padding-left: 6px;
  background: linear-gradient(to right, #66BB6A -40px, #66BB6A 5px, transparent 5px, transparent 100%);
}
@media print {
  .edit_mode div.cell.selected {
    border-color: transparent;
  }
}
.prompt {
  /* This needs to be wide enough for 3 digit prompt numbers: In[100]: */
  min-width: 14ex;
  /* This padding is tuned to match the padding on the CodeMirror editor. */
  padding: 0.4em;
  margin: 0px;
  font-family: monospace;
  text-align: right;
  /* This has to match that of the the CodeMirror class line-height below */
  line-height: 1.21429em;
  /* Don't highlight prompt number selection */
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  -khtml-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  /* Use default cursor */
  cursor: default;
}
@media (max-width: 540px) {
  .prompt {
    text-align: left;
  }
}
div.inner_cell {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  /* Old browsers */
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  box-flex: 1;
  /* Modern browsers */
  flex: 1;
}
@-moz-document url-prefix() {
  div.inner_cell {
    overflow-x: hidden;
  }
}
/* input_area and input_prompt must match in top border and margin for alignment */
div.input_area {
  border: 1px solid #cfcfcf;
  border-radius: 2px;
  background: #f7f7f7;
  line-height: 1.21429em;
}
/* This is needed so that empty prompt areas can collapse to zero height when there
   is no content in the output_subarea and the prompt. The main purpose of this is
   to make sure that empty JavaScript output_subareas have no height. */
div.prompt:empty {
  padding-top: 0;
  padding-bottom: 0;
}
div.unrecognized_cell {
  padding: 5px 5px 5px 0px;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
div.unrecognized_cell .inner_cell {
  border-radius: 2px;
  padding: 5px;
  font-weight: bold;
  color: red;
  border: 1px solid #cfcfcf;
  background: #eaeaea;
}
div.unrecognized_cell .inner_cell a {
  color: inherit;
  text-decoration: none;
}
div.unrecognized_cell .inner_cell a:hover {
  color: inherit;
  text-decoration: none;
}
@media (max-width: 540px) {
  div.unrecognized_cell &gt; div.prompt {
    display: none;
  }
}
div.code_cell {
  /* avoid page breaking on code cells when printing */
}
@media print {
  div.code_cell {
    page-break-inside: avoid;
  }
}
/* any special styling for code cells that are currently running goes here */
div.input {
  page-break-inside: avoid;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.input {
    /* Old browsers */
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-box-align: stretch;
    display: -moz-box;
    -moz-box-orient: vertical;
    -moz-box-align: stretch;
    display: box;
    box-orient: vertical;
    box-align: stretch;
    /* Modern browsers */
    display: flex;
    flex-direction: column;
    align-items: stretch;
  }
}
/* input_area and input_prompt must match in top border and margin for alignment */
div.input_prompt {
  color: #303F9F;
  border-top: 1px solid transparent;
}
div.input_area &gt; div.highlight {
  margin: 0.4em;
  border: none;
  padding: 0px;
  background-color: transparent;
}
div.input_area &gt; div.highlight &gt; pre {
  margin: 0px;
  border: none;
  padding: 0px;
  background-color: transparent;
}
/* The following gets added to the &lt;head&gt; if it is detected that the user has a
 * monospace font with inconsistent normal/bold/italic height.  See
 * notebookmain.js.  Such fonts will have keywords vertically offset with
 * respect to the rest of the text.  The user should select a better font.
 * See: https://github.com/ipython/ipython/issues/1503
 *
 * .CodeMirror span {
 *      vertical-align: bottom;
 * }
 */
.CodeMirror {
  line-height: 1.21429em;
  /* Changed from 1em to our global default */
  font-size: 14px;
  height: auto;
  /* Changed to auto to autogrow */
  background: none;
  /* Changed from white to allow our bg to show through */
}
.CodeMirror-scroll {
  /*  The CodeMirror docs are a bit fuzzy on if overflow-y should be hidden or visible.*/
  /*  We have found that if it is visible, vertical scrollbars appear with font size changes.*/
  overflow-y: hidden;
  overflow-x: auto;
}
.CodeMirror-lines {
  /* In CM2, this used to be 0.4em, but in CM3 it went to 4px. We need the em value because */
  /* we have set a different line-height and want this to scale with that. */
  padding: 0.4em;
}
.CodeMirror-linenumber {
  padding: 0 8px 0 4px;
}
.CodeMirror-gutters {
  border-bottom-left-radius: 2px;
  border-top-left-radius: 2px;
}
.CodeMirror pre {
  /* In CM3 this went to 4px from 0 in CM2. We need the 0 value because of how we size */
  /* .CodeMirror-lines */
  padding: 0;
  border: 0;
  border-radius: 0;
}
/*

Original style from softwaremaniacs.org (c) Ivan Sagalaev &lt;Maniac@SoftwareManiacs.Org&gt;
Adapted from GitHub theme

*/
.highlight-base {
  color: #000;
}
.highlight-variable {
  color: #000;
}
.highlight-variable-2 {
  color: #1a1a1a;
}
.highlight-variable-3 {
  color: #333333;
}
.highlight-string {
  color: #BA2121;
}
.highlight-comment {
  color: #408080;
  font-style: italic;
}
.highlight-number {
  color: #080;
}
.highlight-atom {
  color: #88F;
}
.highlight-keyword {
  color: #008000;
  font-weight: bold;
}
.highlight-builtin {
  color: #008000;
}
.highlight-error {
  color: #f00;
}
.highlight-operator {
  color: #AA22FF;
  font-weight: bold;
}
.highlight-meta {
  color: #AA22FF;
}
/* previously not defined, copying from default codemirror */
.highlight-def {
  color: #00f;
}
.highlight-string-2 {
  color: #f50;
}
.highlight-qualifier {
  color: #555;
}
.highlight-bracket {
  color: #997;
}
.highlight-tag {
  color: #170;
}
.highlight-attribute {
  color: #00c;
}
.highlight-header {
  color: blue;
}
.highlight-quote {
  color: #090;
}
.highlight-link {
  color: #00c;
}
/* apply the same style to codemirror */
.cm-s-ipython span.cm-keyword {
  color: #008000;
  font-weight: bold;
}
.cm-s-ipython span.cm-atom {
  color: #88F;
}
.cm-s-ipython span.cm-number {
  color: #080;
}
.cm-s-ipython span.cm-def {
  color: #00f;
}
.cm-s-ipython span.cm-variable {
  color: #000;
}
.cm-s-ipython span.cm-operator {
  color: #AA22FF;
  font-weight: bold;
}
.cm-s-ipython span.cm-variable-2 {
  color: #1a1a1a;
}
.cm-s-ipython span.cm-variable-3 {
  color: #333333;
}
.cm-s-ipython span.cm-comment {
  color: #408080;
  font-style: italic;
}
.cm-s-ipython span.cm-string {
  color: #BA2121;
}
.cm-s-ipython span.cm-string-2 {
  color: #f50;
}
.cm-s-ipython span.cm-meta {
  color: #AA22FF;
}
.cm-s-ipython span.cm-qualifier {
  color: #555;
}
.cm-s-ipython span.cm-builtin {
  color: #008000;
}
.cm-s-ipython span.cm-bracket {
  color: #997;
}
.cm-s-ipython span.cm-tag {
  color: #170;
}
.cm-s-ipython span.cm-attribute {
  color: #00c;
}
.cm-s-ipython span.cm-header {
  color: blue;
}
.cm-s-ipython span.cm-quote {
  color: #090;
}
.cm-s-ipython span.cm-link {
  color: #00c;
}
.cm-s-ipython span.cm-error {
  color: #f00;
}
.cm-s-ipython span.cm-tab {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAMCAYAAAAkuj5RAAAAAXNSR0IArs4c6QAAAGFJREFUSMft1LsRQFAQheHPowAKoACx3IgEKtaEHujDjORSgWTH/ZOdnZOcM/sgk/kFFWY0qV8foQwS4MKBCS3qR6ixBJvElOobYAtivseIE120FaowJPN75GMu8j/LfMwNjh4HUpwg4LUAAAAASUVORK5CYII=);
  background-position: right;
  background-repeat: no-repeat;
}
div.output_wrapper {
  /* this position must be relative to enable descendents to be absolute within it */
  position: relative;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  z-index: 1;
}
/* class for the output area when it should be height-limited */
div.output_scroll {
  /* ideally, this would be max-height, but FF barfs all over that */
  height: 24em;
  /* FF needs this *and the wrapper* to specify full width, or it will shrinkwrap */
  width: 100%;
  overflow: auto;
  border-radius: 2px;
  -webkit-box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.8);
  box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.8);
  display: block;
}
/* output div while it is collapsed */
div.output_collapsed {
  margin: 0px;
  padding: 0px;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
div.out_prompt_overlay {
  height: 100%;
  padding: 0px 0.4em;
  position: absolute;
  border-radius: 2px;
}
div.out_prompt_overlay:hover {
  /* use inner shadow to get border that is computed the same on WebKit/FF */
  -webkit-box-shadow: inset 0 0 1px #000;
  box-shadow: inset 0 0 1px #000;
  background: rgba(240, 240, 240, 0.5);
}
div.output_prompt {
  color: #D84315;
}
/* This class is the outer container of all output sections. */
div.output_area {
  padding: 0px;
  page-break-inside: avoid;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
div.output_area .MathJax_Display {
  text-align: left !important;
}
div.output_area 
div.output_area 
div.output_area img,
div.output_area svg {
  max-width: 100%;
  height: auto;
}
div.output_area img.unconfined,
div.output_area svg.unconfined {
  max-width: none;
}
/* This is needed to protect the pre formating from global settings such
   as that of bootstrap */
.output {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.output_area {
    /* Old browsers */
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-box-align: stretch;
    display: -moz-box;
    -moz-box-orient: vertical;
    -moz-box-align: stretch;
    display: box;
    box-orient: vertical;
    box-align: stretch;
    /* Modern browsers */
    display: flex;
    flex-direction: column;
    align-items: stretch;
  }
}
div.output_area pre {
  margin: 0;
  padding: 0;
  border: 0;
  vertical-align: baseline;
  color: black;
  background-color: transparent;
  border-radius: 0;
}
/* This class is for the output subarea inside the output_area and after
   the prompt div. */
div.output_subarea {
  overflow-x: auto;
  padding: 0.4em;
  /* Old browsers */
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  box-flex: 1;
  /* Modern browsers */
  flex: 1;
  max-width: calc(100% - 14ex);
}
div.output_scroll div.output_subarea {
  overflow-x: visible;
}
/* The rest of the output_* classes are for special styling of the different
   output types */
/* all text output has this class: */
div.output_text {
  text-align: left;
  color: #000;
  /* This has to match that of the the CodeMirror class line-height below */
  line-height: 1.21429em;
}
/* stdout/stderr are 'text' as well as 'stream', but execute_result/error are *not* streams */
div.output_stderr {
  background: #fdd;
  /* very light red background for stderr */
}
div.output_latex {
  text-align: left;
}
/* Empty output_javascript divs should have no height */
div.output_javascript:empty {
  padding: 0;
}
.js-error {
  color: darkred;
}
/* raw_input styles */
div.raw_input_container {
  line-height: 1.21429em;
  padding-top: 5px;
}
pre.raw_input_prompt {
  /* nothing needed here. */
}
input.raw_input {
  font-family: monospace;
  font-size: inherit;
  color: inherit;
  width: auto;
  /* make sure input baseline aligns with prompt */
  vertical-align: baseline;
  /* padding + margin = 0.5em between prompt and cursor */
  padding: 0em 0.25em;
  margin: 0em 0.25em;
}
input.raw_input:focus {
  box-shadow: none;
}
p.p-space {
  margin-bottom: 10px;
}
div.output_unrecognized {
  padding: 5px;
  font-weight: bold;
  color: red;
}
div.output_unrecognized a {
  color: inherit;
  text-decoration: none;
}
div.output_unrecognized a:hover {
  color: inherit;
  text-decoration: none;
}
.rendered_html {
  color: #000;
  /* any extras will just be numbers: */
}



.rendered_html :link {
  text-decoration: underline;
}
.rendered_html :visited {
  text-decoration: underline;
}






.rendered_html h1:first-child {
  margin-top: 0.538em;
}
.rendered_html h2:first-child {
  margin-top: 0.636em;
}
.rendered_html h3:first-child {
  margin-top: 0.777em;
}
.rendered_html h4:first-child {
  margin-top: 1em;
}
.rendered_html h5:first-child {
  margin-top: 1em;
}
.rendered_html h6:first-child {
  margin-top: 1em;
}








.rendered_html * + ul {
  margin-top: 1em;
}
.rendered_html * + ol {
  margin-top: 1em;
}


.rendered_html pre,



.rendered_html tr,
.rendered_html th,

.rendered_html td,


.rendered_html * + table {
  margin-top: 1em;
}

.rendered_html * + p {
  margin-top: 1em;
}

.rendered_html * + img {
  margin-top: 1em;
}
.rendered_html img,

.rendered_html img.unconfined,

div.text_cell {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.text_cell &gt; div.prompt {
    display: none;
  }
}
div.text_cell_render {
  /*font-family: "Helvetica Neue", Arial, Helvetica, Geneva, sans-serif;*/
  outline: none;
  resize: none;
  width: inherit;
  border-style: none;
  padding: 0.5em 0.5em 0.5em 0.4em;
  color: #000;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
}
a.anchor-link:link {
  text-decoration: none;
  padding: 0px 20px;
  visibility: hidden;
}
h1:hover .anchor-link,
h2:hover .anchor-link,
h3:hover .anchor-link,
h4:hover .anchor-link,
h5:hover .anchor-link,
h6:hover .anchor-link {
  visibility: visible;
}
.text_cell.rendered .input_area {
  display: none;
}
.text_cell.rendered 
.text_cell.unrendered .text_cell_render {
  display: none;
}
.cm-header-1,
.cm-header-2,
.cm-header-3,
.cm-header-4,
.cm-header-5,
.cm-header-6 {
  font-weight: bold;
  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
}
.cm-header-1 {
  font-size: 185.7%;
}
.cm-header-2 {
  font-size: 157.1%;
}
.cm-header-3 {
  font-size: 128.6%;
}
.cm-header-4 {
  font-size: 110%;
}
.cm-header-5 {
  font-size: 100%;
  font-style: italic;
}
.cm-header-6 {
  font-size: 100%;
  font-style: italic;
}
&lt;/style&gt;
&lt;style type="text/css"&gt;.highlight .hll { background-color: #ffffcc }
.highlight  { background: #f8f8f8; }
.highlight .c { color: #408080; font-style: italic } /* Comment */
.highlight .err { border: 1px solid #FF0000 } /* Error */
.highlight .k { color: #008000; font-weight: bold } /* Keyword */
.highlight .o { color: #666666 } /* Operator */
.highlight .ch { color: #408080; font-style: italic } /* Comment.Hashbang */
.highlight .cm { color: #408080; font-style: italic } /* Comment.Multiline */
.highlight .cp { color: #BC7A00 } /* Comment.Preproc */
.highlight .cpf { color: #408080; font-style: italic } /* Comment.PreprocFile */
.highlight .c1 { color: #408080; font-style: italic } /* Comment.Single */
.highlight .cs { color: #408080; font-style: italic } /* Comment.Special */
.highlight .gd { color: #A00000 } /* Generic.Deleted */
.highlight .ge { font-style: italic } /* Generic.Emph */
.highlight .gr { color: #FF0000 } /* Generic.Error */
.highlight .gh { color: #000080; font-weight: bold } /* Generic.Heading */
.highlight .gi { color: #00A000 } /* Generic.Inserted */
.highlight .go { color: #888888 } /* Generic.Output */
.highlight .gp { color: #000080; font-weight: bold } /* Generic.Prompt */
.highlight .gs { font-weight: bold } /* Generic.Strong */
.highlight .gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.highlight .gt { color: #0044DD } /* Generic.Traceback */
.highlight .kc { color: #008000; font-weight: bold } /* Keyword.Constant */
.highlight .kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
.highlight .kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
.highlight .kp { color: #008000 } /* Keyword.Pseudo */
.highlight .kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
.highlight .kt { color: #B00040 } /* Keyword.Type */
.highlight .m { color: #666666 } /* Literal.Number */
.highlight .s { color: #BA2121 } /* Literal.String */
.highlight .na { color: #7D9029 } /* Name.Attribute */
.highlight .nb { color: #008000 } /* Name.Builtin */
.highlight .nc { color: #0000FF; font-weight: bold } /* Name.Class */
.highlight .no { color: #880000 } /* Name.Constant */
.highlight .nd { color: #AA22FF } /* Name.Decorator */
.highlight .ni { color: #999999; font-weight: bold } /* Name.Entity */
.highlight .ne { color: #D2413A; font-weight: bold } /* Name.Exception */
.highlight .nf { color: #0000FF } /* Name.Function */
.highlight .nl { color: #A0A000 } /* Name.Label */
.highlight .nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
.highlight .nt { color: #008000; font-weight: bold } /* Name.Tag */
.highlight .nv { color: #19177C } /* Name.Variable */
.highlight .ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
.highlight .w { color: #bbbbbb } /* Text.Whitespace */
.highlight .mb { color: #666666 } /* Literal.Number.Bin */
.highlight .mf { color: #666666 } /* Literal.Number.Float */
.highlight .mh { color: #666666 } /* Literal.Number.Hex */
.highlight .mi { color: #666666 } /* Literal.Number.Integer */
.highlight .mo { color: #666666 } /* Literal.Number.Oct */
.highlight .sb { color: #BA2121 } /* Literal.String.Backtick */
.highlight .sc { color: #BA2121 } /* Literal.String.Char */
.highlight .sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */
.highlight .s2 { color: #BA2121 } /* Literal.String.Double */
.highlight .se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */
.highlight .sh { color: #BA2121 } /* Literal.String.Heredoc */
.highlight .si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */
.highlight .sx { color: #008000 } /* Literal.String.Other */
.highlight .sr { color: #BB6688 } /* Literal.String.Regex */
.highlight .s1 { color: #BA2121 } /* Literal.String.Single */
.highlight .ss { color: #19177C } /* Literal.String.Symbol */
.highlight .bp { color: #008000 } /* Name.Builtin.Pseudo */
.highlight .vc { color: #19177C } /* Name.Variable.Class */
.highlight .vg { color: #19177C } /* Name.Variable.Global */
.highlight .vi { color: #19177C } /* Name.Variable.Instance */
.highlight .il { color: #666666 } /* Literal.Number.Integer.Long */&lt;/style&gt;
&lt;style type="text/css"&gt;
/* Temporary definitions which will become obsolete with Notebook release 5.0 */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-bold { font-weight: bold; }
&lt;/style&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[1]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="o"&gt;%&lt;/span&gt;&lt;span class="k"&gt;pylab&lt;/span&gt; inline
&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;pandas&lt;/span&gt; &lt;span class="k"&gt;import&lt;/span&gt; &lt;span class="n"&gt;Series&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;DataFrame&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;pandas&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;pd&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;div class="output_subarea output_stream output_stdout output_text"&gt;
&lt;pre&gt;Populating the interactive namespace from numpy and matplotlib
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;《&lt;a href="https://book.douban.com/subject/25779298/"&gt;利用Python进行数据分析&lt;/a&gt;》
作者: Wes McKinney
译者: 唐学韬&lt;/p&gt;
&lt;h1 id="重建索引"&gt;重建索引&lt;a class="anchor-link" href="#重建索引"&gt;&amp;para;&lt;/a&gt;&lt;/h1&gt;&lt;p&gt;Pandas 对象的重建索引（&lt;code&gt;reindex()&lt;/code&gt;)，会根据索引创建一个新的对象。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[2]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;obj&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Series&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="mf"&gt;4.5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;7.2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;5.3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;3.6&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;index&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'d'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'b'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'a'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'c'&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="n"&gt;obj&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[2]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;d    4.5
b    7.2
a   -5.3
c    3.6
dtype: float64&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[5]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# 如果传入的索引值在数据里不存在，则不会报错，而是添加缺失值的新行&lt;/span&gt;
&lt;span class="n"&gt;obj2&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;obj&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;reindex&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="s1"&gt;'a'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'b'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'c'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'d'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'e'&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="n"&gt;obj2&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[5]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;a   -5.3
b    7.2
c    3.6
d    4.5
e    NaN
dtype: float64&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[6]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;#如果不想用缺失值，可以用 fill_value 参数指定填充值&lt;/span&gt;
&lt;span class="n"&gt;obj&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;reindex&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="s1"&gt;'a'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'b'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'c'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'d'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'e'&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;fill_value&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[6]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;a   -5.3
b    7.2
c    3.6
d    4.5
e    0.0
dtype: float64&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[13]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;obj3&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Series&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="s1"&gt;'blue'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'purple'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'yellow'&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;index&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="c1"&gt;# method 指定填充新值采用的差值方法&lt;/span&gt;
&lt;span class="c1"&gt;# ffill 或 pad 实现用前值填充(forward fill)&lt;/span&gt;
&lt;span class="n"&gt;obj3&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;reindex&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;6&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;method&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'ffill'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[13]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;0      blue
1      blue
2    purple
3    purple
4    yellow
5    yellow
dtype: object&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[16]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# bfill 或 backfill 实现用后值填充&lt;/span&gt;
&lt;span class="n"&gt;obj3&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;reindex&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;6&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;method&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'bfill'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[16]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;0      blue
1    purple
2    purple
3    yellow
4    yellow
5       NaN
dtype: object&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[17]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# #DataFrame 的reindex可以修改行、列或者两个都改&lt;/span&gt;

&lt;span class="n"&gt;frame&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;DataFrame&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;arange&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;9&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;reshape&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;)),&lt;/span&gt; &lt;span class="n"&gt;index&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'a'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'c'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'d'&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
                  &lt;span class="n"&gt;columns&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'Ohio'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'Texas'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'California'&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="n"&gt;frame&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[17]:&lt;/div&gt;
&lt;div class="output_html rendered_html output_subarea output_execute_result"&gt;
&lt;div&gt;
&lt;table border="1" class="dataframe"&gt;
&lt;thead&gt;
&lt;tr style="text-align: right;"&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;Ohio&lt;/th&gt;
&lt;th&gt;Texas&lt;/th&gt;
&lt;th&gt;California&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;th&gt;a&lt;/th&gt;
&lt;td&gt;0&lt;/td&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;c&lt;/th&gt;
&lt;td&gt;3&lt;/td&gt;
&lt;td&gt;4&lt;/td&gt;
&lt;td&gt;5&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;d&lt;/th&gt;
&lt;td&gt;6&lt;/td&gt;
&lt;td&gt;7&lt;/td&gt;
&lt;td&gt;8&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[19]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# 默认更改行索引&lt;/span&gt;
&lt;span class="n"&gt;frame2&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;frame&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;reindex&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="s1"&gt;'a'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'b'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'c'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'d'&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="n"&gt;frame2&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[19]:&lt;/div&gt;
&lt;div class="output_html rendered_html output_subarea output_execute_result"&gt;
&lt;div&gt;
&lt;table border="1" class="dataframe"&gt;
&lt;thead&gt;
&lt;tr style="text-align: right;"&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;Ohio&lt;/th&gt;
&lt;th&gt;Texas&lt;/th&gt;
&lt;th&gt;California&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;th&gt;a&lt;/th&gt;
&lt;td&gt;0.0&lt;/td&gt;
&lt;td&gt;1.0&lt;/td&gt;
&lt;td&gt;2.0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;b&lt;/th&gt;
&lt;td&gt;NaN&lt;/td&gt;
&lt;td&gt;NaN&lt;/td&gt;
&lt;td&gt;NaN&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;c&lt;/th&gt;
&lt;td&gt;3.0&lt;/td&gt;
&lt;td&gt;4.0&lt;/td&gt;
&lt;td&gt;5.0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;d&lt;/th&gt;
&lt;td&gt;6.0&lt;/td&gt;
&lt;td&gt;7.0&lt;/td&gt;
&lt;td&gt;8.0&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[20]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# 使用 columns 更改列索引&lt;/span&gt;
&lt;span class="n"&gt;states&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'Texas'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'Utah'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'California'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;frame&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;reindex&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;columns&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;states&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[20]:&lt;/div&gt;
&lt;div class="output_html rendered_html output_subarea output_execute_result"&gt;
&lt;div&gt;
&lt;table border="1" class="dataframe"&gt;
&lt;thead&gt;
&lt;tr style="text-align: right;"&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;Texas&lt;/th&gt;
&lt;th&gt;Utah&lt;/th&gt;
&lt;th&gt;California&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;th&gt;a&lt;/th&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;NaN&lt;/td&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;c&lt;/th&gt;
&lt;td&gt;4&lt;/td&gt;
&lt;td&gt;NaN&lt;/td&gt;
&lt;td&gt;5&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;d&lt;/th&gt;
&lt;td&gt;7&lt;/td&gt;
&lt;td&gt;NaN&lt;/td&gt;
&lt;td&gt;8&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[21]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# 同时更改行和列索引&lt;/span&gt;
&lt;span class="c1"&gt;# 注意插值只能用在行上&lt;/span&gt;
&lt;span class="n"&gt;frame&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;reindex&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;index&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'a'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'b'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'c'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'d'&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;method&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'ffill'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
              &lt;span class="n"&gt;columns&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;states&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[21]:&lt;/div&gt;
&lt;div class="output_html rendered_html output_subarea output_execute_result"&gt;
&lt;div&gt;
&lt;table border="1" class="dataframe"&gt;
&lt;thead&gt;
&lt;tr style="text-align: right;"&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;Texas&lt;/th&gt;
&lt;th&gt;Utah&lt;/th&gt;
&lt;th&gt;California&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;th&gt;a&lt;/th&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;NaN&lt;/td&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;b&lt;/th&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;NaN&lt;/td&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;c&lt;/th&gt;
&lt;td&gt;4&lt;/td&gt;
&lt;td&gt;NaN&lt;/td&gt;
&lt;td&gt;5&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;d&lt;/th&gt;
&lt;td&gt;7&lt;/td&gt;
&lt;td&gt;NaN&lt;/td&gt;
&lt;td&gt;8&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[22]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# 使用ix的标签索引功能，重新索引变得比较简洁&lt;/span&gt;
&lt;span class="c1"&gt;# 等价于 frame.reindex(index=['a', 'b', 'c', 'd'], columns=states)&lt;/span&gt;
&lt;span class="n"&gt;frame&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ix&lt;/span&gt;&lt;span class="p"&gt;[[&lt;/span&gt;&lt;span class="s1"&gt;'a'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'b'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'c'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'d'&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;states&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[22]:&lt;/div&gt;
&lt;div class="output_html rendered_html output_subarea output_execute_result"&gt;
&lt;div&gt;
&lt;table border="1" class="dataframe"&gt;
&lt;thead&gt;
&lt;tr style="text-align: right;"&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;Texas&lt;/th&gt;
&lt;th&gt;Utah&lt;/th&gt;
&lt;th&gt;California&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;th&gt;a&lt;/th&gt;
&lt;td&gt;1.0&lt;/td&gt;
&lt;td&gt;NaN&lt;/td&gt;
&lt;td&gt;2.0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;b&lt;/th&gt;
&lt;td&gt;NaN&lt;/td&gt;
&lt;td&gt;NaN&lt;/td&gt;
&lt;td&gt;NaN&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;c&lt;/th&gt;
&lt;td&gt;4.0&lt;/td&gt;
&lt;td&gt;NaN&lt;/td&gt;
&lt;td&gt;5.0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;d&lt;/th&gt;
&lt;td&gt;7.0&lt;/td&gt;
&lt;td&gt;NaN&lt;/td&gt;
&lt;td&gt;8.0&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="丢弃指定轴上的项"&gt;丢弃指定轴上的项&lt;a class="anchor-link" href="#丢弃指定轴上的项"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[23]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;#  drop() 方法：通过索引数组或列表丢弃多个项，返回一个新的对象&lt;/span&gt;
&lt;span class="n"&gt;obj&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Series&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;arange&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mf"&gt;5.&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;index&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'a'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'b'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'c'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'d'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'e'&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="n"&gt;new_obj&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;obj&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;drop&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'c'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;new_obj&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[23]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;a    0.0
b    1.0
d    3.0
e    4.0
dtype: float64&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[24]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# 丢弃多项&lt;/span&gt;
&lt;span class="n"&gt;obj&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;drop&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="s1"&gt;'d'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'c'&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[24]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;a    0.0
b    1.0
e    4.0
dtype: float64&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[25]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# 对于 DataFrame&lt;/span&gt;
&lt;span class="n"&gt;data&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;DataFrame&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;arange&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;16&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;reshape&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;)),&lt;/span&gt;
                 &lt;span class="n"&gt;index&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'Ohio'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'Colorado'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'Utah'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'New York'&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
                 &lt;span class="n"&gt;columns&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'one'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'two'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'three'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'four'&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="n"&gt;data&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[25]:&lt;/div&gt;
&lt;div class="output_html rendered_html output_subarea output_execute_result"&gt;
&lt;div&gt;
&lt;table border="1" class="dataframe"&gt;
&lt;thead&gt;
&lt;tr style="text-align: right;"&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;one&lt;/th&gt;
&lt;th&gt;two&lt;/th&gt;
&lt;th&gt;three&lt;/th&gt;
&lt;th&gt;four&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;th&gt;Ohio&lt;/th&gt;
&lt;td&gt;0&lt;/td&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;td&gt;3&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;Colorado&lt;/th&gt;
&lt;td&gt;4&lt;/td&gt;
&lt;td&gt;5&lt;/td&gt;
&lt;td&gt;6&lt;/td&gt;
&lt;td&gt;7&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;Utah&lt;/th&gt;
&lt;td&gt;8&lt;/td&gt;
&lt;td&gt;9&lt;/td&gt;
&lt;td&gt;10&lt;/td&gt;
&lt;td&gt;11&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;New York&lt;/th&gt;
&lt;td&gt;12&lt;/td&gt;
&lt;td&gt;13&lt;/td&gt;
&lt;td&gt;14&lt;/td&gt;
&lt;td&gt;15&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[27]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;#  丢弃行&lt;/span&gt;
&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;drop&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="s1"&gt;'Colorado'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'Ohio'&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[27]:&lt;/div&gt;
&lt;div class="output_html rendered_html output_subarea output_execute_result"&gt;
&lt;div&gt;
&lt;table border="1" class="dataframe"&gt;
&lt;thead&gt;
&lt;tr style="text-align: right;"&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;one&lt;/th&gt;
&lt;th&gt;two&lt;/th&gt;
&lt;th&gt;three&lt;/th&gt;
&lt;th&gt;four&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;th&gt;Utah&lt;/th&gt;
&lt;td&gt;8&lt;/td&gt;
&lt;td&gt;9&lt;/td&gt;
&lt;td&gt;10&lt;/td&gt;
&lt;td&gt;11&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;New York&lt;/th&gt;
&lt;td&gt;12&lt;/td&gt;
&lt;td&gt;13&lt;/td&gt;
&lt;td&gt;14&lt;/td&gt;
&lt;td&gt;15&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[28]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# 丢弃一列&lt;/span&gt;
&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;drop&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'two'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;axis&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[28]:&lt;/div&gt;
&lt;div class="output_html rendered_html output_subarea output_execute_result"&gt;
&lt;div&gt;
&lt;table border="1" class="dataframe"&gt;
&lt;thead&gt;
&lt;tr style="text-align: right;"&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;one&lt;/th&gt;
&lt;th&gt;three&lt;/th&gt;
&lt;th&gt;four&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;th&gt;Ohio&lt;/th&gt;
&lt;td&gt;0&lt;/td&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;td&gt;3&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;Colorado&lt;/th&gt;
&lt;td&gt;4&lt;/td&gt;
&lt;td&gt;6&lt;/td&gt;
&lt;td&gt;7&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;Utah&lt;/th&gt;
&lt;td&gt;8&lt;/td&gt;
&lt;td&gt;10&lt;/td&gt;
&lt;td&gt;11&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;New York&lt;/th&gt;
&lt;td&gt;12&lt;/td&gt;
&lt;td&gt;14&lt;/td&gt;
&lt;td&gt;15&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[29]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# 丢弃多列&lt;/span&gt;
&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;drop&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="s1"&gt;'two'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'four'&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;axis&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[29]:&lt;/div&gt;
&lt;div class="output_html rendered_html output_subarea output_execute_result"&gt;
&lt;div&gt;
&lt;table border="1" class="dataframe"&gt;
&lt;thead&gt;
&lt;tr style="text-align: right;"&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;one&lt;/th&gt;
&lt;th&gt;three&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;th&gt;Ohio&lt;/th&gt;
&lt;td&gt;0&lt;/td&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;Colorado&lt;/th&gt;
&lt;td&gt;4&lt;/td&gt;
&lt;td&gt;6&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;Utah&lt;/th&gt;
&lt;td&gt;8&lt;/td&gt;
&lt;td&gt;10&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;New York&lt;/th&gt;
&lt;td&gt;12&lt;/td&gt;
&lt;td&gt;14&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="索引、选取和过滤"&gt;索引、选取和过滤&lt;a class="anchor-link" href="#索引、选取和过滤"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[30]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;obj&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Series&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;arange&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mf"&gt;4.&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;index&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'a'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'b'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'c'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'d'&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="n"&gt;obj&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[30]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;a    0.0
b    1.0
c    2.0
d    3.0
dtype: float64&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[35]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;#  通过索引选取, 以下两种方式等价&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;obj&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'b'&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;obj&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;div class="output_subarea output_stream output_stdout output_text"&gt;
&lt;pre&gt;1.0
1.0
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[39]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;#  连续切片&lt;/span&gt;
&lt;span class="n"&gt;obj&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[39]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;c    2.0
d    3.0
dtype: float64&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[40]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# 通过索引选取&lt;/span&gt;
&lt;span class="n"&gt;obj&lt;/span&gt;&lt;span class="p"&gt;[[&lt;/span&gt;&lt;span class="s1"&gt;'b'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'a'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'d'&lt;/span&gt;&lt;span class="p"&gt;]]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[40]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;b    1.0
a    0.0
d    3.0
dtype: float64&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[41]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# 通过序号选取&lt;/span&gt;
&lt;span class="n"&gt;obj&lt;/span&gt;&lt;span class="p"&gt;[[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;]]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[41]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;b    1.0
d    3.0
dtype: float64&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[42]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# 条件筛选&lt;/span&gt;
&lt;span class="n"&gt;obj&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;obj&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[42]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;a    0.0
b    1.0
dtype: float64&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[46]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# 针对索引的条件筛选&lt;/span&gt;
&lt;span class="n"&gt;obj&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'b'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s1"&gt;'d'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[46]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;b    1.0
c    2.0
d    3.0
dtype: float64&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[49]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# 筛选并赋值&lt;/span&gt;
&lt;span class="n"&gt;obj&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'b'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="s1"&gt;'d'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;5&lt;/span&gt;
&lt;span class="n"&gt;obj&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[49]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;a    0.0
b    5.0
c    5.0
d    5.0
dtype: float64&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[51]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# 对于 DataFrame&lt;/span&gt;
&lt;span class="n"&gt;data&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;DataFrame&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;arange&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;16&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;reshape&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;)),&lt;/span&gt;
                 &lt;span class="n"&gt;index&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'Ohio'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'Colorado'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'Utah'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'New York'&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
                 &lt;span class="n"&gt;columns&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'one'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'two'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'three'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'four'&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="n"&gt;data&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[51]:&lt;/div&gt;
&lt;div class="output_html rendered_html output_subarea output_execute_result"&gt;
&lt;div&gt;
&lt;table border="1" class="dataframe"&gt;
&lt;thead&gt;
&lt;tr style="text-align: right;"&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;one&lt;/th&gt;
&lt;th&gt;two&lt;/th&gt;
&lt;th&gt;three&lt;/th&gt;
&lt;th&gt;four&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;th&gt;Ohio&lt;/th&gt;
&lt;td&gt;0&lt;/td&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;td&gt;3&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;Colorado&lt;/th&gt;
&lt;td&gt;4&lt;/td&gt;
&lt;td&gt;5&lt;/td&gt;
&lt;td&gt;6&lt;/td&gt;
&lt;td&gt;7&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;Utah&lt;/th&gt;
&lt;td&gt;8&lt;/td&gt;
&lt;td&gt;9&lt;/td&gt;
&lt;td&gt;10&lt;/td&gt;
&lt;td&gt;11&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;New York&lt;/th&gt;
&lt;td&gt;12&lt;/td&gt;
&lt;td&gt;13&lt;/td&gt;
&lt;td&gt;14&lt;/td&gt;
&lt;td&gt;15&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[52]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# 选取列&lt;/span&gt;
&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'two'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[52]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;Ohio         1
Colorado     5
Utah         9
New York    13
Name: two, dtype: int64&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[53]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# 选取多列&lt;/span&gt;
&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;[[&lt;/span&gt;&lt;span class="s1"&gt;'three'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'one'&lt;/span&gt;&lt;span class="p"&gt;]]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[53]:&lt;/div&gt;
&lt;div class="output_html rendered_html output_subarea output_execute_result"&gt;
&lt;div&gt;
&lt;table border="1" class="dataframe"&gt;
&lt;thead&gt;
&lt;tr style="text-align: right;"&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;three&lt;/th&gt;
&lt;th&gt;one&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;th&gt;Ohio&lt;/th&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;td&gt;0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;Colorado&lt;/th&gt;
&lt;td&gt;6&lt;/td&gt;
&lt;td&gt;4&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;Utah&lt;/th&gt;
&lt;td&gt;10&lt;/td&gt;
&lt;td&gt;8&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;New York&lt;/th&gt;
&lt;td&gt;14&lt;/td&gt;
&lt;td&gt;12&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[55]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# &lt;/span&gt;
&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;[:&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[55]:&lt;/div&gt;
&lt;div class="output_html rendered_html output_subarea output_execute_result"&gt;
&lt;div&gt;
&lt;table border="1" class="dataframe"&gt;
&lt;thead&gt;
&lt;tr style="text-align: right;"&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;one&lt;/th&gt;
&lt;th&gt;two&lt;/th&gt;
&lt;th&gt;three&lt;/th&gt;
&lt;th&gt;four&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;th&gt;Ohio&lt;/th&gt;
&lt;td&gt;0&lt;/td&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;td&gt;3&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;Colorado&lt;/th&gt;
&lt;td&gt;4&lt;/td&gt;
&lt;td&gt;5&lt;/td&gt;
&lt;td&gt;6&lt;/td&gt;
&lt;td&gt;7&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[56]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'three'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[56]:&lt;/div&gt;
&lt;div class="output_html rendered_html output_subarea output_execute_result"&gt;
&lt;div&gt;
&lt;table border="1" class="dataframe"&gt;
&lt;thead&gt;
&lt;tr style="text-align: right;"&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;one&lt;/th&gt;
&lt;th&gt;two&lt;/th&gt;
&lt;th&gt;three&lt;/th&gt;
&lt;th&gt;four&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;th&gt;Colorado&lt;/th&gt;
&lt;td&gt;4&lt;/td&gt;
&lt;td&gt;5&lt;/td&gt;
&lt;td&gt;6&lt;/td&gt;
&lt;td&gt;7&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;Utah&lt;/th&gt;
&lt;td&gt;8&lt;/td&gt;
&lt;td&gt;9&lt;/td&gt;
&lt;td&gt;10&lt;/td&gt;
&lt;td&gt;11&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;New York&lt;/th&gt;
&lt;td&gt;12&lt;/td&gt;
&lt;td&gt;13&lt;/td&gt;
&lt;td&gt;14&lt;/td&gt;
&lt;td&gt;15&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[57]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt; &lt;span class="mi"&gt;5&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[57]:&lt;/div&gt;
&lt;div class="output_html rendered_html output_subarea output_execute_result"&gt;
&lt;div&gt;
&lt;table border="1" class="dataframe"&gt;
&lt;thead&gt;
&lt;tr style="text-align: right;"&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;one&lt;/th&gt;
&lt;th&gt;two&lt;/th&gt;
&lt;th&gt;three&lt;/th&gt;
&lt;th&gt;four&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;th&gt;Ohio&lt;/th&gt;
&lt;td&gt;True&lt;/td&gt;
&lt;td&gt;True&lt;/td&gt;
&lt;td&gt;True&lt;/td&gt;
&lt;td&gt;True&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;Colorado&lt;/th&gt;
&lt;td&gt;True&lt;/td&gt;
&lt;td&gt;False&lt;/td&gt;
&lt;td&gt;False&lt;/td&gt;
&lt;td&gt;False&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;Utah&lt;/th&gt;
&lt;td&gt;False&lt;/td&gt;
&lt;td&gt;False&lt;/td&gt;
&lt;td&gt;False&lt;/td&gt;
&lt;td&gt;False&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;New York&lt;/th&gt;
&lt;td&gt;False&lt;/td&gt;
&lt;td&gt;False&lt;/td&gt;
&lt;td&gt;False&lt;/td&gt;
&lt;td&gt;False&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[59]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt; &lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;
&lt;span class="n"&gt;data&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[59]:&lt;/div&gt;
&lt;div class="output_html rendered_html output_subarea output_execute_result"&gt;
&lt;div&gt;
&lt;table border="1" class="dataframe"&gt;
&lt;thead&gt;
&lt;tr style="text-align: right;"&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;one&lt;/th&gt;
&lt;th&gt;two&lt;/th&gt;
&lt;th&gt;three&lt;/th&gt;
&lt;th&gt;four&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;th&gt;Ohio&lt;/th&gt;
&lt;td&gt;0&lt;/td&gt;
&lt;td&gt;0&lt;/td&gt;
&lt;td&gt;0&lt;/td&gt;
&lt;td&gt;0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;Colorado&lt;/th&gt;
&lt;td&gt;0&lt;/td&gt;
&lt;td&gt;5&lt;/td&gt;
&lt;td&gt;6&lt;/td&gt;
&lt;td&gt;7&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;Utah&lt;/th&gt;
&lt;td&gt;8&lt;/td&gt;
&lt;td&gt;9&lt;/td&gt;
&lt;td&gt;10&lt;/td&gt;
&lt;td&gt;11&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;New York&lt;/th&gt;
&lt;td&gt;12&lt;/td&gt;
&lt;td&gt;13&lt;/td&gt;
&lt;td&gt;14&lt;/td&gt;
&lt;td&gt;15&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[63]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# 选择一行中的一部分&lt;/span&gt;
&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ix&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'Colorado'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'two'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'three'&lt;/span&gt;&lt;span class="p"&gt;]]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[63]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;two      5
three    6
Name: Colorado, dtype: int64&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[64]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# 选择多行中的一部分&lt;/span&gt;
&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ix&lt;/span&gt;&lt;span class="p"&gt;[[&lt;/span&gt;&lt;span class="s1"&gt;'Colorado'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'Utah'&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[64]:&lt;/div&gt;
&lt;div class="output_html rendered_html output_subarea output_execute_result"&gt;
&lt;div&gt;
&lt;table border="1" class="dataframe"&gt;
&lt;thead&gt;
&lt;tr style="text-align: right;"&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;four&lt;/th&gt;
&lt;th&gt;one&lt;/th&gt;
&lt;th&gt;two&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;th&gt;Colorado&lt;/th&gt;
&lt;td&gt;7&lt;/td&gt;
&lt;td&gt;0&lt;/td&gt;
&lt;td&gt;5&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;Utah&lt;/th&gt;
&lt;td&gt;11&lt;/td&gt;
&lt;td&gt;8&lt;/td&gt;
&lt;td&gt;9&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[66]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# 一整行&lt;/span&gt;
&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ix&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[66]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;one       8
two       9
three    10
four     11
Name: Utah, dtype: int64&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[67]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ix&lt;/span&gt;&lt;span class="p"&gt;[:&lt;/span&gt;&lt;span class="s1"&gt;'Utah'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'two'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[67]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;Ohio        0
Colorado    5
Utah        9
Name: two, dtype: int64&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[68]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ix&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;three&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[68]:&lt;/div&gt;
&lt;div class="output_html rendered_html output_subarea output_execute_result"&gt;
&lt;div&gt;
&lt;table border="1" class="dataframe"&gt;
&lt;thead&gt;
&lt;tr style="text-align: right;"&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;one&lt;/th&gt;
&lt;th&gt;two&lt;/th&gt;
&lt;th&gt;three&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;th&gt;Colorado&lt;/th&gt;
&lt;td&gt;0&lt;/td&gt;
&lt;td&gt;5&lt;/td&gt;
&lt;td&gt;6&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;Utah&lt;/th&gt;
&lt;td&gt;8&lt;/td&gt;
&lt;td&gt;9&lt;/td&gt;
&lt;td&gt;10&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;New York&lt;/th&gt;
&lt;td&gt;12&lt;/td&gt;
&lt;td&gt;13&lt;/td&gt;
&lt;td&gt;14&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="算术运算和数据对齐"&gt;算术运算和数据对齐&lt;a class="anchor-link" href="#算术运算和数据对齐"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;Pandas 在对 Series 和 DataFrame 进行算术运算时，能够根据索引自动对齐,其中索引不重合的部分值为NaN。&lt;/p&gt;
&lt;p&gt;+，-，*，/ 对应的函数分别为 &lt;code&gt;add()&lt;/code&gt;, &lt;code&gt;sub()&lt;/code&gt;, &lt;code&gt;mul()&lt;/code&gt;, &lt;code&gt;div()&lt;/code&gt;。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[69]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;s1&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Series&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="mf"&gt;7.3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;2.5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;3.4&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;1.5&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;index&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'a'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'c'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'d'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'e'&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="n"&gt;s2&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Series&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;2.1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;3.6&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;1.5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;3.1&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;index&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'a'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'c'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'e'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'f'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'g'&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[70]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;s1&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[70]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;a    7.3
c   -2.5
d    3.4
e    1.5
dtype: float64&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[71]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;s2&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[71]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;a   -2.1
c    3.6
e   -1.5
f    4.0
g    3.1
dtype: float64&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[72]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;s1&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;s2&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[72]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;a    5.2
c    1.1
d    NaN
e    0.0
f    NaN
g    NaN
dtype: float64&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[73]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;df1&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;DataFrame&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;arange&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mf"&gt;9.&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;reshape&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;)),&lt;/span&gt; &lt;span class="n"&gt;columns&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nb"&gt;list&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'bcd'&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
                &lt;span class="n"&gt;index&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'Ohio'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'Texas'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'Colorado'&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="n"&gt;df2&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;DataFrame&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;arange&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mf"&gt;12.&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;reshape&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;)),&lt;/span&gt; &lt;span class="n"&gt;columns&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nb"&gt;list&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'bde'&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
                &lt;span class="n"&gt;index&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'Utah'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'Ohio'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'Texas'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'Oregon'&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="n"&gt;df1&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[73]:&lt;/div&gt;
&lt;div class="output_html rendered_html output_subarea output_execute_result"&gt;
&lt;div&gt;
&lt;table border="1" class="dataframe"&gt;
&lt;thead&gt;
&lt;tr style="text-align: right;"&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;b&lt;/th&gt;
&lt;th&gt;c&lt;/th&gt;
&lt;th&gt;d&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;th&gt;Ohio&lt;/th&gt;
&lt;td&gt;0.0&lt;/td&gt;
&lt;td&gt;1.0&lt;/td&gt;
&lt;td&gt;2.0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;Texas&lt;/th&gt;
&lt;td&gt;3.0&lt;/td&gt;
&lt;td&gt;4.0&lt;/td&gt;
&lt;td&gt;5.0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;Colorado&lt;/th&gt;
&lt;td&gt;6.0&lt;/td&gt;
&lt;td&gt;7.0&lt;/td&gt;
&lt;td&gt;8.0&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[74]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;df2&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[74]:&lt;/div&gt;
&lt;div class="output_html rendered_html output_subarea output_execute_result"&gt;
&lt;div&gt;
&lt;table border="1" class="dataframe"&gt;
&lt;thead&gt;
&lt;tr style="text-align: right;"&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;b&lt;/th&gt;
&lt;th&gt;d&lt;/th&gt;
&lt;th&gt;e&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;th&gt;Utah&lt;/th&gt;
&lt;td&gt;0.0&lt;/td&gt;
&lt;td&gt;1.0&lt;/td&gt;
&lt;td&gt;2.0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;Ohio&lt;/th&gt;
&lt;td&gt;3.0&lt;/td&gt;
&lt;td&gt;4.0&lt;/td&gt;
&lt;td&gt;5.0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;Texas&lt;/th&gt;
&lt;td&gt;6.0&lt;/td&gt;
&lt;td&gt;7.0&lt;/td&gt;
&lt;td&gt;8.0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;Oregon&lt;/th&gt;
&lt;td&gt;9.0&lt;/td&gt;
&lt;td&gt;10.0&lt;/td&gt;
&lt;td&gt;11.0&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[75]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;df1&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;df2&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[75]:&lt;/div&gt;
&lt;div class="output_html rendered_html output_subarea output_execute_result"&gt;
&lt;div&gt;
&lt;table border="1" class="dataframe"&gt;
&lt;thead&gt;
&lt;tr style="text-align: right;"&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;b&lt;/th&gt;
&lt;th&gt;c&lt;/th&gt;
&lt;th&gt;d&lt;/th&gt;
&lt;th&gt;e&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;th&gt;Colorado&lt;/th&gt;
&lt;td&gt;NaN&lt;/td&gt;
&lt;td&gt;NaN&lt;/td&gt;
&lt;td&gt;NaN&lt;/td&gt;
&lt;td&gt;NaN&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;Ohio&lt;/th&gt;
&lt;td&gt;3.0&lt;/td&gt;
&lt;td&gt;NaN&lt;/td&gt;
&lt;td&gt;6.0&lt;/td&gt;
&lt;td&gt;NaN&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;Oregon&lt;/th&gt;
&lt;td&gt;NaN&lt;/td&gt;
&lt;td&gt;NaN&lt;/td&gt;
&lt;td&gt;NaN&lt;/td&gt;
&lt;td&gt;NaN&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;Texas&lt;/th&gt;
&lt;td&gt;9.0&lt;/td&gt;
&lt;td&gt;NaN&lt;/td&gt;
&lt;td&gt;12.0&lt;/td&gt;
&lt;td&gt;NaN&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;Utah&lt;/th&gt;
&lt;td&gt;NaN&lt;/td&gt;
&lt;td&gt;NaN&lt;/td&gt;
&lt;td&gt;NaN&lt;/td&gt;
&lt;td&gt;NaN&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="在算术方法中填充值"&gt;在算术方法中填充值&lt;a class="anchor-link" href="#在算术方法中填充值"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[76]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;df1&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;DataFrame&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;arange&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mf"&gt;12.&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;reshape&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;)),&lt;/span&gt; &lt;span class="n"&gt;columns&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nb"&gt;list&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'abcd'&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="n"&gt;df2&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;DataFrame&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;arange&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mf"&gt;20.&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;reshape&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;)),&lt;/span&gt; &lt;span class="n"&gt;columns&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nb"&gt;list&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'abcde'&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="n"&gt;df1&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[76]:&lt;/div&gt;
&lt;div class="output_html rendered_html output_subarea output_execute_result"&gt;
&lt;div&gt;
&lt;table border="1" class="dataframe"&gt;
&lt;thead&gt;
&lt;tr style="text-align: right;"&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;a&lt;/th&gt;
&lt;th&gt;b&lt;/th&gt;
&lt;th&gt;c&lt;/th&gt;
&lt;th&gt;d&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;th&gt;0&lt;/th&gt;
&lt;td&gt;0.0&lt;/td&gt;
&lt;td&gt;1.0&lt;/td&gt;
&lt;td&gt;2.0&lt;/td&gt;
&lt;td&gt;3.0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;1&lt;/th&gt;
&lt;td&gt;4.0&lt;/td&gt;
&lt;td&gt;5.0&lt;/td&gt;
&lt;td&gt;6.0&lt;/td&gt;
&lt;td&gt;7.0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;2&lt;/th&gt;
&lt;td&gt;8.0&lt;/td&gt;
&lt;td&gt;9.0&lt;/td&gt;
&lt;td&gt;10.0&lt;/td&gt;
&lt;td&gt;11.0&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[77]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;df2&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[77]:&lt;/div&gt;
&lt;div class="output_html rendered_html output_subarea output_execute_result"&gt;
&lt;div&gt;
&lt;table border="1" class="dataframe"&gt;
&lt;thead&gt;
&lt;tr style="text-align: right;"&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;a&lt;/th&gt;
&lt;th&gt;b&lt;/th&gt;
&lt;th&gt;c&lt;/th&gt;
&lt;th&gt;d&lt;/th&gt;
&lt;th&gt;e&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;th&gt;0&lt;/th&gt;
&lt;td&gt;0.0&lt;/td&gt;
&lt;td&gt;1.0&lt;/td&gt;
&lt;td&gt;2.0&lt;/td&gt;
&lt;td&gt;3.0&lt;/td&gt;
&lt;td&gt;4.0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;1&lt;/th&gt;
&lt;td&gt;5.0&lt;/td&gt;
&lt;td&gt;6.0&lt;/td&gt;
&lt;td&gt;7.0&lt;/td&gt;
&lt;td&gt;8.0&lt;/td&gt;
&lt;td&gt;9.0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;2&lt;/th&gt;
&lt;td&gt;10.0&lt;/td&gt;
&lt;td&gt;11.0&lt;/td&gt;
&lt;td&gt;12.0&lt;/td&gt;
&lt;td&gt;13.0&lt;/td&gt;
&lt;td&gt;14.0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;3&lt;/th&gt;
&lt;td&gt;15.0&lt;/td&gt;
&lt;td&gt;16.0&lt;/td&gt;
&lt;td&gt;17.0&lt;/td&gt;
&lt;td&gt;18.0&lt;/td&gt;
&lt;td&gt;19.0&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[78]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;df1&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;df2&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[78]:&lt;/div&gt;
&lt;div class="output_html rendered_html output_subarea output_execute_result"&gt;
&lt;div&gt;
&lt;table border="1" class="dataframe"&gt;
&lt;thead&gt;
&lt;tr style="text-align: right;"&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;a&lt;/th&gt;
&lt;th&gt;b&lt;/th&gt;
&lt;th&gt;c&lt;/th&gt;
&lt;th&gt;d&lt;/th&gt;
&lt;th&gt;e&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;th&gt;0&lt;/th&gt;
&lt;td&gt;0.0&lt;/td&gt;
&lt;td&gt;2.0&lt;/td&gt;
&lt;td&gt;4.0&lt;/td&gt;
&lt;td&gt;6.0&lt;/td&gt;
&lt;td&gt;NaN&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;1&lt;/th&gt;
&lt;td&gt;9.0&lt;/td&gt;
&lt;td&gt;11.0&lt;/td&gt;
&lt;td&gt;13.0&lt;/td&gt;
&lt;td&gt;15.0&lt;/td&gt;
&lt;td&gt;NaN&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;2&lt;/th&gt;
&lt;td&gt;18.0&lt;/td&gt;
&lt;td&gt;20.0&lt;/td&gt;
&lt;td&gt;22.0&lt;/td&gt;
&lt;td&gt;24.0&lt;/td&gt;
&lt;td&gt;NaN&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;3&lt;/th&gt;
&lt;td&gt;NaN&lt;/td&gt;
&lt;td&gt;NaN&lt;/td&gt;
&lt;td&gt;NaN&lt;/td&gt;
&lt;td&gt;NaN&lt;/td&gt;
&lt;td&gt;NaN&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[79]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;df1&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;add&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;df2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;fill_value&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[79]:&lt;/div&gt;
&lt;div class="output_html rendered_html output_subarea output_execute_result"&gt;
&lt;div&gt;
&lt;table border="1" class="dataframe"&gt;
&lt;thead&gt;
&lt;tr style="text-align: right;"&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;a&lt;/th&gt;
&lt;th&gt;b&lt;/th&gt;
&lt;th&gt;c&lt;/th&gt;
&lt;th&gt;d&lt;/th&gt;
&lt;th&gt;e&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;th&gt;0&lt;/th&gt;
&lt;td&gt;0.0&lt;/td&gt;
&lt;td&gt;2.0&lt;/td&gt;
&lt;td&gt;4.0&lt;/td&gt;
&lt;td&gt;6.0&lt;/td&gt;
&lt;td&gt;4.0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;1&lt;/th&gt;
&lt;td&gt;9.0&lt;/td&gt;
&lt;td&gt;11.0&lt;/td&gt;
&lt;td&gt;13.0&lt;/td&gt;
&lt;td&gt;15.0&lt;/td&gt;
&lt;td&gt;9.0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;2&lt;/th&gt;
&lt;td&gt;18.0&lt;/td&gt;
&lt;td&gt;20.0&lt;/td&gt;
&lt;td&gt;22.0&lt;/td&gt;
&lt;td&gt;24.0&lt;/td&gt;
&lt;td&gt;14.0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;3&lt;/th&gt;
&lt;td&gt;15.0&lt;/td&gt;
&lt;td&gt;16.0&lt;/td&gt;
&lt;td&gt;17.0&lt;/td&gt;
&lt;td&gt;18.0&lt;/td&gt;
&lt;td&gt;19.0&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[80]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;df1&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;reindex&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;columns&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;df2&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;columns&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;fill_value&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[80]:&lt;/div&gt;
&lt;div class="output_html rendered_html output_subarea output_execute_result"&gt;
&lt;div&gt;
&lt;table border="1" class="dataframe"&gt;
&lt;thead&gt;
&lt;tr style="text-align: right;"&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;a&lt;/th&gt;
&lt;th&gt;b&lt;/th&gt;
&lt;th&gt;c&lt;/th&gt;
&lt;th&gt;d&lt;/th&gt;
&lt;th&gt;e&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;th&gt;0&lt;/th&gt;
&lt;td&gt;0.0&lt;/td&gt;
&lt;td&gt;1.0&lt;/td&gt;
&lt;td&gt;2.0&lt;/td&gt;
&lt;td&gt;3.0&lt;/td&gt;
&lt;td&gt;0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;1&lt;/th&gt;
&lt;td&gt;4.0&lt;/td&gt;
&lt;td&gt;5.0&lt;/td&gt;
&lt;td&gt;6.0&lt;/td&gt;
&lt;td&gt;7.0&lt;/td&gt;
&lt;td&gt;0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;2&lt;/th&gt;
&lt;td&gt;8.0&lt;/td&gt;
&lt;td&gt;9.0&lt;/td&gt;
&lt;td&gt;10.0&lt;/td&gt;
&lt;td&gt;11.0&lt;/td&gt;
&lt;td&gt;0&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="DataFrame-和-Series-之间的运算"&gt;DataFrame 和 Series 之间的运算&lt;a class="anchor-link" href="#DataFrame-和-Series-之间的运算"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[81]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;arr&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;arange&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mf"&gt;12.&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;reshape&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="n"&gt;arr&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[81]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;array([[  0.,   1.,   2.,   3.],
       [  4.,   5.,   6.,   7.],
       [  8.,   9.,  10.,  11.]])&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[82]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;arr&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[82]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;array([ 0.,  1.,  2.,  3.])&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[83]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;arr&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="n"&gt;arr&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[83]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;array([[ 0.,  0.,  0.,  0.],
       [ 4.,  4.,  4.,  4.],
       [ 8.,  8.,  8.,  8.]])&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[84]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;frame&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;DataFrame&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;arange&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mf"&gt;12.&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;reshape&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;)),&lt;/span&gt; &lt;span class="n"&gt;columns&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nb"&gt;list&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'bde'&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
                  &lt;span class="n"&gt;index&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'Utah'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'Ohio'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'Texas'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'Oregon'&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="n"&gt;series&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;frame&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ix&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;frame&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[84]:&lt;/div&gt;
&lt;div class="output_html rendered_html output_subarea output_execute_result"&gt;
&lt;div&gt;
&lt;table border="1" class="dataframe"&gt;
&lt;thead&gt;
&lt;tr style="text-align: right;"&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;b&lt;/th&gt;
&lt;th&gt;d&lt;/th&gt;
&lt;th&gt;e&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;th&gt;Utah&lt;/th&gt;
&lt;td&gt;0.0&lt;/td&gt;
&lt;td&gt;1.0&lt;/td&gt;
&lt;td&gt;2.0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;Ohio&lt;/th&gt;
&lt;td&gt;3.0&lt;/td&gt;
&lt;td&gt;4.0&lt;/td&gt;
&lt;td&gt;5.0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;Texas&lt;/th&gt;
&lt;td&gt;6.0&lt;/td&gt;
&lt;td&gt;7.0&lt;/td&gt;
&lt;td&gt;8.0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;Oregon&lt;/th&gt;
&lt;td&gt;9.0&lt;/td&gt;
&lt;td&gt;10.0&lt;/td&gt;
&lt;td&gt;11.0&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[85]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;series&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[85]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;b    0.0
d    1.0
e    2.0
Name: Utah, dtype: float64&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[91]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# 将Series的索引匹配到DataFrame的列，然后进行计算，再沿着行一直向下广播&lt;/span&gt;
&lt;span class="n"&gt;frame&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="n"&gt;series&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[91]:&lt;/div&gt;
&lt;div class="output_html rendered_html output_subarea output_execute_result"&gt;
&lt;div&gt;
&lt;table border="1" class="dataframe"&gt;
&lt;thead&gt;
&lt;tr style="text-align: right;"&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;b&lt;/th&gt;
&lt;th&gt;d&lt;/th&gt;
&lt;th&gt;e&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;th&gt;Utah&lt;/th&gt;
&lt;td&gt;0.0&lt;/td&gt;
&lt;td&gt;0.0&lt;/td&gt;
&lt;td&gt;0.0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;Ohio&lt;/th&gt;
&lt;td&gt;3.0&lt;/td&gt;
&lt;td&gt;3.0&lt;/td&gt;
&lt;td&gt;3.0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;Texas&lt;/th&gt;
&lt;td&gt;6.0&lt;/td&gt;
&lt;td&gt;6.0&lt;/td&gt;
&lt;td&gt;6.0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;Oregon&lt;/th&gt;
&lt;td&gt;9.0&lt;/td&gt;
&lt;td&gt;9.0&lt;/td&gt;
&lt;td&gt;9.0&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[92]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;series2&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Series&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;index&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'b'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'e'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'f'&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="n"&gt;series2&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[92]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;b    0
e    1
f    2
dtype: int64&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[95]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;#  非共有的列，自动填充&lt;/span&gt;
&lt;span class="n"&gt;frame&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;series2&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[95]:&lt;/div&gt;
&lt;div class="output_html rendered_html output_subarea output_execute_result"&gt;
&lt;div&gt;
&lt;table border="1" class="dataframe"&gt;
&lt;thead&gt;
&lt;tr style="text-align: right;"&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;b&lt;/th&gt;
&lt;th&gt;d&lt;/th&gt;
&lt;th&gt;e&lt;/th&gt;
&lt;th&gt;f&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;th&gt;Utah&lt;/th&gt;
&lt;td&gt;0.0&lt;/td&gt;
&lt;td&gt;NaN&lt;/td&gt;
&lt;td&gt;3.0&lt;/td&gt;
&lt;td&gt;NaN&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;Ohio&lt;/th&gt;
&lt;td&gt;3.0&lt;/td&gt;
&lt;td&gt;NaN&lt;/td&gt;
&lt;td&gt;6.0&lt;/td&gt;
&lt;td&gt;NaN&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;Texas&lt;/th&gt;
&lt;td&gt;6.0&lt;/td&gt;
&lt;td&gt;NaN&lt;/td&gt;
&lt;td&gt;9.0&lt;/td&gt;
&lt;td&gt;NaN&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;Oregon&lt;/th&gt;
&lt;td&gt;9.0&lt;/td&gt;
&lt;td&gt;NaN&lt;/td&gt;
&lt;td&gt;12.0&lt;/td&gt;
&lt;td&gt;NaN&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[88]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;series3&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;frame&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'d'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;frame&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[88]:&lt;/div&gt;
&lt;div class="output_html rendered_html output_subarea output_execute_result"&gt;
&lt;div&gt;
&lt;table border="1" class="dataframe"&gt;
&lt;thead&gt;
&lt;tr style="text-align: right;"&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;b&lt;/th&gt;
&lt;th&gt;d&lt;/th&gt;
&lt;th&gt;e&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;th&gt;Utah&lt;/th&gt;
&lt;td&gt;0.0&lt;/td&gt;
&lt;td&gt;1.0&lt;/td&gt;
&lt;td&gt;2.0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;Ohio&lt;/th&gt;
&lt;td&gt;3.0&lt;/td&gt;
&lt;td&gt;4.0&lt;/td&gt;
&lt;td&gt;5.0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;Texas&lt;/th&gt;
&lt;td&gt;6.0&lt;/td&gt;
&lt;td&gt;7.0&lt;/td&gt;
&lt;td&gt;8.0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;Oregon&lt;/th&gt;
&lt;td&gt;9.0&lt;/td&gt;
&lt;td&gt;10.0&lt;/td&gt;
&lt;td&gt;11.0&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[89]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;series3&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[89]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;Utah       1.0
Ohio       4.0
Texas      7.0
Oregon    10.0
Name: d, dtype: float64&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[96]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# 使用算术运算方法，可以指定轴，从而实现匹配行且在列上广播&lt;/span&gt;
&lt;span class="n"&gt;frame&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sub&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;series3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;axis&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[96]:&lt;/div&gt;
&lt;div class="output_html rendered_html output_subarea output_execute_result"&gt;
&lt;div&gt;
&lt;table border="1" class="dataframe"&gt;
&lt;thead&gt;
&lt;tr style="text-align: right;"&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;b&lt;/th&gt;
&lt;th&gt;d&lt;/th&gt;
&lt;th&gt;e&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;th&gt;Utah&lt;/th&gt;
&lt;td&gt;-1.0&lt;/td&gt;
&lt;td&gt;0.0&lt;/td&gt;
&lt;td&gt;1.0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;Ohio&lt;/th&gt;
&lt;td&gt;-1.0&lt;/td&gt;
&lt;td&gt;0.0&lt;/td&gt;
&lt;td&gt;1.0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;Texas&lt;/th&gt;
&lt;td&gt;-1.0&lt;/td&gt;
&lt;td&gt;0.0&lt;/td&gt;
&lt;td&gt;1.0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;Oregon&lt;/th&gt;
&lt;td&gt;-1.0&lt;/td&gt;
&lt;td&gt;0.0&lt;/td&gt;
&lt;td&gt;1.0&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="函数应用和映射_1"&gt;函数应用和映射&lt;a class="anchor-link" href="#函数应用和映射"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[97]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;frame&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;DataFrame&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;random&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;randn&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;columns&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nb"&gt;list&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'bde'&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
                  &lt;span class="n"&gt;index&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'Utah'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'Ohio'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'Texas'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'Oregon'&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[98]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;frame&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[98]:&lt;/div&gt;
&lt;div class="output_html rendered_html output_subarea output_execute_result"&gt;
&lt;div&gt;
&lt;table border="1" class="dataframe"&gt;
&lt;thead&gt;
&lt;tr style="text-align: right;"&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;b&lt;/th&gt;
&lt;th&gt;d&lt;/th&gt;
&lt;th&gt;e&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;th&gt;Utah&lt;/th&gt;
&lt;td&gt;0.155111&lt;/td&gt;
&lt;td&gt;-0.301627&lt;/td&gt;
&lt;td&gt;0.034083&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;Ohio&lt;/th&gt;
&lt;td&gt;-0.003312&lt;/td&gt;
&lt;td&gt;0.807804&lt;/td&gt;
&lt;td&gt;-1.046114&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;Texas&lt;/th&gt;
&lt;td&gt;1.983635&lt;/td&gt;
&lt;td&gt;-0.667859&lt;/td&gt;
&lt;td&gt;1.657091&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;Oregon&lt;/th&gt;
&lt;td&gt;1.633512&lt;/td&gt;
&lt;td&gt;-2.041568&lt;/td&gt;
&lt;td&gt;0.820017&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[100]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# 求绝对值函数&lt;/span&gt;
&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;abs&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;frame&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[100]:&lt;/div&gt;
&lt;div class="output_html rendered_html output_subarea output_execute_result"&gt;
&lt;div&gt;
&lt;table border="1" class="dataframe"&gt;
&lt;thead&gt;
&lt;tr style="text-align: right;"&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;b&lt;/th&gt;
&lt;th&gt;d&lt;/th&gt;
&lt;th&gt;e&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;th&gt;Utah&lt;/th&gt;
&lt;td&gt;0.155111&lt;/td&gt;
&lt;td&gt;0.301627&lt;/td&gt;
&lt;td&gt;0.034083&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;Ohio&lt;/th&gt;
&lt;td&gt;0.003312&lt;/td&gt;
&lt;td&gt;0.807804&lt;/td&gt;
&lt;td&gt;1.046114&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;Texas&lt;/th&gt;
&lt;td&gt;1.983635&lt;/td&gt;
&lt;td&gt;0.667859&lt;/td&gt;
&lt;td&gt;1.657091&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;Oregon&lt;/th&gt;
&lt;td&gt;1.633512&lt;/td&gt;
&lt;td&gt;2.041568&lt;/td&gt;
&lt;td&gt;0.820017&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[103]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;#另一种常见的做法是：将一个函数应用到行或者列上,用apply方法&lt;/span&gt;
&lt;span class="c1"&gt;# 默认应用到行，广播到列&lt;/span&gt;
&lt;span class="n"&gt;f&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;lambda&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;max&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;min&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;frame&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;apply&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[103]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;b    1.986947
d    2.849372
e    2.703205
dtype: float64&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[104]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# 通过指定 axis，可以应用到列，广播到行&lt;/span&gt;
&lt;span class="n"&gt;frame&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;apply&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;axis&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[104]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;Utah      0.456738
Ohio      1.853918
Texas     2.651494
Oregon    3.675080
dtype: float64&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[105]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# 传递的函数还可以返回 Series&lt;/span&gt;
&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;f&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;Series&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;min&lt;/span&gt;&lt;span class="p"&gt;(),&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;max&lt;/span&gt;&lt;span class="p"&gt;()],&lt;/span&gt; &lt;span class="n"&gt;index&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'min'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'max'&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="n"&gt;frame&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;apply&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;f&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[105]:&lt;/div&gt;
&lt;div class="output_html rendered_html output_subarea output_execute_result"&gt;
&lt;div&gt;
&lt;table border="1" class="dataframe"&gt;
&lt;thead&gt;
&lt;tr style="text-align: right;"&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;b&lt;/th&gt;
&lt;th&gt;d&lt;/th&gt;
&lt;th&gt;e&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;th&gt;min&lt;/th&gt;
&lt;td&gt;-0.003312&lt;/td&gt;
&lt;td&gt;-2.041568&lt;/td&gt;
&lt;td&gt;-1.046114&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;max&lt;/th&gt;
&lt;td&gt;1.983635&lt;/td&gt;
&lt;td&gt;0.807804&lt;/td&gt;
&lt;td&gt;1.657091&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[109]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# applymap:  应用到元素（而不是行和列）&lt;/span&gt;
&lt;span class="nb"&gt;format&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;lambda&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;'&lt;/span&gt;&lt;span class="si"&gt;%.2f&lt;/span&gt;&lt;span class="s1"&gt;'&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;
&lt;span class="n"&gt;frame&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;applymap&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;format&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[109]:&lt;/div&gt;
&lt;div class="output_html rendered_html output_subarea output_execute_result"&gt;
&lt;div&gt;
&lt;table border="1" class="dataframe"&gt;
&lt;thead&gt;
&lt;tr style="text-align: right;"&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;b&lt;/th&gt;
&lt;th&gt;d&lt;/th&gt;
&lt;th&gt;e&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;th&gt;Utah&lt;/th&gt;
&lt;td&gt;0.16&lt;/td&gt;
&lt;td&gt;-0.30&lt;/td&gt;
&lt;td&gt;0.03&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;Ohio&lt;/th&gt;
&lt;td&gt;-0.00&lt;/td&gt;
&lt;td&gt;0.81&lt;/td&gt;
&lt;td&gt;-1.05&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;Texas&lt;/th&gt;
&lt;td&gt;1.98&lt;/td&gt;
&lt;td&gt;-0.67&lt;/td&gt;
&lt;td&gt;1.66&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;Oregon&lt;/th&gt;
&lt;td&gt;1.63&lt;/td&gt;
&lt;td&gt;-2.04&lt;/td&gt;
&lt;td&gt;0.82&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[111]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# 因为 frame 调用了 Series 的 map()函数&lt;/span&gt;
&lt;span class="n"&gt;frame&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'e'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;map&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;format&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[111]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;Utah       0.03
Ohio      -1.05
Texas      1.66
Oregon     0.82
Name: e, dtype: object&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="排序和排名"&gt;排序和排名&lt;a class="anchor-link" href="#排序和排名"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;主要的函数包括：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;sort_index(): 按索引排序&lt;/li&gt;
&lt;li&gt;sort_values(): 按值排序&lt;/li&gt;
&lt;li&gt;rank(): 排名&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[113]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;#用sort_index函数对行、列的索引进行排序&lt;/span&gt;
&lt;span class="n"&gt;obj&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Series&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;index&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'d'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'a'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'b'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'c'&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="n"&gt;obj&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sort_index&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[113]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;a    1
b    2
c    3
d    0
dtype: int64&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[114]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;frame&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;DataFrame&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;arange&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;8&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;reshape&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;)),&lt;/span&gt; &lt;span class="n"&gt;index&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'three'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'one'&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
                  &lt;span class="n"&gt;columns&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'d'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'a'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'b'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'c'&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="n"&gt;frame&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sort_index&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[114]:&lt;/div&gt;
&lt;div class="output_html rendered_html output_subarea output_execute_result"&gt;
&lt;div&gt;
&lt;table border="1" class="dataframe"&gt;
&lt;thead&gt;
&lt;tr style="text-align: right;"&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;d&lt;/th&gt;
&lt;th&gt;a&lt;/th&gt;
&lt;th&gt;b&lt;/th&gt;
&lt;th&gt;c&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;th&gt;one&lt;/th&gt;
&lt;td&gt;4&lt;/td&gt;
&lt;td&gt;5&lt;/td&gt;
&lt;td&gt;6&lt;/td&gt;
&lt;td&gt;7&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;three&lt;/th&gt;
&lt;td&gt;0&lt;/td&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;td&gt;3&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[115]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;frame&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sort_index&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;axis&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[115]:&lt;/div&gt;
&lt;div class="output_html rendered_html output_subarea output_execute_result"&gt;
&lt;div&gt;
&lt;table border="1" class="dataframe"&gt;
&lt;thead&gt;
&lt;tr style="text-align: right;"&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;a&lt;/th&gt;
&lt;th&gt;b&lt;/th&gt;
&lt;th&gt;c&lt;/th&gt;
&lt;th&gt;d&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;th&gt;three&lt;/th&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;td&gt;3&lt;/td&gt;
&lt;td&gt;0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;one&lt;/th&gt;
&lt;td&gt;5&lt;/td&gt;
&lt;td&gt;6&lt;/td&gt;
&lt;td&gt;7&lt;/td&gt;
&lt;td&gt;4&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[116]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;frame&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sort_index&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;axis&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;ascending&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;False&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[116]:&lt;/div&gt;
&lt;div class="output_html rendered_html output_subarea output_execute_result"&gt;
&lt;div&gt;
&lt;table border="1" class="dataframe"&gt;
&lt;thead&gt;
&lt;tr style="text-align: right;"&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;d&lt;/th&gt;
&lt;th&gt;c&lt;/th&gt;
&lt;th&gt;b&lt;/th&gt;
&lt;th&gt;a&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;th&gt;three&lt;/th&gt;
&lt;td&gt;0&lt;/td&gt;
&lt;td&gt;3&lt;/td&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;one&lt;/th&gt;
&lt;td&gt;4&lt;/td&gt;
&lt;td&gt;7&lt;/td&gt;
&lt;td&gt;6&lt;/td&gt;
&lt;td&gt;5&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[118]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;#  对值排序，使用 sort_values()&lt;/span&gt;
&lt;span class="n"&gt;obj&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Series&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;7&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="n"&gt;obj&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sort_values&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[118]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;2   -3
3    2
0    4
1    7
dtype: int64&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[119]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;obj&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Series&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;nan&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;7&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;nan&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="n"&gt;obj&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sort_values&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[119]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;4   -3.0
5    2.0
0    4.0
2    7.0
1    NaN
3    NaN
dtype: float64&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[120]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;frame&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;DataFrame&lt;/span&gt;&lt;span class="p"&gt;({&lt;/span&gt;&lt;span class="s1"&gt;'b'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;7&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="s1"&gt;'a'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]})&lt;/span&gt;
&lt;span class="n"&gt;frame&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[120]:&lt;/div&gt;
&lt;div class="output_html rendered_html output_subarea output_execute_result"&gt;
&lt;div&gt;
&lt;table border="1" class="dataframe"&gt;
&lt;thead&gt;
&lt;tr style="text-align: right;"&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;a&lt;/th&gt;
&lt;th&gt;b&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;th&gt;0&lt;/th&gt;
&lt;td&gt;0&lt;/td&gt;
&lt;td&gt;4&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;1&lt;/th&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;7&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;2&lt;/th&gt;
&lt;td&gt;0&lt;/td&gt;
&lt;td&gt;-3&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;3&lt;/th&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[122]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;frame&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sort_values&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;by&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'b'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[122]:&lt;/div&gt;
&lt;div class="output_html rendered_html output_subarea output_execute_result"&gt;
&lt;div&gt;
&lt;table border="1" class="dataframe"&gt;
&lt;thead&gt;
&lt;tr style="text-align: right;"&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;a&lt;/th&gt;
&lt;th&gt;b&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;th&gt;2&lt;/th&gt;
&lt;td&gt;0&lt;/td&gt;
&lt;td&gt;-3&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;3&lt;/th&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;0&lt;/th&gt;
&lt;td&gt;0&lt;/td&gt;
&lt;td&gt;4&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;1&lt;/th&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;7&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[123]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;frame&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sort_values&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;by&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'a'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'b'&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[123]:&lt;/div&gt;
&lt;div class="output_html rendered_html output_subarea output_execute_result"&gt;
&lt;div&gt;
&lt;table border="1" class="dataframe"&gt;
&lt;thead&gt;
&lt;tr style="text-align: right;"&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;a&lt;/th&gt;
&lt;th&gt;b&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;th&gt;2&lt;/th&gt;
&lt;td&gt;0&lt;/td&gt;
&lt;td&gt;-3&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;0&lt;/th&gt;
&lt;td&gt;0&lt;/td&gt;
&lt;td&gt;4&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;3&lt;/th&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;1&lt;/th&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;7&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[128]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;#rank函数返回从小到大排序的下标，对于平级的数，rank是通过&amp;ldquo;为各组分配一个平均排名&amp;rdquo;的方式破坏平级关系&lt;/span&gt;
&lt;span class="c1"&gt;#下标从1开始&lt;/span&gt;
&lt;span class="n"&gt;obj&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Series&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="mi"&gt;7&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;7&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="n"&gt;obj&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;rank&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[128]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;0    6.5
1    1.0
2    6.5
3    4.5
4    3.0
5    2.0
6    4.5
dtype: float64&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[125]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;obj&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;rank&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;method&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'first'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[125]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;0    6.0
1    1.0
2    7.0
3    4.0
4    3.0
5    2.0
6    5.0
dtype: float64&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[129]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;obj&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;rank&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ascending&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;False&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;method&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'max'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[129]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;0    2.0
1    7.0
2    2.0
3    4.0
4    5.0
5    6.0
6    4.0
dtype: float64&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[130]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;frame&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;DataFrame&lt;/span&gt;&lt;span class="p"&gt;({&lt;/span&gt;&lt;span class="s1"&gt;'b'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mf"&gt;4.3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;7&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="s1"&gt;'a'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
                   &lt;span class="s1"&gt;'c'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;8&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;2.5&lt;/span&gt;&lt;span class="p"&gt;]})&lt;/span&gt;
&lt;span class="n"&gt;frame&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[130]:&lt;/div&gt;
&lt;div class="output_html rendered_html output_subarea output_execute_result"&gt;
&lt;div&gt;
&lt;table border="1" class="dataframe"&gt;
&lt;thead&gt;
&lt;tr style="text-align: right;"&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;a&lt;/th&gt;
&lt;th&gt;b&lt;/th&gt;
&lt;th&gt;c&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;th&gt;0&lt;/th&gt;
&lt;td&gt;0&lt;/td&gt;
&lt;td&gt;4.3&lt;/td&gt;
&lt;td&gt;-2.0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;1&lt;/th&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;7.0&lt;/td&gt;
&lt;td&gt;5.0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;2&lt;/th&gt;
&lt;td&gt;0&lt;/td&gt;
&lt;td&gt;-3.0&lt;/td&gt;
&lt;td&gt;8.0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;3&lt;/th&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;2.0&lt;/td&gt;
&lt;td&gt;-2.5&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[131]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;frame&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;rank&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;axis&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[131]:&lt;/div&gt;
&lt;div class="output_html rendered_html output_subarea output_execute_result"&gt;
&lt;div&gt;
&lt;table border="1" class="dataframe"&gt;
&lt;thead&gt;
&lt;tr style="text-align: right;"&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;a&lt;/th&gt;
&lt;th&gt;b&lt;/th&gt;
&lt;th&gt;c&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;th&gt;0&lt;/th&gt;
&lt;td&gt;2.0&lt;/td&gt;
&lt;td&gt;3.0&lt;/td&gt;
&lt;td&gt;1.0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;1&lt;/th&gt;
&lt;td&gt;1.0&lt;/td&gt;
&lt;td&gt;3.0&lt;/td&gt;
&lt;td&gt;2.0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;2&lt;/th&gt;
&lt;td&gt;2.0&lt;/td&gt;
&lt;td&gt;1.0&lt;/td&gt;
&lt;td&gt;3.0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;3&lt;/th&gt;
&lt;td&gt;2.0&lt;/td&gt;
&lt;td&gt;3.0&lt;/td&gt;
&lt;td&gt;1.0&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="带有重复值的轴索引"&gt;带有重复值的轴索引&lt;a class="anchor-link" href="#带有重复值的轴索引"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[132]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;obj&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Series&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;index&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'a'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'a'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'b'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'b'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'c'&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="n"&gt;obj&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[132]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;a    0
a    1
b    2
b    3
c    4
dtype: int64&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[133]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;#用is_unique看是否唯一&lt;/span&gt;
&lt;span class="n"&gt;obj&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;index&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;is_unique&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[133]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;False&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[135]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# #对于重复值的索引，选取的话返回一个Series&lt;/span&gt;
&lt;span class="n"&gt;obj&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'a'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[135]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;a    0
a    1
dtype: int64&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[137]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# 唯一的索引返回一个标量&lt;/span&gt;
&lt;span class="n"&gt;obj&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'c'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[137]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;4&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[138]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;df&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;DataFrame&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;random&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;randn&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;index&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'a'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'a'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'b'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'b'&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="n"&gt;df&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[138]:&lt;/div&gt;
&lt;div class="output_html rendered_html output_subarea output_execute_result"&gt;
&lt;div&gt;
&lt;table border="1" class="dataframe"&gt;
&lt;thead&gt;
&lt;tr style="text-align: right;"&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;0&lt;/th&gt;
&lt;th&gt;1&lt;/th&gt;
&lt;th&gt;2&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;th&gt;a&lt;/th&gt;
&lt;td&gt;-0.146504&lt;/td&gt;
&lt;td&gt;-0.442410&lt;/td&gt;
&lt;td&gt;-1.044600&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;a&lt;/th&gt;
&lt;td&gt;-1.243650&lt;/td&gt;
&lt;td&gt;0.281303&lt;/td&gt;
&lt;td&gt;0.485324&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;b&lt;/th&gt;
&lt;td&gt;1.040675&lt;/td&gt;
&lt;td&gt;0.479036&lt;/td&gt;
&lt;td&gt;-0.753287&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;b&lt;/th&gt;
&lt;td&gt;-1.571259&lt;/td&gt;
&lt;td&gt;0.194030&lt;/td&gt;
&lt;td&gt;0.517437&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[139]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ix&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'b'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[139]:&lt;/div&gt;
&lt;div class="output_html rendered_html output_subarea output_execute_result"&gt;
&lt;div&gt;
&lt;table border="1" class="dataframe"&gt;
&lt;thead&gt;
&lt;tr style="text-align: right;"&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;0&lt;/th&gt;
&lt;th&gt;1&lt;/th&gt;
&lt;th&gt;2&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;th&gt;b&lt;/th&gt;
&lt;td&gt;1.040675&lt;/td&gt;
&lt;td&gt;0.479036&lt;/td&gt;
&lt;td&gt;-0.753287&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;b&lt;/th&gt;
&lt;td&gt;-1.571259&lt;/td&gt;
&lt;td&gt;0.194030&lt;/td&gt;
&lt;td&gt;0.517437&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[&amp;nbsp;]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt; 
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;script type="text/javascript"&gt;if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
    var mathjaxscript = document.createElement('script');
    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
    mathjaxscript.type = 'text/javascript';
    mathjaxscript.src = '//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML';
    mathjaxscript[(window.opera ? "innerHTML" : "text")] =
        "MathJax.Hub.Config({" +
        "    config: ['MMLorHTML.js']," +
        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } }," +
        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
        "    displayAlign: 'center'," +
        "    displayIndent: '0em'," +
        "    showMathMenu: true," +
        "    tex2jax: { " +
        "        inlineMath: [ ['$','$'] ], " +
        "        displayMath: [ ['$$','$$'] ]," +
        "        processEscapes: true," +
        "        preview: 'TeX'," +
        "    }, " +
        "    'HTML-CSS': { " +
        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'black ! important'} }" +
        "    } " +
        "}); ";
    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
}
&lt;/script&gt;
</content><category term="读书笔记"></category><category term="python"></category></entry><entry><title>利用Python进行数据分析(5)：Pandas 入门</title><link href="http://holbrook.github.io/2017/02/23/python_data_analysis5.html" rel="alternate"></link><published>2017-02-23T00:00:00+08:00</published><updated>2017-02-23T00:00:00+08:00</updated><author><name>Holbrook</name></author><id>tag:holbrook.github.io,2017-02-23:/2017/02/23/python_data_analysis5.html</id><summary type="html">&lt;p&gt;《&lt;a href="https://book.douban.com/subject/25779298/"&gt;利用Python进行数据分析&lt;/a&gt;》读书笔记。
第 5 章：Pandas 入门。
NumPy虽然提供了方便的数组处理功能，但是它还是缺少许多数据处理、分析所需的一些快速工具。
Pandas基于NumPy构建，提供众多更高级的数据处理功能，使得以 NumPy 为中心的数据处理工作更便捷。&lt;/p&gt;</summary><content type="html">&lt;p&gt;NumPy虽然提供了方便的数组处理功能，但是它还是缺少许多数据处理、分析所需的一些快速工具。
Pandas基于NumPy构建，提供众多更高级的数据处理功能，使得以 NumPy 为中心的数据处理工作更便捷。&lt;/p&gt;
&lt;p&gt;pandas的作者在设计 Pandas 时，主要考虑以下几个方面：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;按轴自动或显式数据对齐功能的数据结构&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;来自不同数据源的数据，由于各数据源的索引方式不同，经常会出现数据未对齐，而这会导致很多常见错误。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;集成时间序列功能&lt;/li&gt;
&lt;li&gt;既能处理时间序列数据也能处理非时间序列数据的数据结构&lt;/li&gt;
&lt;li&gt;数学运算和简约（比如对某个轴求和）可以根据不同的元数据（轴编号）执行&lt;/li&gt;
&lt;li&gt;灵活处理缺失数据&lt;/li&gt;
&lt;li&gt;合并及其他出现在常见数据库（例如基于SQL的）中的关系型运算&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;引入 Pandas 的约定为：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;pandas&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="n"&gt;Series&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;DataFrame&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;pandas&lt;/span&gt; &lt;span class="kn"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;pd&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;本章内容较多，每节的内容拆分成一个 ipython notebook:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="/2017/02/24/python_data_analysis5-1.html"&gt;数据结构&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="/2017/02/24/python_data_analysis5-2.html"&gt;基本功能&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="/2017/02/27/python_data_analysis5-3.html"&gt;汇总和描述性统计&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=""&gt;处理缺失数据&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=""&gt;层次化索引&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=""&gt;其他&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><category term="读书笔记"></category><category term="python"></category></entry><entry><title>基于决策表实现交易策略</title><link href="http://holbrook.github.io/2017/02/21/strategy_based_on_decision_table.html" rel="alternate"></link><published>2017-02-21T00:00:00+08:00</published><updated>2017-02-21T00:00:00+08:00</updated><author><name>Holbrook</name></author><id>tag:holbrook.github.io,2017-02-21:/2017/02/21/strategy_based_on_decision_table.html</id><summary type="html">&lt;p&gt;与编程语言级别的逻辑控制(&lt;code&gt;if-then-else&lt;/code&gt;，&lt;code&gt;switch&lt;/code&gt;) 相比，决策表能在一个平面中罗列出所有的可能情况，并清晰的指出相应的处理方式，不需要层层嵌套。用户不需要考虑其中的逻辑关系就能一眼看出其中什么样的动作对应什么样的情况，可读性大大提高，并且不容易因为疏忽产生不易察觉的错误。&lt;/p&gt;</summary><content type="html">&lt;p&gt;所以决策表是进行实现复杂控制逻辑的一个有力工具。现在，考虑构建一个通用的决策表，用于定义交易策略。&lt;/p&gt;
&lt;h1 id="jue-ce-biao-yu-gui-ze-yin-qing"&gt;决策表与规则引擎&lt;/h1&gt;
&lt;p&gt;决策表又称判断表，是一种呈表格状的图形工具，适用于描述处理判断条件较多，各条件又相互组合、有多种决策方案的情况。
精确而简洁描述复杂逻辑的方式，将多个条件与这些条件满足后要执行动作相对应。
但不同于传统程序语言中的控制语句，决策表能将多个独立的条件和多个动作直接的联系清晰的表示出来&lt;sup id="fnref-1"&gt;&lt;a class="footnote-ref" href="#fn-1"&gt;1&lt;/a&gt;&lt;/sup&gt;。&lt;/p&gt;
&lt;p&gt;决策表用表格的形式表示一组输入与一组输出的相关规则，可以作为规则引擎的输入。比如，&lt;a href="http://drools.org/"&gt;Drools&lt;/a&gt;
就直接支持使用 Excel 定义的规则表作为规则。&lt;/p&gt;
&lt;h1 id="jue-ce-biao-de-gou-cheng"&gt;决策表的构成&lt;/h1&gt;
&lt;p&gt;决策表通常包括以下组成部分：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;条件&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;一组变量、关系或预测。条件可能的值的范围决定了决策表的类型。
  最简单的形式为逻辑条件，取值为二元的 True/False。
  也可以是用数组或字母代表的分类规则，可以取有限个离散值。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;输入&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;每个条件可能的值。决策表要覆盖条件的所有可能组合。
  但可以用&amp;ldquo;不关心&amp;rdquo;符号来化简决策表。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;动作&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;一组要执行的过程或操作&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;输出&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;根据输入，决定是否以及按怎样的顺序执行动作。　&lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.cnblogs.com/onlyforcloud/articles/4475370.html"&gt;这里&lt;/a&gt;
有一些决策表的例子。&lt;/p&gt;
&lt;h1 id="shi-yong-jue-ce-biao-gou-jian-ce-lue"&gt;使用决策表构建策略&lt;/h1&gt;
&lt;p&gt;与编程语言级别的逻辑控制(&lt;code&gt;if-then-else&lt;/code&gt;，&lt;code&gt;switch&lt;/code&gt;) 相比，
决策表能在一个平面中罗列出所有的可能情况，并清晰的指出相应的处理方式，不需要层层嵌套。&lt;/p&gt;
&lt;p&gt;用户不需要考虑其中的逻辑关系就能一眼看出其中什么样的动作对应什么样的情况，
可读性大大提高，并且不容易因为疏忽产生不易察觉的错误。
所以决策表是进行实现复杂控制逻辑的一个有力工具。&lt;/p&gt;
&lt;p&gt;现在，考虑构建一个通用的决策表，用于定义交易策略。
这篇文章提供了一个很好的起点&lt;sup id="fnref-2"&gt;&lt;a class="footnote-ref" href="#fn-2"&gt;2&lt;/a&gt;&lt;/sup&gt;，让我们在此基础上更近一步：&lt;/p&gt;
&lt;h2 id="shu-ru"&gt;输入&lt;/h2&gt;
&lt;p&gt;为了简化条件的处理，可以要求所有的输入都是 bool 值。非 bool 值的条件，可以通过变形和多种条件的组合转换成 bool 条件。
   为了简化决策表，需要支持"不关心"符号。
   这样，输入就只有三种情况 (&lt;code&gt;True&lt;/code&gt;, &lt;code&gt;False&lt;/code&gt;, &lt;code&gt;True or False&lt;/code&gt;)，可以用符号(&lt;code&gt;T&lt;/code&gt;,&lt;code&gt;F&lt;/code&gt;,&lt;code&gt;-&lt;/code&gt;)来表示。&lt;/p&gt;
&lt;h2 id="shu-chu"&gt;输出&lt;/h2&gt;
&lt;p&gt;如果动作能够实现排列好顺序，则输出就是&amp;ldquo;是否执行特定的动作&amp;rdquo;的序列。可以用&lt;code&gt;X&lt;/code&gt;表示执行，空白表示不执行。&lt;/p&gt;
&lt;p&gt;输出只是是否执行某个特定的动作。可以用 ``&lt;/p&gt;
&lt;p&gt;按照决策表原始的定义，&lt;/p&gt;
&lt;p&gt;输出应该是某种&amp;ldquo;动作&amp;rdquo;。这很复杂，
   很可能需要用到&lt;a href="https://github.com/dotnet/roslyn"&gt;Roslyn&lt;/a&gt;这样的大象。
   但对于交易策略来说，所有的输出无非是某种&amp;ldquo;指令&amp;rdquo;。如果把这个&amp;ldquo;指令&amp;rdquo;延后到后面的环境去执行，
   则所有的输出就变成了一个&amp;ldquo;表达式&amp;rdquo;。&lt;/p&gt;
&lt;h2 id="tiao-jian"&gt;条件&lt;/h2&gt;
&lt;p&gt;用 C# 的 lambda 表达式可以很容易的创建条件(Condition)，但这还是通过编码的方式，不够通用。
   我更希望能够通过外部文件来定义条件（比如 文本文件 或 Excel)，这就需要用到表达式引擎。
   由于我已经定义了策略上下文(Context)来封装策略的运行时环境，
   只需要把策略上下文中的变量注册到表达式引擎中，就可以很容易通过表达式解析的方式定义条件了。&lt;/p&gt;
&lt;h2 id="dong-zuo"&gt;动作&lt;/h2&gt;
&lt;p&gt;与&amp;ldquo;条件&amp;rdquo;类似，我已经定义过策略的输出为&lt;code&gt;Action&lt;/code&gt;，在后续环节再生成交易指令。
   为了避免在动作中涉及到复杂的运算，需要丰富&lt;code&gt;Action Factory&lt;/code&gt;的功能，实现各种不同的创建&lt;code&gt;Action&lt;/code&gt;的方式。
   这样，就可以用表达式为工厂方法传递参数，避免复杂运算。&lt;/p&gt;
&lt;h1 id="c-biao-da-shi-yin-qing-expression-evaluator_1"&gt;C# 表达式引擎: Expression Evaluator&lt;/h1&gt;
&lt;p&gt;&lt;a href="https://github.com/RupertAvery/csharpeval"&gt;Expression Evaluator&lt;/a&gt;是一个轻量级的 C#表达式引擎&lt;sup id="fnref-3"&gt;&lt;a class="footnote-ref" href="#fn-3"&gt;3&lt;/a&gt;&lt;/sup&gt;。
Expression Evaluator仅仅依赖&lt;a href="www.antlr.org"&gt;Antlr&lt;/a&gt;(&amp;ldquo;又一个语言识别工具&amp;rdquo;,一个开源的，支持多平台的语法解析器)，
并且自身还不到1M。&lt;/p&gt;
&lt;p&gt;Expression Evaluator的主要特性包括&lt;sup id="fnref-4"&gt;&lt;a class="footnote-ref" href="#fn-4"&gt;4&lt;/a&gt;&lt;/sup&gt;：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;支持算术运算符，支持关系运算符，以及逻辑运算符&lt;/li&gt;
&lt;li&gt;支持表达式分组和括号，以及递增递减运算符&lt;/li&gt;
&lt;li&gt;支持表达式属性访问以及动态类型，支持字符串的+运算&lt;/li&gt;
&lt;li&gt;支持数值类型的后缀d/f/m/l/u/ul、&lt;/li&gt;
&lt;li&gt;支持隐式表达式，以及成员访问操作符(.)&lt;/li&gt;
&lt;li&gt;支持一些默认的类型，如double, float, char, string, DateTime, Convert, Math&lt;/li&gt;
&lt;li&gt;支持foreach循环&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id="shi-xian-yao-dian"&gt;实现要点&lt;/h1&gt;
&lt;p&gt;在我的架构中，策略要尽可能的简单，由 Context 封装策略的运行环境。？
那么很自然的，表达式引擎应该在 Context 中引入并创建，策略中只是调用其结果。&lt;/p&gt;
&lt;p&gt;在 Context 中：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;// 表达式变量



// 在构造函数中，定义引擎并注册变量
public StrategyContext()
{
    var registry = new TypeRegistry();
    registry.RegisterSymbol("当前委托", CurrentOrder);
    registry.RegisterSymbol("做市商行情", CurrentMMTick);
}

&amp;hellip;&amp;hellip;

// 提供
&lt;/pre&gt;&lt;/div&gt;
&lt;h1 id="can-kao-zi-liao"&gt;参考资料&lt;/h1&gt;
&lt;div class="footnote"&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id="fn-1"&gt;
&lt;p&gt;&lt;a href="http://baike.baidu.com/subview/1448115/1448115.htm"&gt;决策表_百度百科&lt;/a&gt;&amp;nbsp;&lt;a class="footnote-backref" href="#fnref-1" title="Jump back to footnote 1 in the text"&gt;↩&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id="fn-2"&gt;
&lt;p&gt;&lt;a href="http://lukevoss.com/blog/post/2008/09/Decision-Table-in-C.aspx"&gt;Decision Table in C#&lt;/a&gt;&amp;nbsp;&lt;a class="footnote-backref" href="#fnref-2" title="Jump back to footnote 2 in the text"&gt;↩&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id="fn-3"&gt;
&lt;p&gt;&lt;a href="http://www.infoq.com/cn/news/2014/05/Expression-Evaluator"&gt;Expression Evaluator：一个轻量级的C#编译器服务&lt;/a&gt;&amp;nbsp;&lt;a class="footnote-backref" href="#fnref-3" title="Jump back to footnote 3 in the text"&gt;↩&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id="fn-4"&gt;
&lt;p&gt;&lt;a href="http://www.cnblogs.com/asxinyu/p/dotnet_Opensource_project_Expression_Evaluator.html"&gt;Expression Evaluator表达式计算组件使用&lt;/a&gt;&amp;nbsp;&lt;a class="footnote-backref" href="#fnref-4" title="Jump back to footnote 4 in the text"&gt;↩&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/hr&gt;&lt;/div&gt;</content><category term="策略平台"></category><category term="C#"></category></entry><entry><title>利用Python进行数据分析(4)：NumPy</title><link href="http://holbrook.github.io/2017/02/17/python_data_analysis4.html" rel="alternate"></link><published>2017-02-17T00:00:00+08:00</published><updated>2017-02-17T00:00:00+08:00</updated><author><name>Holbrook</name></author><id>tag:holbrook.github.io,2017-02-17:/2017/02/17/python_data_analysis4.html</id><summary type="html">
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;NumPy(Numerical Python)，python 数值计算包。是所有 python 数据分析包的基础。
NumPy提供了大量的数值编程工具，可以方便地处理向量、矩阵等运算，极大地便利了人们在科学计算方面的工作[^1]。&lt;/p&gt;
&lt;p&gt;NumPy 的主要功能包括：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ndarray, 多维数组，支持快速的矢量运算和复杂广播能力（不同大小的数组之间的运算叫广播（broadcasting）)&lt;/li&gt;
&lt;li&gt;随机数生成&lt;/li&gt;
&lt;li&gt;标准数学函数，用于对这个数组的数据进行快速运算，无需自己编写循环&lt;/li&gt;
&lt;li&gt;磁盘及内存 IO 工具&lt;/li&gt;
&lt;li&gt;线性代数、傅里叶变换&lt;/li&gt;
&lt;li&gt;提供通用数据接口和工具，便于集成其他语言( 如 C/C++ 等）&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;在数据分析时，很重要的功能包括：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;用于数据整理和清理、子集构造和过滤、转换等快速的矢量化运算&lt;/li&gt;
&lt;li&gt;常用的数组解法，如排序、唯一化、集合运算等&lt;/li&gt;
&lt;li&gt;高效的描述统计和数据聚合/摘要运算&lt;/li&gt;
&lt;li&gt;用于异构数据集的合并/连接运算的数据对齐和关系型数据运算&lt;/li&gt;
&lt;li&gt;将条件逻辑表述为数组表达式（而不是带有if-elif-else分支的循环）&lt;/li&gt;
&lt;li&gt;数据的分组运算（聚合、转换、函数应用等）。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;这些功能 NumPy 都有提供，但是更基础。一般我们不直接使用 Numpy，而是通过 pandas 等包间接调用。&lt;/p&gt;
&lt;h2 id="准备工作"&gt;准备工作&lt;a class="anchor-link" href="#准备工作"&gt;¶&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;</summary><content type="html">&lt;style type="text/css"&gt;/*!
*
* IPython notebook
*
*/
/* CSS font colors for translated ANSI colors. */
.ansibold {
  font-weight: bold;
}
/* use dark versions for foreground, to improve visibility */
.ansiblack {
  color: black;
}
.ansired {
  color: darkred;
}
.ansigreen {
  color: darkgreen;
}
.ansiyellow {
  color: #c4a000;
}
.ansiblue {
  color: darkblue;
}
.ansipurple {
  color: darkviolet;
}
.ansicyan {
  color: steelblue;
}
.ansigray {
  color: gray;
}
/* and light for background, for the same reason */
.ansibgblack {
  background-color: black;
}
.ansibgred {
  background-color: red;
}
.ansibggreen {
  background-color: green;
}
.ansibgyellow {
  background-color: yellow;
}
.ansibgblue {
  background-color: blue;
}
.ansibgpurple {
  background-color: magenta;
}
.ansibgcyan {
  background-color: cyan;
}
.ansibggray {
  background-color: gray;
}
div.cell {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  border-radius: 2px;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
  border-width: 1px;
  border-style: solid;
  border-color: transparent;
  width: 100%;
  padding: 5px;
  /* This acts as a spacer between cells, that is outside the border */
  margin: 0px;
  outline: none;
  border-left-width: 1px;
  padding-left: 5px;
  background: linear-gradient(to right, transparent -40px, transparent 1px, transparent 1px, transparent 100%);
}
div.cell.jupyter-soft-selected {
  border-left-color: #90CAF9;
  border-left-color: #E3F2FD;
  border-left-width: 1px;
  padding-left: 5px;
  border-right-color: #E3F2FD;
  border-right-width: 1px;
  background: #E3F2FD;
}
@media print {
  div.cell.jupyter-soft-selected {
    border-color: transparent;
  }
}
div.cell.selected {
  border-color: #ababab;
  border-left-width: 0px;
  padding-left: 6px;
  background: linear-gradient(to right, #42A5F5 -40px, #42A5F5 5px, transparent 5px, transparent 100%);
}
@media print {
  div.cell.selected {
    border-color: transparent;
  }
}
div.cell.selected.jupyter-soft-selected {
  border-left-width: 0;
  padding-left: 6px;
  background: linear-gradient(to right, #42A5F5 -40px, #42A5F5 7px, #E3F2FD 7px, #E3F2FD 100%);
}
.edit_mode div.cell.selected {
  border-color: #66BB6A;
  border-left-width: 0px;
  padding-left: 6px;
  background: linear-gradient(to right, #66BB6A -40px, #66BB6A 5px, transparent 5px, transparent 100%);
}
@media print {
  .edit_mode div.cell.selected {
    border-color: transparent;
  }
}
.prompt {
  /* This needs to be wide enough for 3 digit prompt numbers: In[100]: */
  min-width: 14ex;
  /* This padding is tuned to match the padding on the CodeMirror editor. */
  padding: 0.4em;
  margin: 0px;
  font-family: monospace;
  text-align: right;
  /* This has to match that of the the CodeMirror class line-height below */
  line-height: 1.21429em;
  /* Don't highlight prompt number selection */
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  -khtml-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  /* Use default cursor */
  cursor: default;
}
@media (max-width: 540px) {
  .prompt {
    text-align: left;
  }
}
div.inner_cell {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  /* Old browsers */
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  box-flex: 1;
  /* Modern browsers */
  flex: 1;
}
@-moz-document url-prefix() {
  div.inner_cell {
    overflow-x: hidden;
  }
}
/* input_area and input_prompt must match in top border and margin for alignment */
div.input_area {
  border: 1px solid #cfcfcf;
  border-radius: 2px;
  background: #f7f7f7;
  line-height: 1.21429em;
}
/* This is needed so that empty prompt areas can collapse to zero height when there
   is no content in the output_subarea and the prompt. The main purpose of this is
   to make sure that empty JavaScript output_subareas have no height. */
div.prompt:empty {
  padding-top: 0;
  padding-bottom: 0;
}
div.unrecognized_cell {
  padding: 5px 5px 5px 0px;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
div.unrecognized_cell .inner_cell {
  border-radius: 2px;
  padding: 5px;
  font-weight: bold;
  color: red;
  border: 1px solid #cfcfcf;
  background: #eaeaea;
}
div.unrecognized_cell .inner_cell a {
  color: inherit;
  text-decoration: none;
}
div.unrecognized_cell .inner_cell a:hover {
  color: inherit;
  text-decoration: none;
}
@media (max-width: 540px) {
  div.unrecognized_cell &gt; div.prompt {
    display: none;
  }
}
div.code_cell {
  /* avoid page breaking on code cells when printing */
}
@media print {
  div.code_cell {
    page-break-inside: avoid;
  }
}
/* any special styling for code cells that are currently running goes here */
div.input {
  page-break-inside: avoid;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.input {
    /* Old browsers */
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-box-align: stretch;
    display: -moz-box;
    -moz-box-orient: vertical;
    -moz-box-align: stretch;
    display: box;
    box-orient: vertical;
    box-align: stretch;
    /* Modern browsers */
    display: flex;
    flex-direction: column;
    align-items: stretch;
  }
}
/* input_area and input_prompt must match in top border and margin for alignment */
div.input_prompt {
  color: #303F9F;
  border-top: 1px solid transparent;
}
div.input_area &gt; div.highlight {
  margin: 0.4em;
  border: none;
  padding: 0px;
  background-color: transparent;
}
div.input_area &gt; div.highlight &gt; pre {
  margin: 0px;
  border: none;
  padding: 0px;
  background-color: transparent;
}
/* The following gets added to the &lt;head&gt; if it is detected that the user has a
 * monospace font with inconsistent normal/bold/italic height.  See
 * notebookmain.js.  Such fonts will have keywords vertically offset with
 * respect to the rest of the text.  The user should select a better font.
 * See: https://github.com/ipython/ipython/issues/1503
 *
 * .CodeMirror span {
 *      vertical-align: bottom;
 * }
 */
.CodeMirror {
  line-height: 1.21429em;
  /* Changed from 1em to our global default */
  font-size: 14px;
  height: auto;
  /* Changed to auto to autogrow */
  background: none;
  /* Changed from white to allow our bg to show through */
}
.CodeMirror-scroll {
  /*  The CodeMirror docs are a bit fuzzy on if overflow-y should be hidden or visible.*/
  /*  We have found that if it is visible, vertical scrollbars appear with font size changes.*/
  overflow-y: hidden;
  overflow-x: auto;
}
.CodeMirror-lines {
  /* In CM2, this used to be 0.4em, but in CM3 it went to 4px. We need the em value because */
  /* we have set a different line-height and want this to scale with that. */
  padding: 0.4em;
}
.CodeMirror-linenumber {
  padding: 0 8px 0 4px;
}
.CodeMirror-gutters {
  border-bottom-left-radius: 2px;
  border-top-left-radius: 2px;
}
.CodeMirror pre {
  /* In CM3 this went to 4px from 0 in CM2. We need the 0 value because of how we size */
  /* .CodeMirror-lines */
  padding: 0;
  border: 0;
  border-radius: 0;
}
/*

Original style from softwaremaniacs.org (c) Ivan Sagalaev &lt;Maniac@SoftwareManiacs.Org&gt;
Adapted from GitHub theme

*/
.highlight-base {
  color: #000;
}
.highlight-variable {
  color: #000;
}
.highlight-variable-2 {
  color: #1a1a1a;
}
.highlight-variable-3 {
  color: #333333;
}
.highlight-string {
  color: #BA2121;
}
.highlight-comment {
  color: #408080;
  font-style: italic;
}
.highlight-number {
  color: #080;
}
.highlight-atom {
  color: #88F;
}
.highlight-keyword {
  color: #008000;
  font-weight: bold;
}
.highlight-builtin {
  color: #008000;
}
.highlight-error {
  color: #f00;
}
.highlight-operator {
  color: #AA22FF;
  font-weight: bold;
}
.highlight-meta {
  color: #AA22FF;
}
/* previously not defined, copying from default codemirror */
.highlight-def {
  color: #00f;
}
.highlight-string-2 {
  color: #f50;
}
.highlight-qualifier {
  color: #555;
}
.highlight-bracket {
  color: #997;
}
.highlight-tag {
  color: #170;
}
.highlight-attribute {
  color: #00c;
}
.highlight-header {
  color: blue;
}
.highlight-quote {
  color: #090;
}
.highlight-link {
  color: #00c;
}
/* apply the same style to codemirror */
.cm-s-ipython span.cm-keyword {
  color: #008000;
  font-weight: bold;
}
.cm-s-ipython span.cm-atom {
  color: #88F;
}
.cm-s-ipython span.cm-number {
  color: #080;
}
.cm-s-ipython span.cm-def {
  color: #00f;
}
.cm-s-ipython span.cm-variable {
  color: #000;
}
.cm-s-ipython span.cm-operator {
  color: #AA22FF;
  font-weight: bold;
}
.cm-s-ipython span.cm-variable-2 {
  color: #1a1a1a;
}
.cm-s-ipython span.cm-variable-3 {
  color: #333333;
}
.cm-s-ipython span.cm-comment {
  color: #408080;
  font-style: italic;
}
.cm-s-ipython span.cm-string {
  color: #BA2121;
}
.cm-s-ipython span.cm-string-2 {
  color: #f50;
}
.cm-s-ipython span.cm-meta {
  color: #AA22FF;
}
.cm-s-ipython span.cm-qualifier {
  color: #555;
}
.cm-s-ipython span.cm-builtin {
  color: #008000;
}
.cm-s-ipython span.cm-bracket {
  color: #997;
}
.cm-s-ipython span.cm-tag {
  color: #170;
}
.cm-s-ipython span.cm-attribute {
  color: #00c;
}
.cm-s-ipython span.cm-header {
  color: blue;
}
.cm-s-ipython span.cm-quote {
  color: #090;
}
.cm-s-ipython span.cm-link {
  color: #00c;
}
.cm-s-ipython span.cm-error {
  color: #f00;
}
.cm-s-ipython span.cm-tab {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAMCAYAAAAkuj5RAAAAAXNSR0IArs4c6QAAAGFJREFUSMft1LsRQFAQheHPowAKoACx3IgEKtaEHujDjORSgWTH/ZOdnZOcM/sgk/kFFWY0qV8foQwS4MKBCS3qR6ixBJvElOobYAtivseIE120FaowJPN75GMu8j/LfMwNjh4HUpwg4LUAAAAASUVORK5CYII=);
  background-position: right;
  background-repeat: no-repeat;
}
div.output_wrapper {
  /* this position must be relative to enable descendents to be absolute within it */
  position: relative;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  z-index: 1;
}
/* class for the output area when it should be height-limited */
div.output_scroll {
  /* ideally, this would be max-height, but FF barfs all over that */
  height: 24em;
  /* FF needs this *and the wrapper* to specify full width, or it will shrinkwrap */
  width: 100%;
  overflow: auto;
  border-radius: 2px;
  -webkit-box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.8);
  box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.8);
  display: block;
}
/* output div while it is collapsed */
div.output_collapsed {
  margin: 0px;
  padding: 0px;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
div.out_prompt_overlay {
  height: 100%;
  padding: 0px 0.4em;
  position: absolute;
  border-radius: 2px;
}
div.out_prompt_overlay:hover {
  /* use inner shadow to get border that is computed the same on WebKit/FF */
  -webkit-box-shadow: inset 0 0 1px #000;
  box-shadow: inset 0 0 1px #000;
  background: rgba(240, 240, 240, 0.5);
}
div.output_prompt {
  color: #D84315;
}
/* This class is the outer container of all output sections. */
div.output_area {
  padding: 0px;
  page-break-inside: avoid;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
div.output_area .MathJax_Display {
  text-align: left !important;
}
div.output_area 
div.output_area 
div.output_area img,
div.output_area svg {
  max-width: 100%;
  height: auto;
}
div.output_area img.unconfined,
div.output_area svg.unconfined {
  max-width: none;
}
/* This is needed to protect the pre formating from global settings such
   as that of bootstrap */
.output {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.output_area {
    /* Old browsers */
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-box-align: stretch;
    display: -moz-box;
    -moz-box-orient: vertical;
    -moz-box-align: stretch;
    display: box;
    box-orient: vertical;
    box-align: stretch;
    /* Modern browsers */
    display: flex;
    flex-direction: column;
    align-items: stretch;
  }
}
div.output_area pre {
  margin: 0;
  padding: 0;
  border: 0;
  vertical-align: baseline;
  color: black;
  background-color: transparent;
  border-radius: 0;
}
/* This class is for the output subarea inside the output_area and after
   the prompt div. */
div.output_subarea {
  overflow-x: auto;
  padding: 0.4em;
  /* Old browsers */
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  box-flex: 1;
  /* Modern browsers */
  flex: 1;
  max-width: calc(100% - 14ex);
}
div.output_scroll div.output_subarea {
  overflow-x: visible;
}
/* The rest of the output_* classes are for special styling of the different
   output types */
/* all text output has this class: */
div.output_text {
  text-align: left;
  color: #000;
  /* This has to match that of the the CodeMirror class line-height below */
  line-height: 1.21429em;
}
/* stdout/stderr are 'text' as well as 'stream', but execute_result/error are *not* streams */
div.output_stderr {
  background: #fdd;
  /* very light red background for stderr */
}
div.output_latex {
  text-align: left;
}
/* Empty output_javascript divs should have no height */
div.output_javascript:empty {
  padding: 0;
}
.js-error {
  color: darkred;
}
/* raw_input styles */
div.raw_input_container {
  line-height: 1.21429em;
  padding-top: 5px;
}
pre.raw_input_prompt {
  /* nothing needed here. */
}
input.raw_input {
  font-family: monospace;
  font-size: inherit;
  color: inherit;
  width: auto;
  /* make sure input baseline aligns with prompt */
  vertical-align: baseline;
  /* padding + margin = 0.5em between prompt and cursor */
  padding: 0em 0.25em;
  margin: 0em 0.25em;
}
input.raw_input:focus {
  box-shadow: none;
}
p.p-space {
  margin-bottom: 10px;
}
div.output_unrecognized {
  padding: 5px;
  font-weight: bold;
  color: red;
}
div.output_unrecognized a {
  color: inherit;
  text-decoration: none;
}
div.output_unrecognized a:hover {
  color: inherit;
  text-decoration: none;
}
.rendered_html {
  color: #000;
  /* any extras will just be numbers: */
}



.rendered_html :link {
  text-decoration: underline;
}
.rendered_html :visited {
  text-decoration: underline;
}






.rendered_html h1:first-child {
  margin-top: 0.538em;
}
.rendered_html h2:first-child {
  margin-top: 0.636em;
}
.rendered_html h3:first-child {
  margin-top: 0.777em;
}
.rendered_html h4:first-child {
  margin-top: 1em;
}
.rendered_html h5:first-child {
  margin-top: 1em;
}
.rendered_html h6:first-child {
  margin-top: 1em;
}








.rendered_html * + ul {
  margin-top: 1em;
}
.rendered_html * + ol {
  margin-top: 1em;
}


.rendered_html pre,



.rendered_html tr,
.rendered_html th,

.rendered_html td,


.rendered_html * + table {
  margin-top: 1em;
}

.rendered_html * + p {
  margin-top: 1em;
}

.rendered_html * + img {
  margin-top: 1em;
}
.rendered_html img,

.rendered_html img.unconfined,

div.text_cell {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.text_cell &gt; div.prompt {
    display: none;
  }
}
div.text_cell_render {
  /*font-family: "Helvetica Neue", Arial, Helvetica, Geneva, sans-serif;*/
  outline: none;
  resize: none;
  width: inherit;
  border-style: none;
  padding: 0.5em 0.5em 0.5em 0.4em;
  color: #000;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
}
a.anchor-link:link {
  text-decoration: none;
  padding: 0px 20px;
  visibility: hidden;
}
h1:hover .anchor-link,
h2:hover .anchor-link,
h3:hover .anchor-link,
h4:hover .anchor-link,
h5:hover .anchor-link,
h6:hover .anchor-link {
  visibility: visible;
}
.text_cell.rendered .input_area {
  display: none;
}
.text_cell.rendered 
.text_cell.unrendered .text_cell_render {
  display: none;
}
.cm-header-1,
.cm-header-2,
.cm-header-3,
.cm-header-4,
.cm-header-5,
.cm-header-6 {
  font-weight: bold;
  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
}
.cm-header-1 {
  font-size: 185.7%;
}
.cm-header-2 {
  font-size: 157.1%;
}
.cm-header-3 {
  font-size: 128.6%;
}
.cm-header-4 {
  font-size: 110%;
}
.cm-header-5 {
  font-size: 100%;
  font-style: italic;
}
.cm-header-6 {
  font-size: 100%;
  font-style: italic;
}
&lt;/style&gt;
&lt;style type="text/css"&gt;.highlight .hll { background-color: #ffffcc }
.highlight  { background: #f8f8f8; }
.highlight .c { color: #408080; font-style: italic } /* Comment */
.highlight .err { border: 1px solid #FF0000 } /* Error */
.highlight .k { color: #008000; font-weight: bold } /* Keyword */
.highlight .o { color: #666666 } /* Operator */
.highlight .ch { color: #408080; font-style: italic } /* Comment.Hashbang */
.highlight .cm { color: #408080; font-style: italic } /* Comment.Multiline */
.highlight .cp { color: #BC7A00 } /* Comment.Preproc */
.highlight .cpf { color: #408080; font-style: italic } /* Comment.PreprocFile */
.highlight .c1 { color: #408080; font-style: italic } /* Comment.Single */
.highlight .cs { color: #408080; font-style: italic } /* Comment.Special */
.highlight .gd { color: #A00000 } /* Generic.Deleted */
.highlight .ge { font-style: italic } /* Generic.Emph */
.highlight .gr { color: #FF0000 } /* Generic.Error */
.highlight .gh { color: #000080; font-weight: bold } /* Generic.Heading */
.highlight .gi { color: #00A000 } /* Generic.Inserted */
.highlight .go { color: #888888 } /* Generic.Output */
.highlight .gp { color: #000080; font-weight: bold } /* Generic.Prompt */
.highlight .gs { font-weight: bold } /* Generic.Strong */
.highlight .gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.highlight .gt { color: #0044DD } /* Generic.Traceback */
.highlight .kc { color: #008000; font-weight: bold } /* Keyword.Constant */
.highlight .kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
.highlight .kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
.highlight .kp { color: #008000 } /* Keyword.Pseudo */
.highlight .kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
.highlight .kt { color: #B00040 } /* Keyword.Type */
.highlight .m { color: #666666 } /* Literal.Number */
.highlight .s { color: #BA2121 } /* Literal.String */
.highlight .na { color: #7D9029 } /* Name.Attribute */
.highlight .nb { color: #008000 } /* Name.Builtin */
.highlight .nc { color: #0000FF; font-weight: bold } /* Name.Class */
.highlight .no { color: #880000 } /* Name.Constant */
.highlight .nd { color: #AA22FF } /* Name.Decorator */
.highlight .ni { color: #999999; font-weight: bold } /* Name.Entity */
.highlight .ne { color: #D2413A; font-weight: bold } /* Name.Exception */
.highlight .nf { color: #0000FF } /* Name.Function */
.highlight .nl { color: #A0A000 } /* Name.Label */
.highlight .nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
.highlight .nt { color: #008000; font-weight: bold } /* Name.Tag */
.highlight .nv { color: #19177C } /* Name.Variable */
.highlight .ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
.highlight .w { color: #bbbbbb } /* Text.Whitespace */
.highlight .mb { color: #666666 } /* Literal.Number.Bin */
.highlight .mf { color: #666666 } /* Literal.Number.Float */
.highlight .mh { color: #666666 } /* Literal.Number.Hex */
.highlight .mi { color: #666666 } /* Literal.Number.Integer */
.highlight .mo { color: #666666 } /* Literal.Number.Oct */
.highlight .sb { color: #BA2121 } /* Literal.String.Backtick */
.highlight .sc { color: #BA2121 } /* Literal.String.Char */
.highlight .sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */
.highlight .s2 { color: #BA2121 } /* Literal.String.Double */
.highlight .se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */
.highlight .sh { color: #BA2121 } /* Literal.String.Heredoc */
.highlight .si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */
.highlight .sx { color: #008000 } /* Literal.String.Other */
.highlight .sr { color: #BB6688 } /* Literal.String.Regex */
.highlight .s1 { color: #BA2121 } /* Literal.String.Single */
.highlight .ss { color: #19177C } /* Literal.String.Symbol */
.highlight .bp { color: #008000 } /* Name.Builtin.Pseudo */
.highlight .vc { color: #19177C } /* Name.Variable.Class */
.highlight .vg { color: #19177C } /* Name.Variable.Global */
.highlight .vi { color: #19177C } /* Name.Variable.Instance */
.highlight .il { color: #666666 } /* Literal.Number.Integer.Long */&lt;/style&gt;
&lt;style type="text/css"&gt;
/* Temporary definitions which will become obsolete with Notebook release 5.0 */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-bold { font-weight: bold; }
&lt;/style&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;NumPy(Numerical Python)，python 数值计算包。是所有 python 数据分析包的基础。
NumPy提供了大量的数值编程工具，可以方便地处理向量、矩阵等运算，极大地便利了人们在科学计算方面的工作[^1]。&lt;/p&gt;
&lt;p&gt;NumPy 的主要功能包括：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ndarray, 多维数组，支持快速的矢量运算和复杂广播能力（不同大小的数组之间的运算叫广播（broadcasting）)&lt;/li&gt;
&lt;li&gt;随机数生成&lt;/li&gt;
&lt;li&gt;标准数学函数，用于对这个数组的数据进行快速运算，无需自己编写循环&lt;/li&gt;
&lt;li&gt;磁盘及内存 IO 工具&lt;/li&gt;
&lt;li&gt;线性代数、傅里叶变换&lt;/li&gt;
&lt;li&gt;提供通用数据接口和工具，便于集成其他语言( 如 C/C++ 等）&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;在数据分析时，很重要的功能包括：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;用于数据整理和清理、子集构造和过滤、转换等快速的矢量化运算&lt;/li&gt;
&lt;li&gt;常用的数组解法，如排序、唯一化、集合运算等&lt;/li&gt;
&lt;li&gt;高效的描述统计和数据聚合/摘要运算&lt;/li&gt;
&lt;li&gt;用于异构数据集的合并/连接运算的数据对齐和关系型数据运算&lt;/li&gt;
&lt;li&gt;将条件逻辑表述为数组表达式（而不是带有if-elif-else分支的循环）&lt;/li&gt;
&lt;li&gt;数据的分组运算（聚合、转换、函数应用等）。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;这些功能 NumPy 都有提供，但是更基础。一般我们不直接使用 Numpy，而是通过 pandas 等包间接调用。&lt;/p&gt;
&lt;h2 id="准备工作"&gt;准备工作&lt;a class="anchor-link" href="#准备工作"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[2]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="o"&gt;%&lt;/span&gt;&lt;span class="k"&gt;pylab&lt;/span&gt; inline
&lt;span class="c1"&gt;# import numpy as np&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;pandas&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;pd&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;json&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;div class="output_subarea output_stream output_stdout output_text"&gt;
&lt;pre&gt;Populating the interactive namespace from numpy and matplotlib
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="ndarray:--多维数组对象"&gt;ndarray:  多维数组对象&lt;a class="anchor-link" href="#ndarray:--多维数组对象"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;ndarray 要求其中所有元素的类型必须相同。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[3]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;randn&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[4]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;
&lt;span class="n"&gt;data&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="mi"&gt;10&lt;/span&gt;
&lt;span class="n"&gt;data&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;data&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[4]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;array([[ 1.0827, -2.8554,  3.1286],
       [-0.7089, -3.0769,  2.1086]])&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[5]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;shape&lt;/span&gt;
&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;dtype&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[5]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;dtype('float64')&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="创建数组"&gt;创建数组&lt;a class="anchor-link" href="#创建数组"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;code&gt;np.array()&lt;/code&gt; 
将 Python 数组转换为 ndarray 数组&lt;/li&gt;
&lt;li&gt;&lt;code&gt;np.asarray()&lt;/code&gt;
？&lt;/li&gt;
&lt;li&gt;&lt;code&gt;np.zeros()&lt;/code&gt;
元素全为0的数组&lt;/li&gt;
&lt;li&gt;&lt;code&gt;np.zeros_like()&lt;/code&gt;
 创建一个与参数数组形状相同的全0数组&lt;/li&gt;
&lt;li&gt;&lt;code&gt;np.ones()&lt;/code&gt;
元素全为1的数组&lt;/li&gt;
&lt;li&gt;&lt;code&gt;np.ones_like()&lt;/code&gt;
 创建一个与参数数组形状相同的全1数组&lt;/li&gt;
&lt;li&gt;&lt;code&gt;np.empty()&lt;/code&gt;
没有任何具体值的 ndarray 数组&lt;/li&gt;
&lt;li&gt;&lt;code&gt;np.empty_like()&lt;/code&gt;
 创建一个与参数数组形状相同的全空数组&lt;/li&gt;
&lt;li&gt;&lt;code&gt;np.arange()&lt;/code&gt;
根据 Python 内置函数 range 创建数组&lt;/li&gt;
&lt;li&gt;&lt;code&gt;np.eye()&lt;/code&gt;和&lt;code&gt;np.identity()&lt;/code&gt;
 创建一个 NxN 的单位矩阵（对角线为1，其余全为0）&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[6]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# 创建一维数组&lt;/span&gt;
&lt;span class="n"&gt;data1&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;6&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;7.5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;8&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;arr1&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;array&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;data1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;arr1&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[6]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;array([ 6. ,  7.5,  8. ,  0. ,  1. ])&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[7]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# 创建多维数组&lt;/span&gt;
&lt;span class="n"&gt;data2&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;6&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;7&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;8&lt;/span&gt;&lt;span class="p"&gt;]]&lt;/span&gt;
&lt;span class="n"&gt;arr2&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;array&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;data2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;arr2&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[7]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;array([[1, 2, 3, 4],
       [5, 6, 7, 8]])&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[8]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# 特殊数组&lt;/span&gt;

&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'一维 zero 数组'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;zeros&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;

&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'二维空数组'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;empty&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;)))&lt;/span&gt;

&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'二维ones数组'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ones&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)))&lt;/span&gt;

&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'序列数组'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;arange&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;15&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;

&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'[0, 1)区间的随机数数组'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;random&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;rand&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;div class="output_subarea output_stream output_stdout output_text"&gt;
&lt;pre&gt;一维 zero 数组
[ 0.  0.  0.  0.  0.  0.  0.  0.  0.  0.]
二维空数组
[[ 0.  0.  0.]
 [ 0.  0.  0.]]
二维ones数组
[[ 1.  1.]
 [ 1.  1.]
 [ 1.  1.]]
序列数组
[ 0  1  2  3  4  5  6  7  8  9 10 11 12 13 14]
[0, 1)区间的随机数数组
[ 0.4772  0.2193  0.8478  0.3239  0.8526]
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[9]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# 数组的属性&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;arr1&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;dtype&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;arr2&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;dtype&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;arr2&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ndim&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;arr2&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;shape&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;div class="output_subarea output_stream output_stdout output_text"&gt;
&lt;pre&gt;float64
int64
2
(2, 4)
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="数组类型-dtype"&gt;数组类型 &lt;code&gt;dtype&lt;/code&gt;&lt;a class="anchor-link" href="#数组类型-dtype"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[10]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;arr1&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;array&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;dtype&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;float64&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;arr2&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;array&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;dtype&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;int32&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;arr1&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;dtype&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;arr2&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;dtype&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;div class="output_subarea output_stream output_stdout output_text"&gt;
&lt;pre&gt;float64
int32
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[11]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;#  类型转换&lt;/span&gt;
&lt;span class="c1"&gt;# 调用astype总会创建一个新的数组（原始数组的一个拷贝），即使和原来的数据类型相同&lt;/span&gt;
&lt;span class="n"&gt;float_arr&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;arr2&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;astype&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;float64&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;float_arr&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[11]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;array([ 1.,  2.,  3.])&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="数组运算"&gt;数组运算&lt;a class="anchor-link" href="#数组运算"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[12]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;arr&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;array&lt;/span&gt;&lt;span class="p"&gt;([[&lt;/span&gt;&lt;span class="mf"&gt;1.&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;2.&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;3.&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mf"&gt;4.&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;5.&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;6.&lt;/span&gt;&lt;span class="p"&gt;]])&lt;/span&gt;
&lt;span class="n"&gt;arr&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[12]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;array([[ 1.,  2.,  3.],
       [ 4.,  5.,  6.]])&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[13]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;arr&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="n"&gt;arr&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[13]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;array([[ 0.,  0.,  0.],
       [ 0.,  0.,  0.]])&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[14]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;arr&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;arr&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[14]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;array([[  1.,   4.,   9.],
       [ 16.,  25.,  36.]])&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[15]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;arr&lt;/span&gt; &lt;span class="o"&gt;**&lt;/span&gt; &lt;span class="mf"&gt;0.5&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[15]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;array([[ 1.    ,  1.4142,  1.7321],
       [ 2.    ,  2.2361,  2.4495]])&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[16]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt; &lt;span class="n"&gt;arr&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[16]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;array([[ 1.    ,  0.5   ,  0.3333],
       [ 0.25  ,  0.2   ,  0.1667]])&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="索引(indexing)-和-切片(slicing)"&gt;索引(indexing) 和 切片(slicing)&lt;a class="anchor-link" href="#索引(indexing)-和-切片(slicing)"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;索引即通过一个无符号整数值获取数组里的值。&lt;/p&gt;
&lt;p&gt;切片即选择数组里某个片段。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[17]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;arr&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;arange&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;arr&lt;/span&gt;
&lt;span class="n"&gt;arr&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;arr&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;8&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;

&lt;span class="n"&gt;arr&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;8&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;12&lt;/span&gt;  &lt;span class="c1"&gt;#  对切片的操作会改变原始数组&lt;/span&gt;
&lt;span class="n"&gt;arr&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[17]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;array([ 0,  1,  2,  3,  4, 12, 12, 12,  8,  9])&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[18]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;#  即使创建了新的变量也是如此。不会复制数据，只会改变源数据&lt;/span&gt;
&lt;span class="n"&gt;arr_slice&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;arr&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;8&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;arr_slice&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;12345&lt;/span&gt;
&lt;span class="n"&gt;arr&lt;/span&gt;
&lt;span class="n"&gt;arr_slice&lt;/span&gt;&lt;span class="p"&gt;[:]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;64&lt;/span&gt;
&lt;span class="n"&gt;arr&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[18]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;array([ 0,  1,  2,  3,  4, 64, 64, 64,  8,  9])&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[19]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;arr2d&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;array&lt;/span&gt;&lt;span class="p"&gt;([[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;6&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;7&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;8&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;9&lt;/span&gt;&lt;span class="p"&gt;]])&lt;/span&gt;
&lt;span class="n"&gt;arr2d&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[19]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;array([7, 8, 9])&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[20]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# 这两种方式等价&lt;/span&gt;
&lt;span class="n"&gt;arr2d&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;][&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;arr2d&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[20]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;3&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[21]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;arr3d&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;array&lt;/span&gt;&lt;span class="p"&gt;([[[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;6&lt;/span&gt;&lt;span class="p"&gt;]],&lt;/span&gt; &lt;span class="p"&gt;[[&lt;/span&gt;&lt;span class="mi"&gt;7&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;8&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;9&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;11&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;12&lt;/span&gt;&lt;span class="p"&gt;]]])&lt;/span&gt;
&lt;span class="n"&gt;arr3d&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[21]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;array([[[ 1,  2,  3],
        [ 4,  5,  6]],

       [[ 7,  8,  9],
        [10, 11, 12]]])&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[22]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;arr3d&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[22]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;array([[1, 2, 3],
       [4, 5, 6]])&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[23]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# 如果一定要复制数据，使用 `copy()`方法&lt;/span&gt;
&lt;span class="n"&gt;old_values&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;arr3d&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;copy&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;arr3d&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;42&lt;/span&gt;
&lt;span class="n"&gt;arr3d&lt;/span&gt;
&lt;span class="n"&gt;arr3d&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;old_values&lt;/span&gt;
&lt;span class="n"&gt;arr3d&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[23]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;array([[[ 1,  2,  3],
        [ 4,  5,  6]],

       [[ 7,  8,  9],
        [10, 11, 12]]])&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[24]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;arr3d&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[24]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;array([7, 8, 9])&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="切片索引(Indexing-with-slices)"&gt;切片索引(Indexing with slices)&lt;a class="anchor-link" href="#切片索引(Indexing-with-slices)"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[25]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;arr&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;6&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[25]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;array([ 1,  2,  3,  4, 64])&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[26]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;arr2d&lt;/span&gt;
&lt;span class="n"&gt;arr2d&lt;/span&gt;&lt;span class="p"&gt;[:&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[26]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;array([[1, 2, 3],
       [4, 5, 6]])&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[27]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;arr2d&lt;/span&gt;&lt;span class="p"&gt;[:&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;:]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[27]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;array([[2, 3],
       [5, 6]])&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[28]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;arr2d&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;arr2d&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[28]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;array([7])&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[29]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;arr2d&lt;/span&gt;&lt;span class="p"&gt;[:,&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[29]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;array([[1],
       [4],
       [7]])&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[30]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;arr2d&lt;/span&gt;&lt;span class="p"&gt;[:&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;:]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="布尔索引"&gt;布尔索引&lt;a class="anchor-link" href="#布尔索引"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[31]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;names&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;array&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="s1"&gt;'Bob'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'Joe'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'Will'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'Bob'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'Will'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'Joe'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'Joe'&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="n"&gt;data&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;randn&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;7&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;names&lt;/span&gt;
&lt;span class="n"&gt;data&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[31]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;array([[-0.843 , -1.2552,  1.6243,  0.1478],
       [ 0.7525,  0.4313, -0.4447,  0.296 ],
       [ 0.8521, -0.1377,  1.9734,  1.2485],
       [-0.349 ,  1.5589, -0.0471, -0.1323],
       [-0.823 , -0.1922,  0.8819, -0.0861],
       [-0.5267, -1.9805, -0.7778, -1.5296],
       [-0.5977,  0.1968,  0.9831, -2.0394]])&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[32]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;names&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s1"&gt;'Bob'&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[32]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;array([ True, False, False,  True, False, False, False], dtype=bool)&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[33]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;names&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s1"&gt;'Bob'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[33]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;array([[-0.843 , -1.2552,  1.6243,  0.1478],
       [-0.349 ,  1.5589, -0.0471, -0.1323]])&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[34]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;names&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s1"&gt;'Bob'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;:]&lt;/span&gt;
&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;names&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s1"&gt;'Bob'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[34]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;array([ 0.1478, -0.1323])&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[35]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;names&lt;/span&gt; &lt;span class="o"&gt;!=&lt;/span&gt; &lt;span class="s1"&gt;'Bob'&lt;/span&gt;
&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="o"&gt;~&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;names&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s1"&gt;'Bob'&lt;/span&gt;&lt;span class="p"&gt;)]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[35]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;array([[ 0.7525,  0.4313, -0.4447,  0.296 ],
       [ 0.8521, -0.1377,  1.9734,  1.2485],
       [-0.823 , -0.1922,  0.8819, -0.0861],
       [-0.5267, -1.9805, -0.7778, -1.5296],
       [-0.5977,  0.1968,  0.9831, -2.0394]])&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[36]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;mask&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;names&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s1"&gt;'Bob'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;names&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s1"&gt;'Will'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;mask&lt;/span&gt;
&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;mask&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[36]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;array([[-0.843 , -1.2552,  1.6243,  0.1478],
       [ 0.8521, -0.1377,  1.9734,  1.2485],
       [-0.349 ,  1.5589, -0.0471, -0.1323],
       [-0.823 , -0.1922,  0.8819, -0.0861]])&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[37]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;
&lt;span class="n"&gt;data&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[37]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;array([[ 0.    ,  0.    ,  1.6243,  0.1478],
       [ 0.7525,  0.4313,  0.    ,  0.296 ],
       [ 0.8521,  0.    ,  1.9734,  1.2485],
       [ 0.    ,  1.5589,  0.    ,  0.    ],
       [ 0.    ,  0.    ,  0.8819,  0.    ],
       [ 0.    ,  0.    ,  0.    ,  0.    ],
       [ 0.    ,  0.1968,  0.9831,  0.    ]])&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[38]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;names&lt;/span&gt; &lt;span class="o"&gt;!=&lt;/span&gt; &lt;span class="s1"&gt;'Joe'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;7&lt;/span&gt;
&lt;span class="n"&gt;data&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[38]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;array([[ 7.    ,  7.    ,  7.    ,  7.    ],
       [ 0.7525,  0.4313,  0.    ,  0.296 ],
       [ 7.    ,  7.    ,  7.    ,  7.    ],
       [ 7.    ,  7.    ,  7.    ,  7.    ],
       [ 7.    ,  7.    ,  7.    ,  7.    ],
       [ 0.    ,  0.    ,  0.    ,  0.    ],
       [ 0.    ,  0.1968,  0.9831,  0.    ]])&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="花式索引(Fancy-indexing)"&gt;花式索引(Fancy indexing)&lt;a class="anchor-link" href="#花式索引(Fancy-indexing)"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;花式索引是指利用整数数组进行索引。&lt;/p&gt;
&lt;p&gt;与切片索引不同，&lt;em&gt; 花式索引总是将数据复制到新数组中 &lt;/em&gt; 。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[39]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;arr&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;empty&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="mi"&gt;8&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;8&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;arr&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt;
&lt;span class="n"&gt;arr&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[39]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;array([[ 0.,  0.,  0.,  0.],
       [ 1.,  1.,  1.,  1.],
       [ 2.,  2.,  2.,  2.],
       [ 3.,  3.,  3.,  3.],
       [ 4.,  4.,  4.,  4.],
       [ 5.,  5.,  5.,  5.],
       [ 6.,  6.,  6.,  6.],
       [ 7.,  7.,  7.,  7.]])&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[40]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;arr&lt;/span&gt;&lt;span class="p"&gt;[[&lt;/span&gt;&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;6&lt;/span&gt;&lt;span class="p"&gt;]]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[40]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;array([[ 4.,  4.,  4.,  4.],
       [ 3.,  3.,  3.,  3.],
       [ 0.,  0.,  0.,  0.],
       [ 6.,  6.,  6.,  6.]])&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[41]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;arr&lt;/span&gt;&lt;span class="p"&gt;[[&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;7&lt;/span&gt;&lt;span class="p"&gt;]]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[41]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;array([[ 5.,  5.,  5.,  5.],
       [ 3.,  3.,  3.,  3.],
       [ 1.,  1.,  1.,  1.]])&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[42]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# more on reshape in Chapter 12&lt;/span&gt;
&lt;span class="n"&gt;arr&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;arange&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;32&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;reshape&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="mi"&gt;8&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="n"&gt;arr&lt;/span&gt;
&lt;span class="n"&gt;arr&lt;/span&gt;&lt;span class="p"&gt;[[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;7&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;]]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[42]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;array([ 4, 23, 29, 10])&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[43]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;arr&lt;/span&gt;&lt;span class="p"&gt;[[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;7&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;]][:,&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;]]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[43]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;array([[ 4,  7,  5,  6],
       [20, 23, 21, 22],
       [28, 31, 29, 30],
       [ 8, 11,  9, 10]])&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[44]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;arr&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ix_&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;7&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;])]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[44]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;array([[ 4,  7,  5,  6],
       [20, 23, 21, 22],
       [28, 31, 29, 30],
       [ 8, 11,  9, 10]])&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="数组转置和轴对换_1"&gt;数组转置和轴对换&lt;a class="anchor-link" href="#数组转置和轴对换"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;转置(transpose)，是一种对源数据的视图，不会进行复制。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[45]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;arr&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;arange&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;15&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;reshape&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;arr&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'-------'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;arr&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;T&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;div class="output_subarea output_stream output_stdout output_text"&gt;
&lt;pre&gt;[[ 0  1  2  3  4]
 [ 5  6  7  8  9]
 [10 11 12 13 14]]
-------
[[ 0  5 10]
 [ 1  6 11]
 [ 2  7 12]
 [ 3  8 13]
 [ 4  9 14]]
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;&lt;code&gt;np.dot()&lt;/code&gt;: 矩阵乘积&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[46]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;arr&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;arange&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;6&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;reshape&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;arr&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'-------'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;arr&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;T&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'-------'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;dot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;arr&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;T&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;arr&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;div class="output_subarea output_stream output_stdout output_text"&gt;
&lt;pre&gt;[[0 1 2]
 [3 4 5]]
-------
[[0 3]
 [1 4]
 [2 5]]
-------
[[ 9 12 15]
 [12 17 22]
 [15 22 29]]
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[47]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# 多维的情况比较复杂&lt;/span&gt;
&lt;span class="n"&gt;arr&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;arange&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;16&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;reshape&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;arr&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'--------'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;arr&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;transpose&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;div class="output_subarea output_stream output_stdout output_text"&gt;
&lt;pre&gt;[[[ 0  1  2  3]
  [ 4  5  6  7]]

 [[ 8  9 10 11]
  [12 13 14 15]]]
--------
[[[ 0  1  2  3]
  [ 8  9 10 11]]

 [[ 4  5  6  7]
  [12 13 14 15]]]
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;交换坐标轴&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[48]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;arr&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'--------'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;arr&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;swapaxes&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;div class="output_subarea output_stream output_stdout output_text"&gt;
&lt;pre&gt;[[[ 0  1  2  3]
  [ 4  5  6  7]]

 [[ 8  9 10 11]
  [12 13 14 15]]]
--------
[[[ 0  4]
  [ 1  5]
  [ 2  6]
  [ 3  7]]

 [[ 8 12]
  [ 9 13]
  [10 14]
  [11 15]]]
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="通用函数：快速的元素级数组函数"&gt;通用函数：快速的元素级数组函数&lt;a class="anchor-link" href="#通用函数：快速的元素级数组函数"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;NumPy 中的通用函数(ufunc), 可以对ndarray中的数据逐个执行运算。&lt;/p&gt;
&lt;p&gt;常见的 ufunc 包括：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;一元 ufunc&lt;ul&gt;
&lt;li&gt;abs、fabs： 计算绝对值。对于非复数，fabs 更快&lt;/li&gt;
&lt;li&gt;sqrt: 平方根&lt;/li&gt;
&lt;li&gt;square: 平方&lt;/li&gt;
&lt;li&gt;exp: e^x&lt;/li&gt;
&lt;li&gt;log, log10, log2:  底数为 e,10,2的对数&lt;/li&gt;
&lt;li&gt;log1p: log(1+x)&lt;/li&gt;
&lt;li&gt;sign: 符号。（返回1，0，-1)&lt;/li&gt;
&lt;li&gt;cell: ceiling 值，即&amp;gt;=x 的最小整数&lt;/li&gt;
&lt;li&gt;floor: floor 值，即&amp;lt;=x 的最大整数&lt;/li&gt;
&lt;li&gt;rint: 四舍五入的整数，保留 type&lt;/li&gt;
&lt;li&gt;modf: 将小数和整数部分返回两个独立数组&lt;/li&gt;
&lt;li&gt;isnan: 返回是否为 非数字(NaN)的布尔数组&lt;/li&gt;
&lt;li&gt;isfinite, isinf: 返回是否为有穷(非 inf,非 NaN) / 无穷 的布尔数组&lt;/li&gt;
&lt;li&gt;cos, cosh, sin, sinh, tan, tanh: 三角函数&lt;/li&gt;
&lt;li&gt;arcos, arccosh, arcsin, arcsinh, arctan, arctanh: 反三角函数&lt;/li&gt;
&lt;li&gt;logical_not: 计算 非， 相当于 &lt;code&gt;~attr&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;ul&gt;
&lt;li&gt;二元 ufunc&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;//TODO:&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[49]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;arr&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;arange&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sqrt&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;arr&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;exp&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;arr&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[49]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;array([    1.    ,     2.7183,     7.3891,    20.0855,    54.5982,
         148.4132,   403.4288,  1096.6332,  2980.958 ,  8103.0839])&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[50]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;randn&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;8&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;y&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;randn&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;8&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;x&lt;/span&gt;
&lt;span class="n"&gt;y&lt;/span&gt;

&lt;span class="c1"&gt;#  以两个数组为参数，并返回数组&lt;/span&gt;
&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;maximum&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c1"&gt;# element-wise maximum&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[50]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;array([ 0.3233,  0.6903,  1.6237,  0.8402,  1.1369,  0.7268, -1.1562,
        1.1779])&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[51]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;arr&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;randn&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;7&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="mi"&gt;5&lt;/span&gt;

&lt;span class="c1"&gt;# 返回两个数组&lt;/span&gt;
&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;modf&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;arr&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[51]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;(array([ 0.8414,  0.4926,  0.7819, -0.1564,  0.7183,  0.6111, -0.3078]),
 array([ 2.,  4.,  2., -4.,  2.,  2., -9.]))&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="利用数组进行数据处理"&gt;利用数组进行数据处理&lt;a class="anchor-link" href="#利用数组进行数据处理"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;矢量化数组运算比纯pyhton方式快1-2个数量级（or more）, 因为broadcasting作用很强大。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[52]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;points&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;arange&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;0.01&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c1"&gt;# 1000 equally spaced points&lt;/span&gt;
&lt;span class="n"&gt;xs&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;ys&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;meshgrid&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;points&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;points&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ys&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[52]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;array([[-5.  , -5.  , -5.  , ..., -5.  , -5.  , -5.  ],
       [-4.99, -4.99, -4.99, ..., -4.99, -4.99, -4.99],
       [-4.98, -4.98, -4.98, ..., -4.98, -4.98, -4.98],
       ..., 
       [ 4.97,  4.97,  4.97, ...,  4.97,  4.97,  4.97],
       [ 4.98,  4.98,  4.98, ...,  4.98,  4.98,  4.98],
       [ 4.99,  4.99,  4.99, ...,  4.99,  4.99,  4.99]])&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[53]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;matplotlib.pyplot&lt;/span&gt; &lt;span class="k"&gt;import&lt;/span&gt; &lt;span class="n"&gt;imshow&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;title&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;matplotlib.pyplot&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;plt&lt;/span&gt;
&lt;span class="n"&gt;z&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sqrt&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;xs&lt;/span&gt; &lt;span class="o"&gt;**&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;ys&lt;/span&gt; &lt;span class="o"&gt;**&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;z&lt;/span&gt;
&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;imshow&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;z&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;cmap&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;cm&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;gray&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt; &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;colorbar&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;title&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"Image plot of $\sqrt{x^2 + y^2}$ for a grid of values"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[53]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;&lt;matplotlib.text.text 0x115a97cc0="" at=""&gt;&lt;/matplotlib.text.text&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;div class="output_png output_subarea "&gt;
&lt;img src="data:image/png;base64,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
"&gt;
&lt;/img&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="将条件逻辑表述为数组运算"&gt;将条件逻辑表述为数组运算&lt;a class="anchor-link" href="#将条件逻辑表述为数组运算"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;&lt;code&gt;np.where()&lt;/code&gt;: x if condition else y 的矢量版&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[54]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;xarr&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;array&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="mf"&gt;1.1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;1.2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;1.3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;1.4&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;1.5&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="n"&gt;yarr&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;array&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="mf"&gt;2.1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;2.2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;2.3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;2.4&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;2.5&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="n"&gt;cond&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;array&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="kc"&gt;True&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="kc"&gt;False&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="kc"&gt;True&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="kc"&gt;True&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="kc"&gt;False&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[55]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;result&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;c&lt;/span&gt; &lt;span class="k"&gt;else&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
          &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;c&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;zip&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;xarr&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;yarr&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;cond&lt;/span&gt;&lt;span class="p"&gt;)]&lt;/span&gt;
&lt;span class="n"&gt;result&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[55]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;[1.1000000000000001, 2.2000000000000002, 1.3, 1.3999999999999999, 2.5]&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[56]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;result&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;where&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;cond&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;xarr&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;yarr&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;result&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[56]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;array([ 1.1,  2.2,  1.3,  1.4,  2.5])&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[57]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;arr&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;randn&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;arr&lt;/span&gt;
&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;where&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;arr&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;where&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;arr&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;arr&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c1"&gt;# set only positive values to 2&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[57]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;array([[ 2.    ,  2.    , -0.1632, -0.0998],
       [-0.1647, -0.4374, -0.8843, -0.5101],
       [-0.8537,  2.    , -0.1251, -0.284 ],
       [ 2.    , -1.8794, -1.1339,  2.    ]])&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[58]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# 更复杂的用法&lt;/span&gt;
&lt;span class="c1"&gt;# result = 1 * cond1 + 2 * cond2 + 3 * -(cond1 | cond2)&lt;/span&gt;

&lt;span class="c1"&gt;# np.where(cond1 &amp;amp; cond2, 0,&lt;/span&gt;
&lt;span class="c1"&gt;#    np.where(cond1, 1, &lt;/span&gt;
&lt;span class="c1"&gt;#    np.where(cond2, 2, 3)))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="数学和统计方法_1"&gt;数学和统计方法&lt;a class="anchor-link" href="#数学和统计方法"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;p&gt;常用的统计计算&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;sum: 求和&lt;/li&gt;
&lt;li&gt;mean: 算术平均数&lt;/li&gt;
&lt;li&gt;min, max: 最小值、最大值&lt;/li&gt;
&lt;li&gt;argmin, argmax: 最小元素、最大元素的索引&lt;/li&gt;
&lt;li&gt;std,var: 标准差和方差&lt;/li&gt;
&lt;li&gt;cumsum:  所有元素的累计和&lt;/li&gt;
&lt;li&gt;cumprod:  所有元素的累计积&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;用于布尔数组时&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;sum: 用于 True 的加和&lt;/li&gt;
&lt;li&gt;any: 是否存在 True&lt;/li&gt;
&lt;li&gt;all: 是否全为 True&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;常用集合运算&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;sort: 排序&lt;/li&gt;
&lt;li&gt;unique: 唯一化，返回有序结果&lt;/li&gt;
&lt;li&gt;intersect1d(x,y): 计算公共元素，返回有序结果&lt;/li&gt;
&lt;li&gt;union1d(x,y): 计算并集，返回有序结果&lt;/li&gt;
&lt;li&gt;in1d(x,y):  返回关于&amp;ldquo;x数组中的元素是否在y中&amp;rdquo; 的布尔数组&lt;/li&gt;
&lt;li&gt;setdiff1d(x,y): 集合的差，返回元素在 x 中且不在 y 中的数组&lt;/li&gt;
&lt;li&gt;setxor1d(x,y):  集合异或，返回元素在一个集合中但不同时在两个集合中的数组&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;这些运算可以使用参数axis表示对哪个维度计算&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[59]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;arr&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;random&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;randn&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c1"&gt;# 正态分布数据&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;arr&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;mean&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt;&lt;span class="c1"&gt;#等价于 np.mean(arr)&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;arr&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sum&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;div class="output_subarea output_stream output_stdout output_text"&gt;
&lt;pre&gt;-0.0787761160028
-1.57552232006
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[60]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;arr&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;mean&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;axis&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt; &lt;span class="c1"&gt;#&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;arr&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sum&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;div class="output_subarea output_stream output_stdout output_text"&gt;
&lt;pre&gt;[-0.5999  0.1865 -0.2813  0.3011 -0.0004]
[-0.0753  1.6705 -2.3127 -0.858 ]
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[61]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;arr&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;array&lt;/span&gt;&lt;span class="p"&gt;([[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;6&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;7&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;8&lt;/span&gt;&lt;span class="p"&gt;]])&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;arr&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;cumsum&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'-------'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;arr&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;cumprod&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;div class="output_subarea output_stream output_stdout output_text"&gt;
&lt;pre&gt;[[ 0  1  2]
 [ 3  5  7]
 [ 9 12 15]]
-------
[[  0   0   0]
 [  3  12  60]
 [  6  42 336]]
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="Methods-for-boolean-arrays"&gt;Methods for boolean arrays&lt;a class="anchor-link" href="#Methods-for-boolean-arrays"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[62]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;arr&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;randn&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;100&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;arr&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sum&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="c1"&gt;# Number of positive values&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[62]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;55&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[63]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;bools&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;array&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="kc"&gt;False&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="kc"&gt;False&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="kc"&gt;True&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="kc"&gt;False&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="n"&gt;bools&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;any&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;bools&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;all&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[63]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;False&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="Sorting"&gt;Sorting&lt;a class="anchor-link" href="#Sorting"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[64]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;arr&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;randn&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;8&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;arr&lt;/span&gt;
&lt;span class="n"&gt;arr&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sort&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;arr&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[64]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;array([-0.7791,  0.2135,  0.3738,  0.3999,  0.4451,  0.8202,  1.0856,
        1.5183])&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[65]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;arr&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;randn&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;arr&lt;/span&gt;
&lt;span class="n"&gt;arr&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sort&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;arr&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[65]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;array([[-0.3418, -0.2091,  1.0341],
       [-0.277 , -0.0718,  0.3191],
       [-2.2649, -0.326 ,  1.2374],
       [-0.7329,  0.3868,  0.6407],
       [-2.1872, -0.8663, -0.1269]])&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[66]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;large_arr&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;randn&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1000&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;large_arr&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sort&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;large_arr&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="nb"&gt;int&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mf"&gt;0.05&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="nb"&gt;len&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;large_arr&lt;/span&gt;&lt;span class="p"&gt;))]&lt;/span&gt; &lt;span class="c1"&gt;# 5% quantile&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[66]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;-1.6426378066283904&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="Unique-and-other-set-logic"&gt;Unique and other set logic&lt;a class="anchor-link" href="#Unique-and-other-set-logic"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[67]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;names&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;array&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="s1"&gt;'Bob'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'Joe'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'Will'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'Bob'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'Will'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'Joe'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'Joe'&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;unique&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;names&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="n"&gt;ints&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;array&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;unique&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ints&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;div class="output_subarea output_stream output_stdout output_text"&gt;
&lt;pre&gt;['Bob' 'Joe' 'Will']
[1 2 3 4]
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[68]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nb"&gt;sorted&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;set&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;names&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[68]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;['Bob', 'Joe', 'Will']&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[69]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;values&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;array&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="mi"&gt;6&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;6&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;in1d&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;values&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;6&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[69]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;array([ True, False, False,  True,  True, False,  True], dtype=bool)&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="保存和读取数组文件（二进制）_1"&gt;保存和读取数组文件（二进制）&lt;a class="anchor-link" href="#保存和读取数组文件（二进制）"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[70]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;arr&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;arange&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;save&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'some_array'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;arr&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[71]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;load&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'some_array.npy'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[71]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;array([0, 1, 2, 3, 4, 5, 6, 7, 8, 9])&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[72]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;savez&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'array_archive.npz'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;arr&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;b&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;arr&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;  &lt;span class="c1"&gt;#  压缩保存&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[73]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;arch&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;load&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'array_archive.npz'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;  &lt;span class="c1"&gt;# 解压读取&lt;/span&gt;
&lt;span class="n"&gt;arch&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'b'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[73]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;array([0, 1, 2, 3, 4, 5, 6, 7, 8, 9])&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[74]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="o"&gt;!&lt;/span&gt;rm some_array.npy
&lt;span class="o"&gt;!&lt;/span&gt;rm array_archive.npz
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="保存和读取文本文件"&gt;保存和读取文本文件&lt;a class="anchor-link" href="#保存和读取文本文件"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[77]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="ch"&gt;#!cat array_ex.txt&lt;/span&gt;
&lt;span class="c1"&gt;#arr = np.loadtxt('array_ex.txt', delimiter=',')&lt;/span&gt;
&lt;span class="c1"&gt;#arr&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="线性代数-(Linear-algebra)_1"&gt;线性代数 (Linear algebra)&lt;a class="anchor-link" href="#线性代数-(Linear-algebra)"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;NumPy 的linalg中有很多关于矩阵的函数，与MATLAB、R使用的是相同的行业标准级Fortran库。&lt;/p&gt;
&lt;p&gt;常用的函数包括：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;diag 返回方阵的对角线/非对角线元素数组，或者将一位数组转换为方阵&lt;/li&gt;
&lt;li&gt;dot  矩阵相乘&lt;/li&gt;
&lt;li&gt;trace 计算对角线元素之和&lt;/li&gt;
&lt;li&gt;det 计算矩阵行列式&lt;/li&gt;
&lt;li&gt;eig 计算方阵的本征值和本征向量&lt;/li&gt;
&lt;li&gt;inv 计算方阵的逆&lt;/li&gt;
&lt;li&gt;pinv 计算矩阵的 Moore-Penrose 伪逆&lt;/li&gt;
&lt;li&gt;qr 计算 QR 分解&lt;/li&gt;
&lt;li&gt;svd 计算奇异值分解(SVD)&lt;/li&gt;
&lt;li&gt;solve  解线性方程组 Ax=b, 其中 A 为一个方阵&lt;/li&gt;
&lt;li&gt;lstsq 计算 Ax=b 的最小二乘解&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[78]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;array&lt;/span&gt;&lt;span class="p"&gt;([[&lt;/span&gt;&lt;span class="mf"&gt;1.&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;2.&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;3.&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mf"&gt;4.&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;5.&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;6.&lt;/span&gt;&lt;span class="p"&gt;]])&lt;/span&gt;
&lt;span class="n"&gt;y&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;array&lt;/span&gt;&lt;span class="p"&gt;([[&lt;/span&gt;&lt;span class="mf"&gt;6.&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;23.&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;7&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;8&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;9&lt;/span&gt;&lt;span class="p"&gt;]])&lt;/span&gt;
&lt;span class="n"&gt;x&lt;/span&gt;
&lt;span class="n"&gt;y&lt;/span&gt;
&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;dot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;  &lt;span class="c1"&gt;# equivalently np.dot(x, y)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[78]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;array([[  28.,   64.],
       [  67.,  181.]])&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[79]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;dot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ones&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[79]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;array([  6.,  15.])&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[80]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;random&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;seed&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;12345&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[81]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;numpy.linalg&lt;/span&gt; &lt;span class="k"&gt;import&lt;/span&gt; &lt;span class="n"&gt;inv&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;qr&lt;/span&gt;
&lt;span class="n"&gt;X&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;randn&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;mat&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;X&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;T&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;dot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;X&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;inv&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;mat&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;mat&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;dot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;inv&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;mat&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="n"&gt;q&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;r&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;qr&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;mat&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;r&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[81]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;array([[ -6.9271,   7.389 ,   6.1227,  -7.1163,  -4.9215],
       [  0.    ,  -3.9735,  -0.8671,   2.9747,  -5.7402],
       [  0.    ,   0.    , -10.2681,   1.8909,   1.6079],
       [  0.    ,   0.    ,   0.    ,  -1.2996,   3.3577],
       [  0.    ,   0.    ,   0.    ,   0.    ,   0.5571]])&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="生成随机数"&gt;生成随机数&lt;a class="anchor-link" href="#生成随机数"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;&lt;p&gt;NumPy.random模块对Python内置的random进行了补充，增加了一些用于高效生成多种概率分布的样本值的函数。&lt;/p&gt;
&lt;p&gt;常用的函数包括：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;seed&lt;/li&gt;
&lt;li&gt;permutation&lt;/li&gt;
&lt;li&gt;shuffle&lt;/li&gt;
&lt;li&gt;rand&lt;/li&gt;
&lt;li&gt;randint&lt;/li&gt;
&lt;li&gt;randn&lt;/li&gt;
&lt;li&gt;binomial&lt;/li&gt;
&lt;li&gt;normal&lt;/li&gt;
&lt;li&gt;beta&lt;/li&gt;
&lt;li&gt;chisquare&lt;/li&gt;
&lt;li&gt;gamma&lt;/li&gt;
&lt;li&gt;uniform&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[82]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;samples&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;random&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;normal&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;size&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="n"&gt;samples&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[82]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;array([[ 0.1241,  0.3026,  0.5238,  0.0009],
       [ 1.3438, -0.7135, -0.8312, -2.3702],
       [-1.8608, -0.8608,  0.5601, -1.2659],
       [ 0.1198, -1.0635,  0.3329, -2.3594]])&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[83]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;from&lt;/span&gt; &lt;span class="nn"&gt;np.random&lt;/span&gt; &lt;span class="k"&gt;import&lt;/span&gt; &lt;span class="n"&gt;normalvariate&lt;/span&gt;
&lt;span class="n"&gt;N&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;1000000&lt;/span&gt;
&lt;span class="o"&gt;%&lt;/span&gt;&lt;span class="k"&gt;timeit&lt;/span&gt; samples = [normalvariate(0, 1) for _ in xrange(N)]
&lt;span class="o"&gt;%&lt;/span&gt;&lt;span class="k"&gt;timeit&lt;/span&gt; np.random.normal(size=N)
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;div class="output_subarea output_text output_error"&gt;
&lt;pre&gt;
&lt;span class="ansi-red-fg"&gt;---------------------------------------------------------------------------&lt;/span&gt;
&lt;span class="ansi-red-fg"&gt;ModuleNotFoundError&lt;/span&gt;                       Traceback (most recent call last)
&lt;span class="ansi-green-fg"&gt;&lt;ipython-input-83-0b64fa2cfe35&gt;&lt;/ipython-input-83-0b64fa2cfe35&gt;&lt;/span&gt; in &lt;span class="ansi-cyan-fg"&gt;&lt;module&gt;&lt;/module&gt;&lt;/span&gt;&lt;span class="ansi-blue-fg"&gt;()&lt;/span&gt;
&lt;span class="ansi-green-fg"&gt;----&amp;gt; 1&lt;/span&gt;&lt;span class="ansi-red-fg"&gt; &lt;/span&gt;&lt;span class="ansi-green-fg"&gt;from&lt;/span&gt; np&lt;span class="ansi-blue-fg"&gt;.&lt;/span&gt;random &lt;span class="ansi-green-fg"&gt;import&lt;/span&gt; normalvariate
&lt;span class="ansi-green-intense-fg ansi-bold"&gt;      2&lt;/span&gt; N &lt;span class="ansi-blue-fg"&gt;=&lt;/span&gt; &lt;span class="ansi-cyan-fg"&gt;1000000&lt;/span&gt;
&lt;span class="ansi-green-intense-fg ansi-bold"&gt;      3&lt;/span&gt; get_ipython&lt;span class="ansi-blue-fg"&gt;(&lt;/span&gt;&lt;span class="ansi-blue-fg"&gt;)&lt;/span&gt;&lt;span class="ansi-blue-fg"&gt;.&lt;/span&gt;magic&lt;span class="ansi-blue-fg"&gt;(&lt;/span&gt;&lt;span class="ansi-blue-fg"&gt;'timeit samples = [normalvariate(0, 1) for _ in xrange(N)]'&lt;/span&gt;&lt;span class="ansi-blue-fg"&gt;)&lt;/span&gt;
&lt;span class="ansi-green-intense-fg ansi-bold"&gt;      4&lt;/span&gt; get_ipython&lt;span class="ansi-blue-fg"&gt;(&lt;/span&gt;&lt;span class="ansi-blue-fg"&gt;)&lt;/span&gt;&lt;span class="ansi-blue-fg"&gt;.&lt;/span&gt;magic&lt;span class="ansi-blue-fg"&gt;(&lt;/span&gt;&lt;span class="ansi-blue-fg"&gt;'timeit np.random.normal(size=N)'&lt;/span&gt;&lt;span class="ansi-blue-fg"&gt;)&lt;/span&gt;

&lt;span class="ansi-red-fg"&gt;ModuleNotFoundError&lt;/span&gt;: No module named 'np'&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="示例：随机漫步"&gt;示例：随机漫步&lt;a class="anchor-link" href="#示例：随机漫步"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[84]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;nsteps&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;1000&lt;/span&gt;
&lt;span class="n"&gt;draws&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;random&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;randint&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;size&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;nsteps&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;steps&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;where&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;draws&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;walk&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;steps&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;cumsum&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;plot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;walk&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[84]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;[&lt;matplotlib.lines.line2d 0x118053e48="" at=""&gt;]&lt;/matplotlib.lines.line2d&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;div class="output_png output_subarea "&gt;
&lt;img src="data:image/png;base64,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
gg==
"&gt;
&lt;/img&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[85]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;walk&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;min&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;walk&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;max&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;abs&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;walk&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;=&lt;/span&gt; &lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;argmax&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;div class="output_subarea output_stream output_stdout output_text"&gt;
&lt;pre&gt;-13
21
169
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="一次模拟多个随机漫步"&gt;一次模拟多个随机漫步&lt;a class="anchor-link" href="#一次模拟多个随机漫步"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[10]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;nwalks&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;500&lt;/span&gt;
&lt;span class="n"&gt;nsteps&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;100&lt;/span&gt;
&lt;span class="n"&gt;draws&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;random&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;randint&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;size&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;nwalks&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;nsteps&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt; &lt;span class="c1"&gt;# 0 or 1&lt;/span&gt;
&lt;span class="n"&gt;steps&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;where&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;draws&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;walks&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;steps&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;cumsum&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="c1"&gt;# X = range(100)&lt;/span&gt;
&lt;span class="c1"&gt;# plt.plot(X,walks.T)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[4]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;walks&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;max&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt;
&lt;span class="nb"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;walks&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;min&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt;

&lt;span class="n"&gt;hits30&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;abs&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;walks&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;=&lt;/span&gt; &lt;span class="mi"&gt;30&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;any&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;hits30&lt;/span&gt;
&lt;span class="n"&gt;hits30&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sum&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="c1"&gt;# Number that hit 30 or -30&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;div class="output_subarea output_stream output_stdout output_text"&gt;
&lt;pre&gt;35
-29
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[4]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;3&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[5]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;crossing_times&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;abs&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;walks&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;hits30&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;=&lt;/span&gt; &lt;span class="mi"&gt;30&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;argmax&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;crossing_times&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;mean&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[5]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;93.666666666666671&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[6]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;steps&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;random&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;normal&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;loc&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;scale&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;0.25&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                         &lt;span class="n"&gt;size&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;nwalks&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;nsteps&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="n"&gt;steps&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[6]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;array([[-0.14399562, -0.32230426,  0.19550459, ...,  0.2911114 ,
        -0.12301231,  0.37247767],
       [ 0.03271324, -0.16595483, -0.14435582, ...,  0.11651164,
        -0.41746024,  0.2331533 ],
       [ 0.37643298, -0.63381675, -0.34511255, ...,  0.31880143,
         0.26840034,  0.40549077],
       ..., 
       [-0.18773108, -0.0468002 , -0.24459798, ..., -0.04037555,
         0.68543326,  0.08652403],
       [ 0.29482329,  0.55448322,  0.07250341, ..., -0.10875316,
        -0.10812287,  0.37397081],
       [ 0.39636087,  0.13759243, -0.4751035 , ...,  0.17986707,
         0.04288109,  0.00116321]])&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[9]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt; 
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[9]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;array([[ -1,   1,  -1, ...,   1,  -1,   1],
       [  0,   2,   0, ...,   2,  -2,   2],
       [ -1,   3,  -1, ...,   1,  -1,   1],
       ..., 
       [ -8,   2, -14, ...,   4,  -6,   0],
       [ -7,   3, -15, ...,   5,  -7,   1],
       [ -6,   4, -14, ...,   6,  -8,   0]])&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="参考资料_1"&gt;参考资料&lt;a class="anchor-link" href="#参考资料"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;[^1]: &lt;a href="https://uqer.io/community/share/54ca15f9f9f06c276f651a56"&gt;一大波金融Library来袭之numpy篇&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;[^2]: &lt;a href="http://www.cnblogs.com/batteryhp/p/5000104.html"&gt;司空格子Ored 的笔记&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;script type="text/javascript"&gt;if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
    var mathjaxscript = document.createElement('script');
    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
    mathjaxscript.type = 'text/javascript';
    mathjaxscript.src = '//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML';
    mathjaxscript[(window.opera ? "innerHTML" : "text")] =
        "MathJax.Hub.Config({" +
        "    config: ['MMLorHTML.js']," +
        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } }," +
        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
        "    displayAlign: 'center'," +
        "    displayIndent: '0em'," +
        "    showMathMenu: true," +
        "    tex2jax: { " +
        "        inlineMath: [ ['$','$'] ], " +
        "        displayMath: [ ['$$','$$'] ]," +
        "        processEscapes: true," +
        "        preview: 'TeX'," +
        "    }, " +
        "    'HTML-CSS': { " +
        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'black ! important'} }" +
        "    } " +
        "}); ";
    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
}
&lt;/script&gt;
</content><category term="读书笔记"></category><category term="python"></category></entry><entry><title>利用Python进行数据分析(2.3)：全美婴儿姓名分析</title><link href="http://holbrook.github.io/2017/02/16/python_data_analysis2-3.html" rel="alternate"></link><published>2017-02-16T00:00:00+08:00</published><updated>2017-02-16T00:00:00+08:00</updated><author><name>Holbrook</name></author><id>tag:holbrook.github.io,2017-02-16:/2017/02/16/python_data_analysis2-3.html</id><summary type="html">
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;《&lt;a href="https://book.douban.com/subject/25779298/"&gt;利用Python进行数据分析&lt;/a&gt;》读书笔记。&lt;/p&gt;
&lt;p&gt;&lt;a href="/2017/02/14/python_data_analysis2.html"&gt;第2章&lt;/a&gt;中的例子： 美国婴儿姓名统计。&lt;/p&gt;
&lt;p&gt;所有用到的数据可以从&lt;a href="https://github.com/wesm/pydata-book"&gt;作者的 github&lt;/a&gt;下载。&lt;/p&gt;
&lt;h4 id="0.-准备工作"&gt;0. 准备工作&lt;a class="anchor-link" href="#0.-准备工作"&gt;¶&lt;/a&gt;&lt;/h4&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;</summary><content type="html">&lt;style type="text/css"&gt;/*!
*
* IPython notebook
*
*/
/* CSS font colors for translated ANSI colors. */
.ansibold {
  font-weight: bold;
}
/* use dark versions for foreground, to improve visibility */
.ansiblack {
  color: black;
}
.ansired {
  color: darkred;
}
.ansigreen {
  color: darkgreen;
}
.ansiyellow {
  color: #c4a000;
}
.ansiblue {
  color: darkblue;
}
.ansipurple {
  color: darkviolet;
}
.ansicyan {
  color: steelblue;
}
.ansigray {
  color: gray;
}
/* and light for background, for the same reason */
.ansibgblack {
  background-color: black;
}
.ansibgred {
  background-color: red;
}
.ansibggreen {
  background-color: green;
}
.ansibgyellow {
  background-color: yellow;
}
.ansibgblue {
  background-color: blue;
}
.ansibgpurple {
  background-color: magenta;
}
.ansibgcyan {
  background-color: cyan;
}
.ansibggray {
  background-color: gray;
}
div.cell {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  border-radius: 2px;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
  border-width: 1px;
  border-style: solid;
  border-color: transparent;
  width: 100%;
  padding: 5px;
  /* This acts as a spacer between cells, that is outside the border */
  margin: 0px;
  outline: none;
  border-left-width: 1px;
  padding-left: 5px;
  background: linear-gradient(to right, transparent -40px, transparent 1px, transparent 1px, transparent 100%);
}
div.cell.jupyter-soft-selected {
  border-left-color: #90CAF9;
  border-left-color: #E3F2FD;
  border-left-width: 1px;
  padding-left: 5px;
  border-right-color: #E3F2FD;
  border-right-width: 1px;
  background: #E3F2FD;
}
@media print {
  div.cell.jupyter-soft-selected {
    border-color: transparent;
  }
}
div.cell.selected {
  border-color: #ababab;
  border-left-width: 0px;
  padding-left: 6px;
  background: linear-gradient(to right, #42A5F5 -40px, #42A5F5 5px, transparent 5px, transparent 100%);
}
@media print {
  div.cell.selected {
    border-color: transparent;
  }
}
div.cell.selected.jupyter-soft-selected {
  border-left-width: 0;
  padding-left: 6px;
  background: linear-gradient(to right, #42A5F5 -40px, #42A5F5 7px, #E3F2FD 7px, #E3F2FD 100%);
}
.edit_mode div.cell.selected {
  border-color: #66BB6A;
  border-left-width: 0px;
  padding-left: 6px;
  background: linear-gradient(to right, #66BB6A -40px, #66BB6A 5px, transparent 5px, transparent 100%);
}
@media print {
  .edit_mode div.cell.selected {
    border-color: transparent;
  }
}
.prompt {
  /* This needs to be wide enough for 3 digit prompt numbers: In[100]: */
  min-width: 14ex;
  /* This padding is tuned to match the padding on the CodeMirror editor. */
  padding: 0.4em;
  margin: 0px;
  font-family: monospace;
  text-align: right;
  /* This has to match that of the the CodeMirror class line-height below */
  line-height: 1.21429em;
  /* Don't highlight prompt number selection */
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  -khtml-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  /* Use default cursor */
  cursor: default;
}
@media (max-width: 540px) {
  .prompt {
    text-align: left;
  }
}
div.inner_cell {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  /* Old browsers */
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  box-flex: 1;
  /* Modern browsers */
  flex: 1;
}
@-moz-document url-prefix() {
  div.inner_cell {
    overflow-x: hidden;
  }
}
/* input_area and input_prompt must match in top border and margin for alignment */
div.input_area {
  border: 1px solid #cfcfcf;
  border-radius: 2px;
  background: #f7f7f7;
  line-height: 1.21429em;
}
/* This is needed so that empty prompt areas can collapse to zero height when there
   is no content in the output_subarea and the prompt. The main purpose of this is
   to make sure that empty JavaScript output_subareas have no height. */
div.prompt:empty {
  padding-top: 0;
  padding-bottom: 0;
}
div.unrecognized_cell {
  padding: 5px 5px 5px 0px;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
div.unrecognized_cell .inner_cell {
  border-radius: 2px;
  padding: 5px;
  font-weight: bold;
  color: red;
  border: 1px solid #cfcfcf;
  background: #eaeaea;
}
div.unrecognized_cell .inner_cell a {
  color: inherit;
  text-decoration: none;
}
div.unrecognized_cell .inner_cell a:hover {
  color: inherit;
  text-decoration: none;
}
@media (max-width: 540px) {
  div.unrecognized_cell &gt; div.prompt {
    display: none;
  }
}
div.code_cell {
  /* avoid page breaking on code cells when printing */
}
@media print {
  div.code_cell {
    page-break-inside: avoid;
  }
}
/* any special styling for code cells that are currently running goes here */
div.input {
  page-break-inside: avoid;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.input {
    /* Old browsers */
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-box-align: stretch;
    display: -moz-box;
    -moz-box-orient: vertical;
    -moz-box-align: stretch;
    display: box;
    box-orient: vertical;
    box-align: stretch;
    /* Modern browsers */
    display: flex;
    flex-direction: column;
    align-items: stretch;
  }
}
/* input_area and input_prompt must match in top border and margin for alignment */
div.input_prompt {
  color: #303F9F;
  border-top: 1px solid transparent;
}
div.input_area &gt; div.highlight {
  margin: 0.4em;
  border: none;
  padding: 0px;
  background-color: transparent;
}
div.input_area &gt; div.highlight &gt; pre {
  margin: 0px;
  border: none;
  padding: 0px;
  background-color: transparent;
}
/* The following gets added to the &lt;head&gt; if it is detected that the user has a
 * monospace font with inconsistent normal/bold/italic height.  See
 * notebookmain.js.  Such fonts will have keywords vertically offset with
 * respect to the rest of the text.  The user should select a better font.
 * See: https://github.com/ipython/ipython/issues/1503
 *
 * .CodeMirror span {
 *      vertical-align: bottom;
 * }
 */
.CodeMirror {
  line-height: 1.21429em;
  /* Changed from 1em to our global default */
  font-size: 14px;
  height: auto;
  /* Changed to auto to autogrow */
  background: none;
  /* Changed from white to allow our bg to show through */
}
.CodeMirror-scroll {
  /*  The CodeMirror docs are a bit fuzzy on if overflow-y should be hidden or visible.*/
  /*  We have found that if it is visible, vertical scrollbars appear with font size changes.*/
  overflow-y: hidden;
  overflow-x: auto;
}
.CodeMirror-lines {
  /* In CM2, this used to be 0.4em, but in CM3 it went to 4px. We need the em value because */
  /* we have set a different line-height and want this to scale with that. */
  padding: 0.4em;
}
.CodeMirror-linenumber {
  padding: 0 8px 0 4px;
}
.CodeMirror-gutters {
  border-bottom-left-radius: 2px;
  border-top-left-radius: 2px;
}
.CodeMirror pre {
  /* In CM3 this went to 4px from 0 in CM2. We need the 0 value because of how we size */
  /* .CodeMirror-lines */
  padding: 0;
  border: 0;
  border-radius: 0;
}
/*

Original style from softwaremaniacs.org (c) Ivan Sagalaev &lt;Maniac@SoftwareManiacs.Org&gt;
Adapted from GitHub theme

*/
.highlight-base {
  color: #000;
}
.highlight-variable {
  color: #000;
}
.highlight-variable-2 {
  color: #1a1a1a;
}
.highlight-variable-3 {
  color: #333333;
}
.highlight-string {
  color: #BA2121;
}
.highlight-comment {
  color: #408080;
  font-style: italic;
}
.highlight-number {
  color: #080;
}
.highlight-atom {
  color: #88F;
}
.highlight-keyword {
  color: #008000;
  font-weight: bold;
}
.highlight-builtin {
  color: #008000;
}
.highlight-error {
  color: #f00;
}
.highlight-operator {
  color: #AA22FF;
  font-weight: bold;
}
.highlight-meta {
  color: #AA22FF;
}
/* previously not defined, copying from default codemirror */
.highlight-def {
  color: #00f;
}
.highlight-string-2 {
  color: #f50;
}
.highlight-qualifier {
  color: #555;
}
.highlight-bracket {
  color: #997;
}
.highlight-tag {
  color: #170;
}
.highlight-attribute {
  color: #00c;
}
.highlight-header {
  color: blue;
}
.highlight-quote {
  color: #090;
}
.highlight-link {
  color: #00c;
}
/* apply the same style to codemirror */
.cm-s-ipython span.cm-keyword {
  color: #008000;
  font-weight: bold;
}
.cm-s-ipython span.cm-atom {
  color: #88F;
}
.cm-s-ipython span.cm-number {
  color: #080;
}
.cm-s-ipython span.cm-def {
  color: #00f;
}
.cm-s-ipython span.cm-variable {
  color: #000;
}
.cm-s-ipython span.cm-operator {
  color: #AA22FF;
  font-weight: bold;
}
.cm-s-ipython span.cm-variable-2 {
  color: #1a1a1a;
}
.cm-s-ipython span.cm-variable-3 {
  color: #333333;
}
.cm-s-ipython span.cm-comment {
  color: #408080;
  font-style: italic;
}
.cm-s-ipython span.cm-string {
  color: #BA2121;
}
.cm-s-ipython span.cm-string-2 {
  color: #f50;
}
.cm-s-ipython span.cm-meta {
  color: #AA22FF;
}
.cm-s-ipython span.cm-qualifier {
  color: #555;
}
.cm-s-ipython span.cm-builtin {
  color: #008000;
}
.cm-s-ipython span.cm-bracket {
  color: #997;
}
.cm-s-ipython span.cm-tag {
  color: #170;
}
.cm-s-ipython span.cm-attribute {
  color: #00c;
}
.cm-s-ipython span.cm-header {
  color: blue;
}
.cm-s-ipython span.cm-quote {
  color: #090;
}
.cm-s-ipython span.cm-link {
  color: #00c;
}
.cm-s-ipython span.cm-error {
  color: #f00;
}
.cm-s-ipython span.cm-tab {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAMCAYAAAAkuj5RAAAAAXNSR0IArs4c6QAAAGFJREFUSMft1LsRQFAQheHPowAKoACx3IgEKtaEHujDjORSgWTH/ZOdnZOcM/sgk/kFFWY0qV8foQwS4MKBCS3qR6ixBJvElOobYAtivseIE120FaowJPN75GMu8j/LfMwNjh4HUpwg4LUAAAAASUVORK5CYII=);
  background-position: right;
  background-repeat: no-repeat;
}
div.output_wrapper {
  /* this position must be relative to enable descendents to be absolute within it */
  position: relative;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  z-index: 1;
}
/* class for the output area when it should be height-limited */
div.output_scroll {
  /* ideally, this would be max-height, but FF barfs all over that */
  height: 24em;
  /* FF needs this *and the wrapper* to specify full width, or it will shrinkwrap */
  width: 100%;
  overflow: auto;
  border-radius: 2px;
  -webkit-box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.8);
  box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.8);
  display: block;
}
/* output div while it is collapsed */
div.output_collapsed {
  margin: 0px;
  padding: 0px;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
div.out_prompt_overlay {
  height: 100%;
  padding: 0px 0.4em;
  position: absolute;
  border-radius: 2px;
}
div.out_prompt_overlay:hover {
  /* use inner shadow to get border that is computed the same on WebKit/FF */
  -webkit-box-shadow: inset 0 0 1px #000;
  box-shadow: inset 0 0 1px #000;
  background: rgba(240, 240, 240, 0.5);
}
div.output_prompt {
  color: #D84315;
}
/* This class is the outer container of all output sections. */
div.output_area {
  padding: 0px;
  page-break-inside: avoid;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
div.output_area .MathJax_Display {
  text-align: left !important;
}
div.output_area 
div.output_area 
div.output_area img,
div.output_area svg {
  max-width: 100%;
  height: auto;
}
div.output_area img.unconfined,
div.output_area svg.unconfined {
  max-width: none;
}
/* This is needed to protect the pre formating from global settings such
   as that of bootstrap */
.output {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.output_area {
    /* Old browsers */
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-box-align: stretch;
    display: -moz-box;
    -moz-box-orient: vertical;
    -moz-box-align: stretch;
    display: box;
    box-orient: vertical;
    box-align: stretch;
    /* Modern browsers */
    display: flex;
    flex-direction: column;
    align-items: stretch;
  }
}
div.output_area pre {
  margin: 0;
  padding: 0;
  border: 0;
  vertical-align: baseline;
  color: black;
  background-color: transparent;
  border-radius: 0;
}
/* This class is for the output subarea inside the output_area and after
   the prompt div. */
div.output_subarea {
  overflow-x: auto;
  padding: 0.4em;
  /* Old browsers */
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  box-flex: 1;
  /* Modern browsers */
  flex: 1;
  max-width: calc(100% - 14ex);
}
div.output_scroll div.output_subarea {
  overflow-x: visible;
}
/* The rest of the output_* classes are for special styling of the different
   output types */
/* all text output has this class: */
div.output_text {
  text-align: left;
  color: #000;
  /* This has to match that of the the CodeMirror class line-height below */
  line-height: 1.21429em;
}
/* stdout/stderr are 'text' as well as 'stream', but execute_result/error are *not* streams */
div.output_stderr {
  background: #fdd;
  /* very light red background for stderr */
}
div.output_latex {
  text-align: left;
}
/* Empty output_javascript divs should have no height */
div.output_javascript:empty {
  padding: 0;
}
.js-error {
  color: darkred;
}
/* raw_input styles */
div.raw_input_container {
  line-height: 1.21429em;
  padding-top: 5px;
}
pre.raw_input_prompt {
  /* nothing needed here. */
}
input.raw_input {
  font-family: monospace;
  font-size: inherit;
  color: inherit;
  width: auto;
  /* make sure input baseline aligns with prompt */
  vertical-align: baseline;
  /* padding + margin = 0.5em between prompt and cursor */
  padding: 0em 0.25em;
  margin: 0em 0.25em;
}
input.raw_input:focus {
  box-shadow: none;
}
p.p-space {
  margin-bottom: 10px;
}
div.output_unrecognized {
  padding: 5px;
  font-weight: bold;
  color: red;
}
div.output_unrecognized a {
  color: inherit;
  text-decoration: none;
}
div.output_unrecognized a:hover {
  color: inherit;
  text-decoration: none;
}
.rendered_html {
  color: #000;
  /* any extras will just be numbers: */
}



.rendered_html :link {
  text-decoration: underline;
}
.rendered_html :visited {
  text-decoration: underline;
}






.rendered_html h1:first-child {
  margin-top: 0.538em;
}
.rendered_html h2:first-child {
  margin-top: 0.636em;
}
.rendered_html h3:first-child {
  margin-top: 0.777em;
}
.rendered_html h4:first-child {
  margin-top: 1em;
}
.rendered_html h5:first-child {
  margin-top: 1em;
}
.rendered_html h6:first-child {
  margin-top: 1em;
}








.rendered_html * + ul {
  margin-top: 1em;
}
.rendered_html * + ol {
  margin-top: 1em;
}


.rendered_html pre,



.rendered_html tr,
.rendered_html th,

.rendered_html td,


.rendered_html * + table {
  margin-top: 1em;
}

.rendered_html * + p {
  margin-top: 1em;
}

.rendered_html * + img {
  margin-top: 1em;
}
.rendered_html img,

.rendered_html img.unconfined,

div.text_cell {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.text_cell &gt; div.prompt {
    display: none;
  }
}
div.text_cell_render {
  /*font-family: "Helvetica Neue", Arial, Helvetica, Geneva, sans-serif;*/
  outline: none;
  resize: none;
  width: inherit;
  border-style: none;
  padding: 0.5em 0.5em 0.5em 0.4em;
  color: #000;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
}
a.anchor-link:link {
  text-decoration: none;
  padding: 0px 20px;
  visibility: hidden;
}
h1:hover .anchor-link,
h2:hover .anchor-link,
h3:hover .anchor-link,
h4:hover .anchor-link,
h5:hover .anchor-link,
h6:hover .anchor-link {
  visibility: visible;
}
.text_cell.rendered .input_area {
  display: none;
}
.text_cell.rendered 
.text_cell.unrendered .text_cell_render {
  display: none;
}
.cm-header-1,
.cm-header-2,
.cm-header-3,
.cm-header-4,
.cm-header-5,
.cm-header-6 {
  font-weight: bold;
  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
}
.cm-header-1 {
  font-size: 185.7%;
}
.cm-header-2 {
  font-size: 157.1%;
}
.cm-header-3 {
  font-size: 128.6%;
}
.cm-header-4 {
  font-size: 110%;
}
.cm-header-5 {
  font-size: 100%;
  font-style: italic;
}
.cm-header-6 {
  font-size: 100%;
  font-style: italic;
}
&lt;/style&gt;
&lt;style type="text/css"&gt;.highlight .hll { background-color: #ffffcc }
.highlight  { background: #f8f8f8; }
.highlight .c { color: #408080; font-style: italic } /* Comment */
.highlight .err { border: 1px solid #FF0000 } /* Error */
.highlight .k { color: #008000; font-weight: bold } /* Keyword */
.highlight .o { color: #666666 } /* Operator */
.highlight .ch { color: #408080; font-style: italic } /* Comment.Hashbang */
.highlight .cm { color: #408080; font-style: italic } /* Comment.Multiline */
.highlight .cp { color: #BC7A00 } /* Comment.Preproc */
.highlight .cpf { color: #408080; font-style: italic } /* Comment.PreprocFile */
.highlight .c1 { color: #408080; font-style: italic } /* Comment.Single */
.highlight .cs { color: #408080; font-style: italic } /* Comment.Special */
.highlight .gd { color: #A00000 } /* Generic.Deleted */
.highlight .ge { font-style: italic } /* Generic.Emph */
.highlight .gr { color: #FF0000 } /* Generic.Error */
.highlight .gh { color: #000080; font-weight: bold } /* Generic.Heading */
.highlight .gi { color: #00A000 } /* Generic.Inserted */
.highlight .go { color: #888888 } /* Generic.Output */
.highlight .gp { color: #000080; font-weight: bold } /* Generic.Prompt */
.highlight .gs { font-weight: bold } /* Generic.Strong */
.highlight .gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.highlight .gt { color: #0044DD } /* Generic.Traceback */
.highlight .kc { color: #008000; font-weight: bold } /* Keyword.Constant */
.highlight .kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
.highlight .kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
.highlight .kp { color: #008000 } /* Keyword.Pseudo */
.highlight .kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
.highlight .kt { color: #B00040 } /* Keyword.Type */
.highlight .m { color: #666666 } /* Literal.Number */
.highlight .s { color: #BA2121 } /* Literal.String */
.highlight .na { color: #7D9029 } /* Name.Attribute */
.highlight .nb { color: #008000 } /* Name.Builtin */
.highlight .nc { color: #0000FF; font-weight: bold } /* Name.Class */
.highlight .no { color: #880000 } /* Name.Constant */
.highlight .nd { color: #AA22FF } /* Name.Decorator */
.highlight .ni { color: #999999; font-weight: bold } /* Name.Entity */
.highlight .ne { color: #D2413A; font-weight: bold } /* Name.Exception */
.highlight .nf { color: #0000FF } /* Name.Function */
.highlight .nl { color: #A0A000 } /* Name.Label */
.highlight .nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
.highlight .nt { color: #008000; font-weight: bold } /* Name.Tag */
.highlight .nv { color: #19177C } /* Name.Variable */
.highlight .ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
.highlight .w { color: #bbbbbb } /* Text.Whitespace */
.highlight .mb { color: #666666 } /* Literal.Number.Bin */
.highlight .mf { color: #666666 } /* Literal.Number.Float */
.highlight .mh { color: #666666 } /* Literal.Number.Hex */
.highlight .mi { color: #666666 } /* Literal.Number.Integer */
.highlight .mo { color: #666666 } /* Literal.Number.Oct */
.highlight .sb { color: #BA2121 } /* Literal.String.Backtick */
.highlight .sc { color: #BA2121 } /* Literal.String.Char */
.highlight .sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */
.highlight .s2 { color: #BA2121 } /* Literal.String.Double */
.highlight .se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */
.highlight .sh { color: #BA2121 } /* Literal.String.Heredoc */
.highlight .si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */
.highlight .sx { color: #008000 } /* Literal.String.Other */
.highlight .sr { color: #BB6688 } /* Literal.String.Regex */
.highlight .s1 { color: #BA2121 } /* Literal.String.Single */
.highlight .ss { color: #19177C } /* Literal.String.Symbol */
.highlight .bp { color: #008000 } /* Name.Builtin.Pseudo */
.highlight .vc { color: #19177C } /* Name.Variable.Class */
.highlight .vg { color: #19177C } /* Name.Variable.Global */
.highlight .vi { color: #19177C } /* Name.Variable.Instance */
.highlight .il { color: #666666 } /* Literal.Number.Integer.Long */&lt;/style&gt;
&lt;style type="text/css"&gt;
/* Temporary definitions which will become obsolete with Notebook release 5.0 */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-bold { font-weight: bold; }
&lt;/style&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;《&lt;a href="https://book.douban.com/subject/25779298/"&gt;利用Python进行数据分析&lt;/a&gt;》读书笔记。&lt;/p&gt;
&lt;p&gt;&lt;a href="/2017/02/14/python_data_analysis2.html"&gt;第2章&lt;/a&gt;中的例子： 美国婴儿姓名统计。&lt;/p&gt;
&lt;p&gt;所有用到的数据可以从&lt;a href="https://github.com/wesm/pydata-book"&gt;作者的 github&lt;/a&gt;下载。&lt;/p&gt;
&lt;h4 id="0.-准备工作"&gt;0. 准备工作&lt;a class="anchor-link" href="#0.-准备工作"&gt;&amp;para;&lt;/a&gt;&lt;/h4&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[1]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="o"&gt;%&lt;/span&gt;&lt;span class="k"&gt;pylab&lt;/span&gt; inline
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;pandas&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;pd&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;div class="output_subarea output_stream output_stdout output_text"&gt;
&lt;pre&gt;Populating the interactive namespace from numpy and matplotlib
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h4 id="1.--将数据加载到-DataFrame，并合并"&gt;1.  将数据加载到 DataFrame，并合并&lt;a class="anchor-link" href="#1.--将数据加载到-DataFrame，并合并"&gt;&amp;para;&lt;/a&gt;&lt;/h4&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[2]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;#pd.read_csv('data/ch02/names/yob1880.txt', names=['name', 'sex', 'births'])&lt;/span&gt;

&lt;span class="n"&gt;years&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1880&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2011&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;pieces&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[]&lt;/span&gt;
&lt;span class="n"&gt;columns&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'name'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'sex'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'births'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;

&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;year&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;years&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="n"&gt;path&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;'data/ch02/names/yob&lt;/span&gt;&lt;span class="si"&gt;%d&lt;/span&gt;&lt;span class="s1"&gt;.txt'&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="n"&gt;year&lt;/span&gt;
    &lt;span class="n"&gt;frame&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;pd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;read_csv&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;names&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;columns&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

    &lt;span class="n"&gt;frame&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'year'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;year&lt;/span&gt;
    &lt;span class="n"&gt;pieces&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;append&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;frame&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="c1"&gt;#  将多个 DataFrame 连接成一个&lt;/span&gt;
&lt;span class="n"&gt;names&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;pd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;concat&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;pieces&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;ignore_index&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;True&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h4 id="2.---聚合"&gt;2.   聚合&lt;a class="anchor-link" href="#2.---聚合"&gt;&amp;para;&lt;/a&gt;&lt;/h4&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[3]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# 按年度聚合，区分性别&lt;/span&gt;
&lt;span class="n"&gt;total_births&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;names&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;pivot_table&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'births'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;index&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'year'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                                 &lt;span class="n"&gt;columns&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'sex'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;aggfunc&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nb"&gt;sum&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;total_births&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;head&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[3]:&lt;/div&gt;
&lt;div class="output_html rendered_html output_subarea output_execute_result"&gt;
&lt;div&gt;
&lt;table border="1" class="dataframe"&gt;
&lt;thead&gt;
&lt;tr style="text-align: right;"&gt;
&lt;th&gt;sex&lt;/th&gt;
&lt;th&gt;F&lt;/th&gt;
&lt;th&gt;M&lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;year&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;th&gt;1880&lt;/th&gt;
&lt;td&gt;90993&lt;/td&gt;
&lt;td&gt;110493&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;1881&lt;/th&gt;
&lt;td&gt;91955&lt;/td&gt;
&lt;td&gt;100748&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;1882&lt;/th&gt;
&lt;td&gt;107851&lt;/td&gt;
&lt;td&gt;113687&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;1883&lt;/th&gt;
&lt;td&gt;112322&lt;/td&gt;
&lt;td&gt;104632&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;1884&lt;/th&gt;
&lt;td&gt;129021&lt;/td&gt;
&lt;td&gt;114445&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;1885&lt;/th&gt;
&lt;td&gt;133056&lt;/td&gt;
&lt;td&gt;107802&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;1886&lt;/th&gt;
&lt;td&gt;144538&lt;/td&gt;
&lt;td&gt;110785&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;1887&lt;/th&gt;
&lt;td&gt;145983&lt;/td&gt;
&lt;td&gt;101412&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;1888&lt;/th&gt;
&lt;td&gt;178631&lt;/td&gt;
&lt;td&gt;120857&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;1889&lt;/th&gt;
&lt;td&gt;178369&lt;/td&gt;
&lt;td&gt;110590&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[4]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;#  画张图看看&lt;/span&gt;
&lt;span class="n"&gt;total_births&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;plot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;title&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'Total births by sex and year'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[4]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;&lt;matplotlib.axes._subplots.axessubplot 0x1149ebc18="" at=""&gt;&lt;/matplotlib.axes._subplots.axessubplot&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;div class="output_png output_subarea "&gt;
&lt;img src="data:image/png;base64,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
"&gt;
&lt;/img&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h4 id="3.数据转换"&gt;3.数据转换&lt;a class="anchor-link" href="#3.数据转换"&gt;&amp;para;&lt;/a&gt;&lt;/h4&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[6]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# 计算名字占所有出生婴儿的比重&lt;/span&gt;

&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;add_prop&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;group&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="c1"&gt;# Integer division floors&lt;/span&gt;
    &lt;span class="n"&gt;births&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;group&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;births&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;astype&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;float&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

    &lt;span class="n"&gt;group&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'prop'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;births&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt; &lt;span class="n"&gt;births&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sum&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;group&lt;/span&gt;
&lt;span class="n"&gt;names&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;names&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;groupby&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="s1"&gt;'year'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'sex'&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;apply&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;add_prop&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;names&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;head&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[6]:&lt;/div&gt;
&lt;div class="output_html rendered_html output_subarea output_execute_result"&gt;
&lt;div&gt;
&lt;table border="1" class="dataframe"&gt;
&lt;thead&gt;
&lt;tr style="text-align: right;"&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;name&lt;/th&gt;
&lt;th&gt;sex&lt;/th&gt;
&lt;th&gt;births&lt;/th&gt;
&lt;th&gt;year&lt;/th&gt;
&lt;th&gt;prop&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;th&gt;0&lt;/th&gt;
&lt;td&gt;Mary&lt;/td&gt;
&lt;td&gt;F&lt;/td&gt;
&lt;td&gt;7065&lt;/td&gt;
&lt;td&gt;1880&lt;/td&gt;
&lt;td&gt;0.077643&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;1&lt;/th&gt;
&lt;td&gt;Anna&lt;/td&gt;
&lt;td&gt;F&lt;/td&gt;
&lt;td&gt;2604&lt;/td&gt;
&lt;td&gt;1880&lt;/td&gt;
&lt;td&gt;0.028618&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;2&lt;/th&gt;
&lt;td&gt;Emma&lt;/td&gt;
&lt;td&gt;F&lt;/td&gt;
&lt;td&gt;2003&lt;/td&gt;
&lt;td&gt;1880&lt;/td&gt;
&lt;td&gt;0.022013&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;3&lt;/th&gt;
&lt;td&gt;Elizabeth&lt;/td&gt;
&lt;td&gt;F&lt;/td&gt;
&lt;td&gt;1939&lt;/td&gt;
&lt;td&gt;1880&lt;/td&gt;
&lt;td&gt;0.021309&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;4&lt;/th&gt;
&lt;td&gt;Minnie&lt;/td&gt;
&lt;td&gt;F&lt;/td&gt;
&lt;td&gt;1746&lt;/td&gt;
&lt;td&gt;1880&lt;/td&gt;
&lt;td&gt;0.019188&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[9]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# 检查所有分组的 prop 之和是否近似=1&lt;/span&gt;
&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;allclose&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;names&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;groupby&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="s1"&gt;'year'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;'sex'&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;prop&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sum&lt;/span&gt;&lt;span class="p"&gt;(),&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[9]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;True&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h4 id="4.-数据筛选"&gt;4. 数据筛选&lt;a class="anchor-link" href="#4.-数据筛选"&gt;&amp;para;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;取 Top1000的名字&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[11]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;get_top1000&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;group&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;group&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sort_values&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;by&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'births'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;ascending&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;False&lt;/span&gt;&lt;span class="p"&gt;)[:&lt;/span&gt;&lt;span class="mi"&gt;1000&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;grouped&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;names&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;groupby&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="s1"&gt;'year'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'sex'&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="n"&gt;top1000&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;grouped&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;apply&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;get_top1000&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;top1000&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;head&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[11]:&lt;/div&gt;
&lt;div class="output_html rendered_html output_subarea output_execute_result"&gt;
&lt;div&gt;
&lt;table border="1" class="dataframe"&gt;
&lt;thead&gt;
&lt;tr style="text-align: right;"&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;name&lt;/th&gt;
&lt;th&gt;sex&lt;/th&gt;
&lt;th&gt;births&lt;/th&gt;
&lt;th&gt;year&lt;/th&gt;
&lt;th&gt;prop&lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;year&lt;/th&gt;
&lt;th&gt;sex&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;th rowspan="5" valign="top"&gt;1880&lt;/th&gt;
&lt;th rowspan="5" valign="top"&gt;F&lt;/th&gt;
&lt;th&gt;0&lt;/th&gt;
&lt;td&gt;Mary&lt;/td&gt;
&lt;td&gt;F&lt;/td&gt;
&lt;td&gt;7065&lt;/td&gt;
&lt;td&gt;1880&lt;/td&gt;
&lt;td&gt;0.077643&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;1&lt;/th&gt;
&lt;td&gt;Anna&lt;/td&gt;
&lt;td&gt;F&lt;/td&gt;
&lt;td&gt;2604&lt;/td&gt;
&lt;td&gt;1880&lt;/td&gt;
&lt;td&gt;0.028618&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;2&lt;/th&gt;
&lt;td&gt;Emma&lt;/td&gt;
&lt;td&gt;F&lt;/td&gt;
&lt;td&gt;2003&lt;/td&gt;
&lt;td&gt;1880&lt;/td&gt;
&lt;td&gt;0.022013&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;3&lt;/th&gt;
&lt;td&gt;Elizabeth&lt;/td&gt;
&lt;td&gt;F&lt;/td&gt;
&lt;td&gt;1939&lt;/td&gt;
&lt;td&gt;1880&lt;/td&gt;
&lt;td&gt;0.021309&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;4&lt;/th&gt;
&lt;td&gt;Minnie&lt;/td&gt;
&lt;td&gt;F&lt;/td&gt;
&lt;td&gt;1746&lt;/td&gt;
&lt;td&gt;1880&lt;/td&gt;
&lt;td&gt;0.019188&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h4 id="5.-结果展示"&gt;5. 结果展示&lt;a class="anchor-link" href="#5.-结果展示"&gt;&amp;para;&lt;/a&gt;&lt;/h4&gt;&lt;h5 id="5.1-分析命名趋势"&gt;5.1 分析命名趋势&lt;a class="anchor-link" href="#5.1-分析命名趋势"&gt;&amp;para;&lt;/a&gt;&lt;/h5&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[13]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;boys&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;top1000&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;top1000&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sex&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s1"&gt;'M'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;girls&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;top1000&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;top1000&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sex&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s1"&gt;'F'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;

&lt;span class="c1"&gt;# 按名字聚合，做透视表&lt;/span&gt;
&lt;span class="n"&gt;total_births&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;top1000&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;pivot_table&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'births'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;index&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'year'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;columns&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'name'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                                   &lt;span class="n"&gt;aggfunc&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nb"&gt;sum&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="c1"&gt;# 分析5个名字的趋势&lt;/span&gt;
&lt;span class="n"&gt;subset&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;total_births&lt;/span&gt;&lt;span class="p"&gt;[[&lt;/span&gt;&lt;span class="s1"&gt;'John'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'Harry'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'Mary'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'Marilyn'&lt;/span&gt;&lt;span class="p"&gt;]]&lt;/span&gt;
&lt;span class="n"&gt;subset&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;plot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;subplots&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;True&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;figsize&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;12&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;grid&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;False&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
            &lt;span class="n"&gt;title&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;"Number of births per year"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[13]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;array([&lt;matplotlib.axes._subplots.axessubplot 0x10e239748="" at="" object=""&gt;,
       &lt;matplotlib.axes._subplots.axessubplot 0x110d98d68="" at="" object=""&gt;,
       &lt;matplotlib.axes._subplots.axessubplot 0x11101ab38="" at="" object=""&gt;,
       &lt;matplotlib.axes._subplots.axessubplot 0x10f101860="" at="" object=""&gt;], dtype=object)&lt;/matplotlib.axes._subplots.axessubplot&gt;&lt;/matplotlib.axes._subplots.axessubplot&gt;&lt;/matplotlib.axes._subplots.axessubplot&gt;&lt;/matplotlib.axes._subplots.axessubplot&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;div class="output_png output_subarea "&gt;
&lt;img src="data:image/png;base64,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
IiLSMwvcsOdp59wjffgehcA6YJBzrrGv3kdEJFQ0Yi0iIv2OBW4a8z/As0qqRWSg0ML4IiLSrwTX
D68gUI5yfpjDERHpNZWCiIiIiIiEgEpBRERERERCQIm1iIiIiEgIKLEWEREREQkBJdYiIiIiIiGg
xFpEREREJASUWIuIiIiIhIASaxERERGREFBiLSIiIiISAkqsRURERERCQIm1iIiIiEgIKLEWERER
EQkBJdYiIiIiIiGgxFpEREREJASUWIuIiIiIhIASaxERERGREFBiLSIiIiISAkqsRURERERCQIm1
iIiIiEgIKLEWEREREQkBJdYiIiIiIiGgxFpEREREJASUWIuIiIiIhIASaxERERGREFBiLSIiIiIS
AkqsRURERERCQIm1iIiIiEgIKLEWEREREQkBJdYiIiIiIiGgxFpEREREJASUWIuIiIiIhIASaxER
ERGREFBiLSIiIiISAkqsRURERERCQIm1iIiIiEgIKLEWEREREQkBJdYiIiIiIiGgxFpEREREJASU
WIuIiIiIhIASaxERERGREFBiLSIiIiISAkqsRURERERCQIm1iIiIiEgIKLEWEREREQkBJdYiIiIi
IiGgxFpEREREJASUWIuIiIiIhIASaxERERGREFBiLSIiIiISAkqsRURERERCQIm1iIiIiEgIKLEW
EREREQkBJdYiIiIiIiGgxFpEREREJASUWIuIiIiIhIASaxERERGREFBiLSIiIiISAkqsRURERERC
QIm1iIiIiEgIRIY7gEOVmZnpioqKwh2GiIiIiBzhlixZUu2cy+ppvwGbWBcVFbF48eJwhyEiIiIi
RzgzK+nNfioFEREREREJASXWIiKyB+ccHV5fuMMQERlwlFiLiMgefvraWk795b/ZUd8W7lBERAaU
AVtjLSIiobezoZ2n5pXQ6fPzlb8u5bkvn0BMpCfcYYlIP9DV1UVZWRnt7e3hDqXPxMbGUlBQQFRU
1CH1V2ItIiK7PfzeFnzO8f8+cww/fW0tP3plDfdcPiHcYYlIP1BWVkZSUhJFRUWYWbjDCTnnHDU1
NZSVlTF06NBDOoZKQUREBICa5g6eWVjCJRPzuOmUYXzl9OH8beE2nltUGu7QRKQfaG9vJyMj44hM
qgHMjIyMjE81Iq/EWkREAHjsw2I6vH5uO30EAHecO5oZIzL5fy9/zMqy+jBHJyL9wZGaVO/yac9P
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
"&gt;
&lt;/img&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h5 id="5.2-评估名字的多样性"&gt;5.2 评估名字的多样性&lt;a class="anchor-link" href="#5.2-评估名字的多样性"&gt;&amp;para;&lt;/a&gt;&lt;/h5&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[16]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;#  最流行的1000个名字的占比&lt;/span&gt;
&lt;span class="n"&gt;table&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;top1000&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;pivot_table&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'prop'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;index&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'year'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                            &lt;span class="n"&gt;columns&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'sex'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;aggfunc&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nb"&gt;sum&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;table&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;plot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;title&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'Sum of table1000.prop by year and sex'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
           &lt;span class="n"&gt;yticks&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;linspace&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;1.2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;13&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;xticks&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1880&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2020&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[16]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;&lt;matplotlib.axes._subplots.axessubplot 0x10fd78b38="" at=""&gt;&lt;/matplotlib.axes._subplots.axessubplot&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;div class="output_png output_subarea "&gt;
&lt;img src="data:image/png;base64,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
B/jpqkCcTZJyAAAAAElFTkSuQmCC
"&gt;
&lt;/img&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[18]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# 占总出生人数前50%的不同名字的数量&lt;/span&gt;
&lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;get_quantile_count&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;group&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;q&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;0.5&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="n"&gt;group&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;group&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sort_values&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;by&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'prop'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;ascending&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;False&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;group&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;prop&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;cumsum&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;values&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;searchsorted&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;q&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;  &lt;span class="c1"&gt;#numpy 的 searchsorted，查找 q 放在哪个索引合适&lt;/span&gt;

&lt;span class="n"&gt;diversity&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;top1000&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;groupby&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="s1"&gt;'year'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'sex'&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;apply&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;get_quantile_count&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;   &lt;span class="c1"&gt;# 按 year 分组，每个分组都执行一次&lt;/span&gt;
&lt;span class="n"&gt;diversity&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;diversity&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;unstack&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'sex'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;  
&lt;span class="n"&gt;diversity&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;head&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[18]:&lt;/div&gt;
&lt;div class="output_html rendered_html output_subarea output_execute_result"&gt;
&lt;div&gt;
&lt;table border="1" class="dataframe"&gt;
&lt;thead&gt;
&lt;tr style="text-align: right;"&gt;
&lt;th&gt;sex&lt;/th&gt;
&lt;th&gt;F&lt;/th&gt;
&lt;th&gt;M&lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;year&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;th&gt;1880&lt;/th&gt;
&lt;td&gt;38&lt;/td&gt;
&lt;td&gt;14&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;1881&lt;/th&gt;
&lt;td&gt;38&lt;/td&gt;
&lt;td&gt;14&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;1882&lt;/th&gt;
&lt;td&gt;38&lt;/td&gt;
&lt;td&gt;15&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;1883&lt;/th&gt;
&lt;td&gt;39&lt;/td&gt;
&lt;td&gt;15&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;1884&lt;/th&gt;
&lt;td&gt;39&lt;/td&gt;
&lt;td&gt;16&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[19]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;diversity&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;plot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;title&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;"Number of popular names in top 50%"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[19]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;&lt;matplotlib.axes._subplots.axessubplot 0x10fe39ba8="" at=""&gt;&lt;/matplotlib.axes._subplots.axessubplot&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;div class="output_png output_subarea "&gt;
&lt;img src="data:image/png;base64,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
AAAAAElFTkSuQmCC
"&gt;
&lt;/img&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h5 id="5.3-最后一个字母的变革"&gt;5.3 最后一个字母的变革&lt;a class="anchor-link" href="#5.3-最后一个字母的变革"&gt;&amp;para;&lt;/a&gt;&lt;/h5&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[24]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;#  获取尾字母，并聚合&lt;/span&gt;
&lt;span class="n"&gt;get_last_letter&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;lambda&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;last_letters&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;names&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;map&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;get_last_letter&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;last_letters&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;'last_letter'&lt;/span&gt;

&lt;span class="n"&gt;table&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;names&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;pivot_table&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'births'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;index&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;last_letters&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                          &lt;span class="n"&gt;columns&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'sex'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'year'&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;aggfunc&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nb"&gt;sum&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="c1"&gt;# 选取有代表性的3个年份&lt;/span&gt;
&lt;span class="n"&gt;subtable&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;table&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;reindex&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;columns&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1910&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1960&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2010&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;level&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'year'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;subtable&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;head&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[24]:&lt;/div&gt;
&lt;div class="output_html rendered_html output_subarea output_execute_result"&gt;
&lt;div&gt;
&lt;table border="1" class="dataframe"&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;sex&lt;/th&gt;
&lt;th colspan="3" halign="left"&gt;F&lt;/th&gt;
&lt;th colspan="3" halign="left"&gt;M&lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;year&lt;/th&gt;
&lt;th&gt;1910&lt;/th&gt;
&lt;th&gt;1960&lt;/th&gt;
&lt;th&gt;2010&lt;/th&gt;
&lt;th&gt;1910&lt;/th&gt;
&lt;th&gt;1960&lt;/th&gt;
&lt;th&gt;2010&lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;last_letter&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;th&gt;a&lt;/th&gt;
&lt;td&gt;108376.0&lt;/td&gt;
&lt;td&gt;691247.0&lt;/td&gt;
&lt;td&gt;670605.0&lt;/td&gt;
&lt;td&gt;977.0&lt;/td&gt;
&lt;td&gt;5204.0&lt;/td&gt;
&lt;td&gt;28438.0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;b&lt;/th&gt;
&lt;td&gt;NaN&lt;/td&gt;
&lt;td&gt;694.0&lt;/td&gt;
&lt;td&gt;450.0&lt;/td&gt;
&lt;td&gt;411.0&lt;/td&gt;
&lt;td&gt;3912.0&lt;/td&gt;
&lt;td&gt;38859.0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;c&lt;/th&gt;
&lt;td&gt;5.0&lt;/td&gt;
&lt;td&gt;49.0&lt;/td&gt;
&lt;td&gt;946.0&lt;/td&gt;
&lt;td&gt;482.0&lt;/td&gt;
&lt;td&gt;15476.0&lt;/td&gt;
&lt;td&gt;23125.0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;d&lt;/th&gt;
&lt;td&gt;6750.0&lt;/td&gt;
&lt;td&gt;3729.0&lt;/td&gt;
&lt;td&gt;2607.0&lt;/td&gt;
&lt;td&gt;22111.0&lt;/td&gt;
&lt;td&gt;262112.0&lt;/td&gt;
&lt;td&gt;44398.0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;e&lt;/th&gt;
&lt;td&gt;133569.0&lt;/td&gt;
&lt;td&gt;435013.0&lt;/td&gt;
&lt;td&gt;313833.0&lt;/td&gt;
&lt;td&gt;28655.0&lt;/td&gt;
&lt;td&gt;178823.0&lt;/td&gt;
&lt;td&gt;129012.0&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[28]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;#  规范化处理，计算比例&lt;/span&gt;
&lt;span class="n"&gt;letter_prop&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;subtable&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt; &lt;span class="n"&gt;subtable&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sum&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;astype&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;float&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="c1"&gt;#  绘图&lt;/span&gt;
&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;subplots_adjust&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;hspace&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;0.25&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;axes&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;subplots&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;figsize&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;8&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="n"&gt;letter_prop&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'M'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;plot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;kind&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'bar'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;rot&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;axes&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;title&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'Male'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;letter_prop&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'F'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;plot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;kind&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'bar'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;rot&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;axes&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;title&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'Female'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                      &lt;span class="n"&gt;legend&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;False&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[28]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;&lt;matplotlib.axes._subplots.axessubplot 0x11649ccf8="" at=""&gt;&lt;/matplotlib.axes._subplots.axessubplot&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;div class="output_text output_subarea "&gt;
&lt;pre&gt;&lt;matplotlib.figure.figure 0x11194f9b0="" at=""&gt;&lt;/matplotlib.figure.figure&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;div class="output_png output_subarea "&gt;
&lt;img src="data:image/png;base64,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
uiRJkhpg0iVJktQAky5JktSXzjrrLA488EBe9apXbau7/fbbOe6445g7dy5vetObeOyxxwDYvHkz
J5xwAvvssw9Lly7dbpy1a9cyd+5cDjnkEM4991yqRmblqp4tjipJkiaumedd09PxNl74xiHbnHnm
mSxdupTFixdvqzv77LP51Kc+xete9zpWrFjBxRdfzAUXXMDkyZO54IILWL9+PevXb7961fve9z4u
u+wy5s+fzymnnMK1117LySef3NPHA850SZKkPnX88cfzkpe8ZLu6++67j+OPPx6AhQsX8vWvfx2A
KVOmsGDBAiZPnrxd+wcffJDHHnuMY489liQsXryYq6++ekTiNemSJEnjxuGHH843v/lNAL72ta+x
adOm520/ODjI9OnTt5WnT5/O4OBz3nhnWEy6JEnSuLFixQouvfRSjjrqKB5//HH22muv0Q5pG8/p
kiRJ48ahhx7K9ddfD7QONV5zzfOfazZt2jQGBga2lQcGBpg2bdqIxOZMlyRJGjceeughoHXz7E9+
8pOcc845z9v+oIMOYr/99uPWW2+lqrjiiitYtGjRiMTmTJckSepLp59+Ot/5znd45JFHmD59Oh//
+Md54oknuOSSSwB461vfynve855t7WfOnMljjz3GU089xdVXX83111/PnDlzuPTSSznzzDN58skn
Ofnkk0fkykUw6ZIkST3QzRIPvfZ3f/d3O63/wAc+sNP6jRs37rR+3rx5z1pGYiR4eFGSJKkBJl2S
JEkNMOmSJElqgEmXJElSA0y6JEmSGtBV0pXkpCT3JtmQ5Lyd7F+U5I4ktyVZk2RBt30lSZImgiGT
riSTgEuAk4E5wOlJ5uzQ7EbgiKp6DXAW8Pld6CtJkrTLzjrrLA488EBe9apXbau7/fbbOe6445g7
dy5vetObeOyxx7btu+OOOzjuuOM4/PDDmTt3Lr/+9a8BWLt2LXPnzuWQQw7h3HPPpapGJN5u1uk6
BthQVQ8AJLkSWATctbVBVT3R0X4KUN32lSRJ48D5L+zxeI8O2eTMM89k6dKlLF68eFvd2Wefzac+
9Sle97rXsWLFCi6++GIuuOACtmzZwrve9S6++MUvcsQRR7B582b23HNPAN73vvdx2WWXMX/+fE45
5RSuvfbaEVkgtZvDi9OAzlt0D7TrtpPkLUnuAa6hNdvVdV9JkqRddfzxx/OSl7xku7r77ruP448/
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
"&gt;
&lt;/img&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[30]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# 进一步分析男孩的 d, n, y 三个字母&lt;/span&gt;
&lt;span class="n"&gt;letter_prop&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;table&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt; &lt;span class="n"&gt;table&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sum&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;astype&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;float&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;dny_ts&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;letter_prop&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ix&lt;/span&gt;&lt;span class="p"&gt;[[&lt;/span&gt;&lt;span class="s1"&gt;'d'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'n'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'y'&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="s1"&gt;'M'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;T&lt;/span&gt;
&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;close&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'all'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;dny_ts&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;plot&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[30]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;&lt;matplotlib.axes._subplots.axessubplot 0x117b93160="" at=""&gt;&lt;/matplotlib.axes._subplots.axessubplot&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;div class="output_png output_subarea "&gt;
&lt;img src="data:image/png;base64,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
AElFTkSuQmCC
"&gt;
&lt;/img&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h5 id="5.4--男孩名变成女孩名"&gt;5.4  男孩名变成女孩名&lt;a class="anchor-link" href="#5.4--男孩名变成女孩名"&gt;&amp;para;&lt;/a&gt;&lt;/h5&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[32]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# 合并重复的名字&lt;/span&gt;
&lt;span class="n"&gt;all_names&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;top1000&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;unique&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;  

&lt;span class="c1"&gt;# 找到 lesl 开头的名字&lt;/span&gt;
&lt;span class="n"&gt;mask&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;array&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="s1"&gt;'lesl'&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;lower&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;all_names&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;  
&lt;span class="n"&gt;lesley_like&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;all_names&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;mask&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;lesley_like&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[32]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;array(['Leslie', 'Lesley', 'Leslee', 'Lesli', 'Lesly'], dtype=object)&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[33]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;filtered&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;top1000&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;top1000&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;isin&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;lesley_like&lt;/span&gt;&lt;span class="p"&gt;)]&lt;/span&gt;
&lt;span class="n"&gt;filtered&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;groupby&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'name'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;births&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sum&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[33]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;name
Leslee      1082
Lesley     35022
Lesli        929
Leslie    370429
Lesly      10067
Name: births, dtype: int64&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[34]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;table&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;filtered&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;pivot_table&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'births'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;index&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'year'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                             &lt;span class="n"&gt;columns&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'sex'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;aggfunc&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'sum'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;table&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;table&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;div&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;table&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sum&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;axis&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;table&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;tail&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[34]:&lt;/div&gt;
&lt;div class="output_html rendered_html output_subarea output_execute_result"&gt;
&lt;div&gt;
&lt;table border="1" class="dataframe"&gt;
&lt;thead&gt;
&lt;tr style="text-align: right;"&gt;
&lt;th&gt;sex&lt;/th&gt;
&lt;th&gt;F&lt;/th&gt;
&lt;th&gt;M&lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;year&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;th&gt;2006&lt;/th&gt;
&lt;td&gt;1.0&lt;/td&gt;
&lt;td&gt;NaN&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;2007&lt;/th&gt;
&lt;td&gt;1.0&lt;/td&gt;
&lt;td&gt;NaN&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;2008&lt;/th&gt;
&lt;td&gt;1.0&lt;/td&gt;
&lt;td&gt;NaN&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;2009&lt;/th&gt;
&lt;td&gt;1.0&lt;/td&gt;
&lt;td&gt;NaN&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;2010&lt;/th&gt;
&lt;td&gt;1.0&lt;/td&gt;
&lt;td&gt;NaN&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[35]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;close&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'all'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;table&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;plot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;style&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="s1"&gt;'M'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;'k-'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s1"&gt;'F'&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s1"&gt;'k--'&lt;/span&gt;&lt;span class="p"&gt;})&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[35]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;&lt;matplotlib.axes._subplots.axessubplot 0x11b311ba8="" at=""&gt;&lt;/matplotlib.axes._subplots.axessubplot&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;div class="output_png output_subarea "&gt;
&lt;img src="data:image/png;base64,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
"&gt;
&lt;/img&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[&amp;nbsp;]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt; 
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;script type="text/javascript"&gt;if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
    var mathjaxscript = document.createElement('script');
    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
    mathjaxscript.type = 'text/javascript';
    mathjaxscript.src = '//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML';
    mathjaxscript[(window.opera ? "innerHTML" : "text")] =
        "MathJax.Hub.Config({" +
        "    config: ['MMLorHTML.js']," +
        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } }," +
        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
        "    displayAlign: 'center'," +
        "    displayIndent: '0em'," +
        "    showMathMenu: true," +
        "    tex2jax: { " +
        "        inlineMath: [ ['$','$'] ], " +
        "        displayMath: [ ['$$','$$'] ]," +
        "        processEscapes: true," +
        "        preview: 'TeX'," +
        "    }, " +
        "    'HTML-CSS': { " +
        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'black ! important'} }" +
        "    } " +
        "}); ";
    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
}
&lt;/script&gt;
</content><category term="读书笔记"></category><category term="python"></category></entry><entry><title>利用Python进行数据分析(3)：IPython</title><link href="http://holbrook.github.io/2017/02/16/python_data_analysis3.html" rel="alternate"></link><published>2017-02-16T00:00:00+08:00</published><updated>2017-02-16T00:00:00+08:00</updated><author><name>Holbrook</name></author><id>tag:holbrook.github.io,2017-02-16:/2017/02/16/python_data_analysis3.html</id><summary type="html">&lt;p&gt;《&lt;a href="https://book.douban.com/subject/25779298/"&gt;利用Python进行数据分析&lt;/a&gt;》读书笔记。
第 3 章：IPython——一种交互式计算和开发环境。
介绍 IPython 及其使用。&lt;/p&gt;</summary><content type="html">&lt;p&gt;《&lt;a href="https://book.douban.com/subject/25779298/"&gt;利用Python进行数据分析&lt;/a&gt;》读书笔记。
第 3 章：IPython&amp;mdash;&amp;mdash;一种交互式计算和开发环境。
介绍 IPython 及其使用。&lt;/p&gt;
&lt;p&gt;IPython 的设计哲学是鼓励一种&amp;ldquo;执行-探索&amp;rdquo;(execute explore)的工作模式，而不是传统编程的&amp;ldquo;编辑-编译-运行&amp;rdquo;(edit-complie-run)模式。
由于大部分的数据分析工作都需要&amp;ldquo;探索式操作&amp;rdquo;(试误法和迭代法)，可以说 IPython 就是为了用 python 进行数据分析而生的。&lt;/p&gt;
&lt;p&gt;可能 IPython 的设计灵感来自 R 等软件，但是在 python 的强大能力下，IPython 系已经形成了一整套的数据分析工具链，
已经有一些数据分析工作者转移到了 python 生态下。&lt;/p&gt;
&lt;h1 id="ipythonji-chu"&gt;IPython基础&lt;/h1&gt;
&lt;p&gt;类似于 python解释器，使用命令 &lt;code&gt;ipython&lt;/code&gt;可以打开一个交互式控制台。如果需要使用 Matplotlib 库，增加参数：&lt;code&gt;ipython --pylab&lt;/code&gt;。&lt;/p&gt;
&lt;p&gt;更吸引人的使用方式是基于 web 的 ipython notebook。
可以使用命令：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;# ipython notebook
jupyter notebook
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;该命令会自动打开浏览器并访问 notebook。&lt;/p&gt;
&lt;p&gt;通常我们需要在页面中直接嵌入显示图片，此时使用命令：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;# ipython notebook --pylab inline
jupyter notebook --pylab inline
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;ipython notebook 还可以远程运行，可以参考资料1&lt;sup id="fnref-1"&gt;&lt;a class="footnote-ref" href="#fn-1"&gt;1&lt;/a&gt;&lt;/sup&gt;。&lt;/p&gt;
&lt;h1 id="shi-yong-ji-qiao"&gt;使用技巧&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;用 Tab 建可以自动补全&lt;/li&gt;
&lt;li&gt;内省：在变量的前面或后面加上&lt;code&gt;?&lt;/code&gt;，可以显示该对象的信息&lt;/li&gt;
&lt;li&gt;用 &lt;code&gt;%run&lt;/code&gt;命令可以执行外部 py 脚本&lt;/li&gt;
&lt;li&gt;用 &lt;code&gt;%paste&lt;/code&gt;可以按 python 缩进粘贴代码&lt;/li&gt;
&lt;li&gt;IPython 提供了一些方便的快捷键，常用的包括：&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Ctrl+F&lt;/code&gt; 光标前移1个字符&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Ctrl+B&lt;/code&gt; 光标后移1个字符&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Ctrl+A&lt;/code&gt; 光标移至行首&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Ctrl+E&lt;/code&gt; 光标移至行尾&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Ctrl+U&lt;/code&gt; 删除此行光标之前的所有内容&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Ctrl+K&lt;/code&gt; 删除此行光标之后的所有内容&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Ctrl+L&lt;/code&gt; 清屏（Mac 下 Cmd+K 也可以）&lt;/li&gt;
&lt;li&gt;IPython 支持调试和跟踪&lt;/li&gt;
&lt;li&gt;&lt;code&gt;%&lt;/code&gt;开头的命令称为&amp;ldquo;魔术命令（Magic Command）&amp;rdquo;，能够实现一些&amp;ldquo;神奇&amp;rdquo;的功能&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id="gui-fang-shi"&gt;GUI 方式&lt;/h1&gt;
&lt;p&gt;使用命令&lt;code&gt;ipython qtconsole --pylab=inline&lt;/code&gt;，可以打开一个类似 R 的GUI 程序。&lt;/p&gt;
&lt;h1 id="yu-cao-zuo-xi-tong-jiao-hu"&gt;与操作系统交互&lt;/h1&gt;
&lt;p&gt;ipython 提供了很多魔术命令，用于与操作系统交互。&lt;/p&gt;
&lt;h1 id="can-kao-zi-liao"&gt;参考资料&lt;/h1&gt;
&lt;div class="footnote"&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id="fn-1"&gt;
&lt;p&gt;&lt;a href="http://mindonmind.github.io/2013/02/08/ipython-notebook-interactive-computing-new-era/"&gt;IPython Notebook: 交互计算新时代&lt;/a&gt;&amp;nbsp;&lt;a class="footnote-backref" href="#fnref-1" title="Jump back to footnote 1 in the text"&gt;↩&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/hr&gt;&lt;/div&gt;</content><category term="读书笔记"></category><category term="python"></category></entry><entry><title>利用Python进行数据分析(2.2)：电影评分数据分析</title><link href="http://holbrook.github.io/2017/02/15/python_data_analysis2-2.html" rel="alternate"></link><published>2017-02-15T00:00:00+08:00</published><updated>2017-02-15T00:00:00+08:00</updated><author><name>Holbrook</name></author><id>tag:holbrook.github.io,2017-02-15:/2017/02/15/python_data_analysis2-2.html</id><summary type="html">
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;《&lt;a href="https://book.douban.com/subject/25779298/"&gt;利用Python进行数据分析&lt;/a&gt;》读书笔记。&lt;/p&gt;
&lt;p&gt;&lt;a href="/2017/02/14/python_data_analysis2.html"&gt;第2章&lt;/a&gt;中的例子：电影评分数据分析。&lt;/p&gt;
&lt;p&gt;所有用到的数据可以从&lt;a href="https://github.com/wesm/pydata-book"&gt;作者的 github&lt;/a&gt;下载。&lt;/p&gt;
&lt;h4 id="0.-准备工作"&gt;0. 准备工作&lt;a class="anchor-link" href="#0.-准备工作"&gt;¶&lt;/a&gt;&lt;/h4&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;</summary><content type="html">&lt;style type="text/css"&gt;/*!
*
* IPython notebook
*
*/
/* CSS font colors for translated ANSI colors. */
.ansibold {
  font-weight: bold;
}
/* use dark versions for foreground, to improve visibility */
.ansiblack {
  color: black;
}
.ansired {
  color: darkred;
}
.ansigreen {
  color: darkgreen;
}
.ansiyellow {
  color: #c4a000;
}
.ansiblue {
  color: darkblue;
}
.ansipurple {
  color: darkviolet;
}
.ansicyan {
  color: steelblue;
}
.ansigray {
  color: gray;
}
/* and light for background, for the same reason */
.ansibgblack {
  background-color: black;
}
.ansibgred {
  background-color: red;
}
.ansibggreen {
  background-color: green;
}
.ansibgyellow {
  background-color: yellow;
}
.ansibgblue {
  background-color: blue;
}
.ansibgpurple {
  background-color: magenta;
}
.ansibgcyan {
  background-color: cyan;
}
.ansibggray {
  background-color: gray;
}
div.cell {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  border-radius: 2px;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
  border-width: 1px;
  border-style: solid;
  border-color: transparent;
  width: 100%;
  padding: 5px;
  /* This acts as a spacer between cells, that is outside the border */
  margin: 0px;
  outline: none;
  border-left-width: 1px;
  padding-left: 5px;
  background: linear-gradient(to right, transparent -40px, transparent 1px, transparent 1px, transparent 100%);
}
div.cell.jupyter-soft-selected {
  border-left-color: #90CAF9;
  border-left-color: #E3F2FD;
  border-left-width: 1px;
  padding-left: 5px;
  border-right-color: #E3F2FD;
  border-right-width: 1px;
  background: #E3F2FD;
}
@media print {
  div.cell.jupyter-soft-selected {
    border-color: transparent;
  }
}
div.cell.selected {
  border-color: #ababab;
  border-left-width: 0px;
  padding-left: 6px;
  background: linear-gradient(to right, #42A5F5 -40px, #42A5F5 5px, transparent 5px, transparent 100%);
}
@media print {
  div.cell.selected {
    border-color: transparent;
  }
}
div.cell.selected.jupyter-soft-selected {
  border-left-width: 0;
  padding-left: 6px;
  background: linear-gradient(to right, #42A5F5 -40px, #42A5F5 7px, #E3F2FD 7px, #E3F2FD 100%);
}
.edit_mode div.cell.selected {
  border-color: #66BB6A;
  border-left-width: 0px;
  padding-left: 6px;
  background: linear-gradient(to right, #66BB6A -40px, #66BB6A 5px, transparent 5px, transparent 100%);
}
@media print {
  .edit_mode div.cell.selected {
    border-color: transparent;
  }
}
.prompt {
  /* This needs to be wide enough for 3 digit prompt numbers: In[100]: */
  min-width: 14ex;
  /* This padding is tuned to match the padding on the CodeMirror editor. */
  padding: 0.4em;
  margin: 0px;
  font-family: monospace;
  text-align: right;
  /* This has to match that of the the CodeMirror class line-height below */
  line-height: 1.21429em;
  /* Don't highlight prompt number selection */
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  -khtml-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  /* Use default cursor */
  cursor: default;
}
@media (max-width: 540px) {
  .prompt {
    text-align: left;
  }
}
div.inner_cell {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  /* Old browsers */
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  box-flex: 1;
  /* Modern browsers */
  flex: 1;
}
@-moz-document url-prefix() {
  div.inner_cell {
    overflow-x: hidden;
  }
}
/* input_area and input_prompt must match in top border and margin for alignment */
div.input_area {
  border: 1px solid #cfcfcf;
  border-radius: 2px;
  background: #f7f7f7;
  line-height: 1.21429em;
}
/* This is needed so that empty prompt areas can collapse to zero height when there
   is no content in the output_subarea and the prompt. The main purpose of this is
   to make sure that empty JavaScript output_subareas have no height. */
div.prompt:empty {
  padding-top: 0;
  padding-bottom: 0;
}
div.unrecognized_cell {
  padding: 5px 5px 5px 0px;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
div.unrecognized_cell .inner_cell {
  border-radius: 2px;
  padding: 5px;
  font-weight: bold;
  color: red;
  border: 1px solid #cfcfcf;
  background: #eaeaea;
}
div.unrecognized_cell .inner_cell a {
  color: inherit;
  text-decoration: none;
}
div.unrecognized_cell .inner_cell a:hover {
  color: inherit;
  text-decoration: none;
}
@media (max-width: 540px) {
  div.unrecognized_cell &gt; div.prompt {
    display: none;
  }
}
div.code_cell {
  /* avoid page breaking on code cells when printing */
}
@media print {
  div.code_cell {
    page-break-inside: avoid;
  }
}
/* any special styling for code cells that are currently running goes here */
div.input {
  page-break-inside: avoid;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.input {
    /* Old browsers */
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-box-align: stretch;
    display: -moz-box;
    -moz-box-orient: vertical;
    -moz-box-align: stretch;
    display: box;
    box-orient: vertical;
    box-align: stretch;
    /* Modern browsers */
    display: flex;
    flex-direction: column;
    align-items: stretch;
  }
}
/* input_area and input_prompt must match in top border and margin for alignment */
div.input_prompt {
  color: #303F9F;
  border-top: 1px solid transparent;
}
div.input_area &gt; div.highlight {
  margin: 0.4em;
  border: none;
  padding: 0px;
  background-color: transparent;
}
div.input_area &gt; div.highlight &gt; pre {
  margin: 0px;
  border: none;
  padding: 0px;
  background-color: transparent;
}
/* The following gets added to the &lt;head&gt; if it is detected that the user has a
 * monospace font with inconsistent normal/bold/italic height.  See
 * notebookmain.js.  Such fonts will have keywords vertically offset with
 * respect to the rest of the text.  The user should select a better font.
 * See: https://github.com/ipython/ipython/issues/1503
 *
 * .CodeMirror span {
 *      vertical-align: bottom;
 * }
 */
.CodeMirror {
  line-height: 1.21429em;
  /* Changed from 1em to our global default */
  font-size: 14px;
  height: auto;
  /* Changed to auto to autogrow */
  background: none;
  /* Changed from white to allow our bg to show through */
}
.CodeMirror-scroll {
  /*  The CodeMirror docs are a bit fuzzy on if overflow-y should be hidden or visible.*/
  /*  We have found that if it is visible, vertical scrollbars appear with font size changes.*/
  overflow-y: hidden;
  overflow-x: auto;
}
.CodeMirror-lines {
  /* In CM2, this used to be 0.4em, but in CM3 it went to 4px. We need the em value because */
  /* we have set a different line-height and want this to scale with that. */
  padding: 0.4em;
}
.CodeMirror-linenumber {
  padding: 0 8px 0 4px;
}
.CodeMirror-gutters {
  border-bottom-left-radius: 2px;
  border-top-left-radius: 2px;
}
.CodeMirror pre {
  /* In CM3 this went to 4px from 0 in CM2. We need the 0 value because of how we size */
  /* .CodeMirror-lines */
  padding: 0;
  border: 0;
  border-radius: 0;
}
/*

Original style from softwaremaniacs.org (c) Ivan Sagalaev &lt;Maniac@SoftwareManiacs.Org&gt;
Adapted from GitHub theme

*/
.highlight-base {
  color: #000;
}
.highlight-variable {
  color: #000;
}
.highlight-variable-2 {
  color: #1a1a1a;
}
.highlight-variable-3 {
  color: #333333;
}
.highlight-string {
  color: #BA2121;
}
.highlight-comment {
  color: #408080;
  font-style: italic;
}
.highlight-number {
  color: #080;
}
.highlight-atom {
  color: #88F;
}
.highlight-keyword {
  color: #008000;
  font-weight: bold;
}
.highlight-builtin {
  color: #008000;
}
.highlight-error {
  color: #f00;
}
.highlight-operator {
  color: #AA22FF;
  font-weight: bold;
}
.highlight-meta {
  color: #AA22FF;
}
/* previously not defined, copying from default codemirror */
.highlight-def {
  color: #00f;
}
.highlight-string-2 {
  color: #f50;
}
.highlight-qualifier {
  color: #555;
}
.highlight-bracket {
  color: #997;
}
.highlight-tag {
  color: #170;
}
.highlight-attribute {
  color: #00c;
}
.highlight-header {
  color: blue;
}
.highlight-quote {
  color: #090;
}
.highlight-link {
  color: #00c;
}
/* apply the same style to codemirror */
.cm-s-ipython span.cm-keyword {
  color: #008000;
  font-weight: bold;
}
.cm-s-ipython span.cm-atom {
  color: #88F;
}
.cm-s-ipython span.cm-number {
  color: #080;
}
.cm-s-ipython span.cm-def {
  color: #00f;
}
.cm-s-ipython span.cm-variable {
  color: #000;
}
.cm-s-ipython span.cm-operator {
  color: #AA22FF;
  font-weight: bold;
}
.cm-s-ipython span.cm-variable-2 {
  color: #1a1a1a;
}
.cm-s-ipython span.cm-variable-3 {
  color: #333333;
}
.cm-s-ipython span.cm-comment {
  color: #408080;
  font-style: italic;
}
.cm-s-ipython span.cm-string {
  color: #BA2121;
}
.cm-s-ipython span.cm-string-2 {
  color: #f50;
}
.cm-s-ipython span.cm-meta {
  color: #AA22FF;
}
.cm-s-ipython span.cm-qualifier {
  color: #555;
}
.cm-s-ipython span.cm-builtin {
  color: #008000;
}
.cm-s-ipython span.cm-bracket {
  color: #997;
}
.cm-s-ipython span.cm-tag {
  color: #170;
}
.cm-s-ipython span.cm-attribute {
  color: #00c;
}
.cm-s-ipython span.cm-header {
  color: blue;
}
.cm-s-ipython span.cm-quote {
  color: #090;
}
.cm-s-ipython span.cm-link {
  color: #00c;
}
.cm-s-ipython span.cm-error {
  color: #f00;
}
.cm-s-ipython span.cm-tab {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAMCAYAAAAkuj5RAAAAAXNSR0IArs4c6QAAAGFJREFUSMft1LsRQFAQheHPowAKoACx3IgEKtaEHujDjORSgWTH/ZOdnZOcM/sgk/kFFWY0qV8foQwS4MKBCS3qR6ixBJvElOobYAtivseIE120FaowJPN75GMu8j/LfMwNjh4HUpwg4LUAAAAASUVORK5CYII=);
  background-position: right;
  background-repeat: no-repeat;
}
div.output_wrapper {
  /* this position must be relative to enable descendents to be absolute within it */
  position: relative;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  z-index: 1;
}
/* class for the output area when it should be height-limited */
div.output_scroll {
  /* ideally, this would be max-height, but FF barfs all over that */
  height: 24em;
  /* FF needs this *and the wrapper* to specify full width, or it will shrinkwrap */
  width: 100%;
  overflow: auto;
  border-radius: 2px;
  -webkit-box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.8);
  box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.8);
  display: block;
}
/* output div while it is collapsed */
div.output_collapsed {
  margin: 0px;
  padding: 0px;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
div.out_prompt_overlay {
  height: 100%;
  padding: 0px 0.4em;
  position: absolute;
  border-radius: 2px;
}
div.out_prompt_overlay:hover {
  /* use inner shadow to get border that is computed the same on WebKit/FF */
  -webkit-box-shadow: inset 0 0 1px #000;
  box-shadow: inset 0 0 1px #000;
  background: rgba(240, 240, 240, 0.5);
}
div.output_prompt {
  color: #D84315;
}
/* This class is the outer container of all output sections. */
div.output_area {
  padding: 0px;
  page-break-inside: avoid;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
div.output_area .MathJax_Display {
  text-align: left !important;
}
div.output_area 
div.output_area 
div.output_area img,
div.output_area svg {
  max-width: 100%;
  height: auto;
}
div.output_area img.unconfined,
div.output_area svg.unconfined {
  max-width: none;
}
/* This is needed to protect the pre formating from global settings such
   as that of bootstrap */
.output {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.output_area {
    /* Old browsers */
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-box-align: stretch;
    display: -moz-box;
    -moz-box-orient: vertical;
    -moz-box-align: stretch;
    display: box;
    box-orient: vertical;
    box-align: stretch;
    /* Modern browsers */
    display: flex;
    flex-direction: column;
    align-items: stretch;
  }
}
div.output_area pre {
  margin: 0;
  padding: 0;
  border: 0;
  vertical-align: baseline;
  color: black;
  background-color: transparent;
  border-radius: 0;
}
/* This class is for the output subarea inside the output_area and after
   the prompt div. */
div.output_subarea {
  overflow-x: auto;
  padding: 0.4em;
  /* Old browsers */
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  box-flex: 1;
  /* Modern browsers */
  flex: 1;
  max-width: calc(100% - 14ex);
}
div.output_scroll div.output_subarea {
  overflow-x: visible;
}
/* The rest of the output_* classes are for special styling of the different
   output types */
/* all text output has this class: */
div.output_text {
  text-align: left;
  color: #000;
  /* This has to match that of the the CodeMirror class line-height below */
  line-height: 1.21429em;
}
/* stdout/stderr are 'text' as well as 'stream', but execute_result/error are *not* streams */
div.output_stderr {
  background: #fdd;
  /* very light red background for stderr */
}
div.output_latex {
  text-align: left;
}
/* Empty output_javascript divs should have no height */
div.output_javascript:empty {
  padding: 0;
}
.js-error {
  color: darkred;
}
/* raw_input styles */
div.raw_input_container {
  line-height: 1.21429em;
  padding-top: 5px;
}
pre.raw_input_prompt {
  /* nothing needed here. */
}
input.raw_input {
  font-family: monospace;
  font-size: inherit;
  color: inherit;
  width: auto;
  /* make sure input baseline aligns with prompt */
  vertical-align: baseline;
  /* padding + margin = 0.5em between prompt and cursor */
  padding: 0em 0.25em;
  margin: 0em 0.25em;
}
input.raw_input:focus {
  box-shadow: none;
}
p.p-space {
  margin-bottom: 10px;
}
div.output_unrecognized {
  padding: 5px;
  font-weight: bold;
  color: red;
}
div.output_unrecognized a {
  color: inherit;
  text-decoration: none;
}
div.output_unrecognized a:hover {
  color: inherit;
  text-decoration: none;
}
.rendered_html {
  color: #000;
  /* any extras will just be numbers: */
}



.rendered_html :link {
  text-decoration: underline;
}
.rendered_html :visited {
  text-decoration: underline;
}






.rendered_html h1:first-child {
  margin-top: 0.538em;
}
.rendered_html h2:first-child {
  margin-top: 0.636em;
}
.rendered_html h3:first-child {
  margin-top: 0.777em;
}
.rendered_html h4:first-child {
  margin-top: 1em;
}
.rendered_html h5:first-child {
  margin-top: 1em;
}
.rendered_html h6:first-child {
  margin-top: 1em;
}








.rendered_html * + ul {
  margin-top: 1em;
}
.rendered_html * + ol {
  margin-top: 1em;
}


.rendered_html pre,



.rendered_html tr,
.rendered_html th,

.rendered_html td,


.rendered_html * + table {
  margin-top: 1em;
}

.rendered_html * + p {
  margin-top: 1em;
}

.rendered_html * + img {
  margin-top: 1em;
}
.rendered_html img,

.rendered_html img.unconfined,

div.text_cell {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.text_cell &gt; div.prompt {
    display: none;
  }
}
div.text_cell_render {
  /*font-family: "Helvetica Neue", Arial, Helvetica, Geneva, sans-serif;*/
  outline: none;
  resize: none;
  width: inherit;
  border-style: none;
  padding: 0.5em 0.5em 0.5em 0.4em;
  color: #000;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
}
a.anchor-link:link {
  text-decoration: none;
  padding: 0px 20px;
  visibility: hidden;
}
h1:hover .anchor-link,
h2:hover .anchor-link,
h3:hover .anchor-link,
h4:hover .anchor-link,
h5:hover .anchor-link,
h6:hover .anchor-link {
  visibility: visible;
}
.text_cell.rendered .input_area {
  display: none;
}
.text_cell.rendered 
.text_cell.unrendered .text_cell_render {
  display: none;
}
.cm-header-1,
.cm-header-2,
.cm-header-3,
.cm-header-4,
.cm-header-5,
.cm-header-6 {
  font-weight: bold;
  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
}
.cm-header-1 {
  font-size: 185.7%;
}
.cm-header-2 {
  font-size: 157.1%;
}
.cm-header-3 {
  font-size: 128.6%;
}
.cm-header-4 {
  font-size: 110%;
}
.cm-header-5 {
  font-size: 100%;
  font-style: italic;
}
.cm-header-6 {
  font-size: 100%;
  font-style: italic;
}
&lt;/style&gt;
&lt;style type="text/css"&gt;.highlight .hll { background-color: #ffffcc }
.highlight  { background: #f8f8f8; }
.highlight .c { color: #408080; font-style: italic } /* Comment */
.highlight .err { border: 1px solid #FF0000 } /* Error */
.highlight .k { color: #008000; font-weight: bold } /* Keyword */
.highlight .o { color: #666666 } /* Operator */
.highlight .ch { color: #408080; font-style: italic } /* Comment.Hashbang */
.highlight .cm { color: #408080; font-style: italic } /* Comment.Multiline */
.highlight .cp { color: #BC7A00 } /* Comment.Preproc */
.highlight .cpf { color: #408080; font-style: italic } /* Comment.PreprocFile */
.highlight .c1 { color: #408080; font-style: italic } /* Comment.Single */
.highlight .cs { color: #408080; font-style: italic } /* Comment.Special */
.highlight .gd { color: #A00000 } /* Generic.Deleted */
.highlight .ge { font-style: italic } /* Generic.Emph */
.highlight .gr { color: #FF0000 } /* Generic.Error */
.highlight .gh { color: #000080; font-weight: bold } /* Generic.Heading */
.highlight .gi { color: #00A000 } /* Generic.Inserted */
.highlight .go { color: #888888 } /* Generic.Output */
.highlight .gp { color: #000080; font-weight: bold } /* Generic.Prompt */
.highlight .gs { font-weight: bold } /* Generic.Strong */
.highlight .gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.highlight .gt { color: #0044DD } /* Generic.Traceback */
.highlight .kc { color: #008000; font-weight: bold } /* Keyword.Constant */
.highlight .kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
.highlight .kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
.highlight .kp { color: #008000 } /* Keyword.Pseudo */
.highlight .kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
.highlight .kt { color: #B00040 } /* Keyword.Type */
.highlight .m { color: #666666 } /* Literal.Number */
.highlight .s { color: #BA2121 } /* Literal.String */
.highlight .na { color: #7D9029 } /* Name.Attribute */
.highlight .nb { color: #008000 } /* Name.Builtin */
.highlight .nc { color: #0000FF; font-weight: bold } /* Name.Class */
.highlight .no { color: #880000 } /* Name.Constant */
.highlight .nd { color: #AA22FF } /* Name.Decorator */
.highlight .ni { color: #999999; font-weight: bold } /* Name.Entity */
.highlight .ne { color: #D2413A; font-weight: bold } /* Name.Exception */
.highlight .nf { color: #0000FF } /* Name.Function */
.highlight .nl { color: #A0A000 } /* Name.Label */
.highlight .nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
.highlight .nt { color: #008000; font-weight: bold } /* Name.Tag */
.highlight .nv { color: #19177C } /* Name.Variable */
.highlight .ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
.highlight .w { color: #bbbbbb } /* Text.Whitespace */
.highlight .mb { color: #666666 } /* Literal.Number.Bin */
.highlight .mf { color: #666666 } /* Literal.Number.Float */
.highlight .mh { color: #666666 } /* Literal.Number.Hex */
.highlight .mi { color: #666666 } /* Literal.Number.Integer */
.highlight .mo { color: #666666 } /* Literal.Number.Oct */
.highlight .sb { color: #BA2121 } /* Literal.String.Backtick */
.highlight .sc { color: #BA2121 } /* Literal.String.Char */
.highlight .sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */
.highlight .s2 { color: #BA2121 } /* Literal.String.Double */
.highlight .se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */
.highlight .sh { color: #BA2121 } /* Literal.String.Heredoc */
.highlight .si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */
.highlight .sx { color: #008000 } /* Literal.String.Other */
.highlight .sr { color: #BB6688 } /* Literal.String.Regex */
.highlight .s1 { color: #BA2121 } /* Literal.String.Single */
.highlight .ss { color: #19177C } /* Literal.String.Symbol */
.highlight .bp { color: #008000 } /* Name.Builtin.Pseudo */
.highlight .vc { color: #19177C } /* Name.Variable.Class */
.highlight .vg { color: #19177C } /* Name.Variable.Global */
.highlight .vi { color: #19177C } /* Name.Variable.Instance */
.highlight .il { color: #666666 } /* Literal.Number.Integer.Long */&lt;/style&gt;
&lt;style type="text/css"&gt;
/* Temporary definitions which will become obsolete with Notebook release 5.0 */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-bold { font-weight: bold; }
&lt;/style&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;《&lt;a href="https://book.douban.com/subject/25779298/"&gt;利用Python进行数据分析&lt;/a&gt;》读书笔记。&lt;/p&gt;
&lt;p&gt;&lt;a href="/2017/02/14/python_data_analysis2.html"&gt;第2章&lt;/a&gt;中的例子：电影评分数据分析。&lt;/p&gt;
&lt;p&gt;所有用到的数据可以从&lt;a href="https://github.com/wesm/pydata-book"&gt;作者的 github&lt;/a&gt;下载。&lt;/p&gt;
&lt;h4 id="0.-准备工作"&gt;0. 准备工作&lt;a class="anchor-link" href="#0.-准备工作"&gt;&amp;para;&lt;/a&gt;&lt;/h4&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[52]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="o"&gt;%&lt;/span&gt;&lt;span class="k"&gt;pylab&lt;/span&gt; inline
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;pandas&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;pd&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;div class="output_subarea output_stream output_stdout output_text"&gt;
&lt;pre&gt;Populating the interactive namespace from numpy and matplotlib
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h4 id="1.--将数据加载到-DataFrame"&gt;1.  将数据加载到 DataFrame&lt;a class="anchor-link" href="#1.--将数据加载到-DataFrame"&gt;&amp;para;&lt;/a&gt;&lt;/h4&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[53]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# 定义列名&lt;/span&gt;
&lt;span class="n"&gt;unames&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'user_id'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;'gender'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;'age'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;'occupation'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;'zip'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;rnames&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'user_id'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;'movie_id'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;'rating'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;'timestamp'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;mnames&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'movie_id'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;'title'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;'genres'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;

&lt;span class="c1"&gt;# 读取数据&lt;/span&gt;
&lt;span class="n"&gt;users&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;pd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;read_table&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'data/ch02/movielens/users.dat'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;sep&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'::'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;header&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;None&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;names&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;unames&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;engine&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'python'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ratings&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;pd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;read_table&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'data/ch02/movielens/ratings.dat'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;sep&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'::'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;header&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;None&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;names&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;rnames&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;engine&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'python'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;movies&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;pd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;read_table&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'data/ch02/movielens/movies.dat'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;sep&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'::'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;header&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;None&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;names&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;mnames&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;engine&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'python'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[54]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# 检验数据&lt;/span&gt;
&lt;span class="n"&gt;users&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;head&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;ratings&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;head&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;movies&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;head&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[54]:&lt;/div&gt;
&lt;div class="output_html rendered_html output_subarea output_execute_result"&gt;
&lt;div&gt;
&lt;table border="1" class="dataframe"&gt;
&lt;thead&gt;
&lt;tr style="text-align: right;"&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;movie_id&lt;/th&gt;
&lt;th&gt;title&lt;/th&gt;
&lt;th&gt;genres&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;th&gt;0&lt;/th&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;Toy Story (1995)&lt;/td&gt;
&lt;td&gt;Animation|Children's|Comedy&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;1&lt;/th&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;td&gt;Jumanji (1995)&lt;/td&gt;
&lt;td&gt;Adventure|Children's|Fantasy&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;2&lt;/th&gt;
&lt;td&gt;3&lt;/td&gt;
&lt;td&gt;Grumpier Old Men (1995)&lt;/td&gt;
&lt;td&gt;Comedy|Romance&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;3&lt;/th&gt;
&lt;td&gt;4&lt;/td&gt;
&lt;td&gt;Waiting to Exhale (1995)&lt;/td&gt;
&lt;td&gt;Comedy|Drama&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;4&lt;/th&gt;
&lt;td&gt;5&lt;/td&gt;
&lt;td&gt;Father of the Bride Part II (1995)&lt;/td&gt;
&lt;td&gt;Comedy&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h4 id="2.--合并数据"&gt;2.  合并数据&lt;a class="anchor-link" href="#2.--合并数据"&gt;&amp;para;&lt;/a&gt;&lt;/h4&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[55]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# 先合并 users 到ratings,  再合并movies&lt;/span&gt;
&lt;span class="c1"&gt;# pandas 会根据列名进行连接&lt;/span&gt;

&lt;span class="n"&gt;data&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;pd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;merge&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;pd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;merge&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ratings&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;users&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;&lt;span class="n"&gt;movies&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;head&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[55]:&lt;/div&gt;
&lt;div class="output_html rendered_html output_subarea output_execute_result"&gt;
&lt;div&gt;
&lt;table border="1" class="dataframe"&gt;
&lt;thead&gt;
&lt;tr style="text-align: right;"&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;user_id&lt;/th&gt;
&lt;th&gt;movie_id&lt;/th&gt;
&lt;th&gt;rating&lt;/th&gt;
&lt;th&gt;timestamp&lt;/th&gt;
&lt;th&gt;gender&lt;/th&gt;
&lt;th&gt;age&lt;/th&gt;
&lt;th&gt;occupation&lt;/th&gt;
&lt;th&gt;zip&lt;/th&gt;
&lt;th&gt;title&lt;/th&gt;
&lt;th&gt;genres&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;th&gt;0&lt;/th&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;1193&lt;/td&gt;
&lt;td&gt;5&lt;/td&gt;
&lt;td&gt;978300760&lt;/td&gt;
&lt;td&gt;F&lt;/td&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;10&lt;/td&gt;
&lt;td&gt;48067&lt;/td&gt;
&lt;td&gt;One Flew Over the Cuckoo's Nest (1975)&lt;/td&gt;
&lt;td&gt;Drama&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;1&lt;/th&gt;
&lt;td&gt;2&lt;/td&gt;
&lt;td&gt;1193&lt;/td&gt;
&lt;td&gt;5&lt;/td&gt;
&lt;td&gt;978298413&lt;/td&gt;
&lt;td&gt;M&lt;/td&gt;
&lt;td&gt;56&lt;/td&gt;
&lt;td&gt;16&lt;/td&gt;
&lt;td&gt;70072&lt;/td&gt;
&lt;td&gt;One Flew Over the Cuckoo's Nest (1975)&lt;/td&gt;
&lt;td&gt;Drama&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;2&lt;/th&gt;
&lt;td&gt;12&lt;/td&gt;
&lt;td&gt;1193&lt;/td&gt;
&lt;td&gt;4&lt;/td&gt;
&lt;td&gt;978220179&lt;/td&gt;
&lt;td&gt;M&lt;/td&gt;
&lt;td&gt;25&lt;/td&gt;
&lt;td&gt;12&lt;/td&gt;
&lt;td&gt;32793&lt;/td&gt;
&lt;td&gt;One Flew Over the Cuckoo's Nest (1975)&lt;/td&gt;
&lt;td&gt;Drama&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;3&lt;/th&gt;
&lt;td&gt;15&lt;/td&gt;
&lt;td&gt;1193&lt;/td&gt;
&lt;td&gt;4&lt;/td&gt;
&lt;td&gt;978199279&lt;/td&gt;
&lt;td&gt;M&lt;/td&gt;
&lt;td&gt;25&lt;/td&gt;
&lt;td&gt;7&lt;/td&gt;
&lt;td&gt;22903&lt;/td&gt;
&lt;td&gt;One Flew Over the Cuckoo's Nest (1975)&lt;/td&gt;
&lt;td&gt;Drama&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;4&lt;/th&gt;
&lt;td&gt;17&lt;/td&gt;
&lt;td&gt;1193&lt;/td&gt;
&lt;td&gt;5&lt;/td&gt;
&lt;td&gt;978158471&lt;/td&gt;
&lt;td&gt;M&lt;/td&gt;
&lt;td&gt;50&lt;/td&gt;
&lt;td&gt;1&lt;/td&gt;
&lt;td&gt;95350&lt;/td&gt;
&lt;td&gt;One Flew Over the Cuckoo's Nest (1975)&lt;/td&gt;
&lt;td&gt;Drama&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h4 id="3.数据转换"&gt;3.数据转换&lt;a class="anchor-link" href="#3.数据转换"&gt;&amp;para;&lt;/a&gt;&lt;/h4&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[56]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;#  按性别统计每部电影的得分&lt;/span&gt;
&lt;span class="c1"&gt;# pivot_table, 透视表, 是一个很常用的工具&lt;/span&gt;
&lt;span class="n"&gt;mean_ratings&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;pivot_table&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'rating'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;index&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'title'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;columns&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'gender'&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;aggfunc&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'mean'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="c1"&gt;# 另一种写法&lt;/span&gt;
&lt;span class="c1"&gt;#mean_ratings = pd.pivot_table(data,values=['rating'], index='title',columns=['gender'], aggfunc='mean')&lt;/span&gt;

&lt;span class="n"&gt;mean_ratings&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;head&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[56]:&lt;/div&gt;
&lt;div class="output_html rendered_html output_subarea output_execute_result"&gt;
&lt;div&gt;
&lt;table border="1" class="dataframe"&gt;
&lt;thead&gt;
&lt;tr style="text-align: right;"&gt;
&lt;th&gt;gender&lt;/th&gt;
&lt;th&gt;F&lt;/th&gt;
&lt;th&gt;M&lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;title&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;th&gt;$1,000,000 Duck (1971)&lt;/th&gt;
&lt;td&gt;3.375000&lt;/td&gt;
&lt;td&gt;2.761905&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;'Night Mother (1986)&lt;/th&gt;
&lt;td&gt;3.388889&lt;/td&gt;
&lt;td&gt;3.352941&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;'Til There Was You (1997)&lt;/th&gt;
&lt;td&gt;2.675676&lt;/td&gt;
&lt;td&gt;2.733333&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;'burbs, The (1989)&lt;/th&gt;
&lt;td&gt;2.793478&lt;/td&gt;
&lt;td&gt;2.962085&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;...And Justice for All (1979)&lt;/th&gt;
&lt;td&gt;3.828571&lt;/td&gt;
&lt;td&gt;3.689024&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h4 id="4.-数据筛选"&gt;4. 数据筛选&lt;a class="anchor-link" href="#4.-数据筛选"&gt;&amp;para;&lt;/a&gt;&lt;/h4&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[57]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# 筛选评分数据&amp;gt;250 条的电影&lt;/span&gt;
&lt;span class="n"&gt;ratings_by_title&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;groupby&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'title'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;size&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="c1"&gt;# 按照title对data分组并计数&lt;/span&gt;
&lt;span class="n"&gt;active_titles&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;ratings_by_title&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;index&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;ratings_by_title&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;=&lt;/span&gt; &lt;span class="mi"&gt;251&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;  &lt;span class="c1"&gt;# index返回的下标&lt;/span&gt;
&lt;span class="n"&gt;mean_ratings&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;mean_ratings&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ix&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;active_titles&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;  &lt;span class="c1"&gt;#  进行筛选。注意，这里原表和透视表的排序相同&lt;/span&gt;
&lt;span class="n"&gt;mean_ratings&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;head&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[57]:&lt;/div&gt;
&lt;div class="output_html rendered_html output_subarea output_execute_result"&gt;
&lt;div&gt;
&lt;table border="1" class="dataframe"&gt;
&lt;thead&gt;
&lt;tr style="text-align: right;"&gt;
&lt;th&gt;gender&lt;/th&gt;
&lt;th&gt;F&lt;/th&gt;
&lt;th&gt;M&lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;title&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;th&gt;'burbs, The (1989)&lt;/th&gt;
&lt;td&gt;2.793478&lt;/td&gt;
&lt;td&gt;2.962085&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;10 Things I Hate About You (1999)&lt;/th&gt;
&lt;td&gt;3.646552&lt;/td&gt;
&lt;td&gt;3.311966&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;101 Dalmatians (1961)&lt;/th&gt;
&lt;td&gt;3.791444&lt;/td&gt;
&lt;td&gt;3.500000&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;101 Dalmatians (1996)&lt;/th&gt;
&lt;td&gt;3.240000&lt;/td&gt;
&lt;td&gt;2.911215&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;12 Angry Men (1957)&lt;/th&gt;
&lt;td&gt;4.184397&lt;/td&gt;
&lt;td&gt;4.328421&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h4 id="5.-结果展示"&gt;5. 结果展示&lt;a class="anchor-link" href="#5.-结果展示"&gt;&amp;para;&lt;/a&gt;&lt;/h4&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[58]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;#  女性观众最喜欢的 TOP10 电影&lt;/span&gt;
&lt;span class="n"&gt;top_female_ratings&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;mean_ratings&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sort_values&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;by&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'F'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;ascending&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;False&lt;/span&gt;&lt;span class="p"&gt;)[:&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;span class="n"&gt;top_female_ratings&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[58]:&lt;/div&gt;
&lt;div class="output_html rendered_html output_subarea output_execute_result"&gt;
&lt;div&gt;
&lt;table border="1" class="dataframe"&gt;
&lt;thead&gt;
&lt;tr style="text-align: right;"&gt;
&lt;th&gt;gender&lt;/th&gt;
&lt;th&gt;F&lt;/th&gt;
&lt;th&gt;M&lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;title&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;th&gt;Close Shave, A (1995)&lt;/th&gt;
&lt;td&gt;4.644444&lt;/td&gt;
&lt;td&gt;4.473795&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;Wrong Trousers, The (1993)&lt;/th&gt;
&lt;td&gt;4.588235&lt;/td&gt;
&lt;td&gt;4.478261&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;Sunset Blvd. (a.k.a. Sunset Boulevard) (1950)&lt;/th&gt;
&lt;td&gt;4.572650&lt;/td&gt;
&lt;td&gt;4.464589&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;Wallace &amp;amp; Gromit: The Best of Aardman Animation (1996)&lt;/th&gt;
&lt;td&gt;4.563107&lt;/td&gt;
&lt;td&gt;4.385075&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;Schindler's List (1993)&lt;/th&gt;
&lt;td&gt;4.562602&lt;/td&gt;
&lt;td&gt;4.491415&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;Shawshank Redemption, The (1994)&lt;/th&gt;
&lt;td&gt;4.539075&lt;/td&gt;
&lt;td&gt;4.560625&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;Grand Day Out, A (1992)&lt;/th&gt;
&lt;td&gt;4.537879&lt;/td&gt;
&lt;td&gt;4.293255&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;To Kill a Mockingbird (1962)&lt;/th&gt;
&lt;td&gt;4.536667&lt;/td&gt;
&lt;td&gt;4.372611&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;Creature Comforts (1990)&lt;/th&gt;
&lt;td&gt;4.513889&lt;/td&gt;
&lt;td&gt;4.272277&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;Usual Suspects, The (1995)&lt;/th&gt;
&lt;td&gt;4.513317&lt;/td&gt;
&lt;td&gt;4.518248&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[59]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# 分歧最大的电影&lt;/span&gt;

&lt;span class="n"&gt;mean_ratings&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'diff'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;mean_ratings&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'M'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="n"&gt;mean_ratings&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'F'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;

&lt;span class="c1"&gt;#  分歧最大且女性更喜欢的电影&lt;/span&gt;
&lt;span class="n"&gt;mean_ratings&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sort_values&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;by&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'diff'&lt;/span&gt;&lt;span class="p"&gt;)[:&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[59]:&lt;/div&gt;
&lt;div class="output_html rendered_html output_subarea output_execute_result"&gt;
&lt;div&gt;
&lt;table border="1" class="dataframe"&gt;
&lt;thead&gt;
&lt;tr style="text-align: right;"&gt;
&lt;th&gt;gender&lt;/th&gt;
&lt;th&gt;F&lt;/th&gt;
&lt;th&gt;M&lt;/th&gt;
&lt;th&gt;diff&lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;title&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;th&gt;Dirty Dancing (1987)&lt;/th&gt;
&lt;td&gt;3.790378&lt;/td&gt;
&lt;td&gt;2.959596&lt;/td&gt;
&lt;td&gt;-0.830782&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;Jumpin' Jack Flash (1986)&lt;/th&gt;
&lt;td&gt;3.254717&lt;/td&gt;
&lt;td&gt;2.578358&lt;/td&gt;
&lt;td&gt;-0.676359&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;Grease (1978)&lt;/th&gt;
&lt;td&gt;3.975265&lt;/td&gt;
&lt;td&gt;3.367041&lt;/td&gt;
&lt;td&gt;-0.608224&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;Little Women (1994)&lt;/th&gt;
&lt;td&gt;3.870588&lt;/td&gt;
&lt;td&gt;3.321739&lt;/td&gt;
&lt;td&gt;-0.548849&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;Steel Magnolias (1989)&lt;/th&gt;
&lt;td&gt;3.901734&lt;/td&gt;
&lt;td&gt;3.365957&lt;/td&gt;
&lt;td&gt;-0.535777&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;Anastasia (1997)&lt;/th&gt;
&lt;td&gt;3.800000&lt;/td&gt;
&lt;td&gt;3.281609&lt;/td&gt;
&lt;td&gt;-0.518391&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;Rocky Horror Picture Show, The (1975)&lt;/th&gt;
&lt;td&gt;3.673016&lt;/td&gt;
&lt;td&gt;3.160131&lt;/td&gt;
&lt;td&gt;-0.512885&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;Color Purple, The (1985)&lt;/th&gt;
&lt;td&gt;4.158192&lt;/td&gt;
&lt;td&gt;3.659341&lt;/td&gt;
&lt;td&gt;-0.498851&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;Age of Innocence, The (1993)&lt;/th&gt;
&lt;td&gt;3.827068&lt;/td&gt;
&lt;td&gt;3.339506&lt;/td&gt;
&lt;td&gt;-0.487561&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;Free Willy (1993)&lt;/th&gt;
&lt;td&gt;2.921348&lt;/td&gt;
&lt;td&gt;2.438776&lt;/td&gt;
&lt;td&gt;-0.482573&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[60]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;#  分歧最大且男性更喜欢的电影&lt;/span&gt;
&lt;span class="n"&gt;mean_ratings&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sort_values&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;by&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'diff'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;ascending&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;False&lt;/span&gt;&lt;span class="p"&gt;)[:&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[60]:&lt;/div&gt;
&lt;div class="output_html rendered_html output_subarea output_execute_result"&gt;
&lt;div&gt;
&lt;table border="1" class="dataframe"&gt;
&lt;thead&gt;
&lt;tr style="text-align: right;"&gt;
&lt;th&gt;gender&lt;/th&gt;
&lt;th&gt;F&lt;/th&gt;
&lt;th&gt;M&lt;/th&gt;
&lt;th&gt;diff&lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;title&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;th&gt;Good, The Bad and The Ugly, The (1966)&lt;/th&gt;
&lt;td&gt;3.494949&lt;/td&gt;
&lt;td&gt;4.221300&lt;/td&gt;
&lt;td&gt;0.726351&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;Kentucky Fried Movie, The (1977)&lt;/th&gt;
&lt;td&gt;2.878788&lt;/td&gt;
&lt;td&gt;3.555147&lt;/td&gt;
&lt;td&gt;0.676359&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;Dumb &amp;amp; Dumber (1994)&lt;/th&gt;
&lt;td&gt;2.697987&lt;/td&gt;
&lt;td&gt;3.336595&lt;/td&gt;
&lt;td&gt;0.638608&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;Longest Day, The (1962)&lt;/th&gt;
&lt;td&gt;3.411765&lt;/td&gt;
&lt;td&gt;4.031447&lt;/td&gt;
&lt;td&gt;0.619682&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;Cable Guy, The (1996)&lt;/th&gt;
&lt;td&gt;2.250000&lt;/td&gt;
&lt;td&gt;2.863787&lt;/td&gt;
&lt;td&gt;0.613787&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;Evil Dead II (Dead By Dawn) (1987)&lt;/th&gt;
&lt;td&gt;3.297297&lt;/td&gt;
&lt;td&gt;3.909283&lt;/td&gt;
&lt;td&gt;0.611985&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;Hidden, The (1987)&lt;/th&gt;
&lt;td&gt;3.137931&lt;/td&gt;
&lt;td&gt;3.745098&lt;/td&gt;
&lt;td&gt;0.607167&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;Rocky III (1982)&lt;/th&gt;
&lt;td&gt;2.361702&lt;/td&gt;
&lt;td&gt;2.943503&lt;/td&gt;
&lt;td&gt;0.581801&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;Caddyshack (1980)&lt;/th&gt;
&lt;td&gt;3.396135&lt;/td&gt;
&lt;td&gt;3.969737&lt;/td&gt;
&lt;td&gt;0.573602&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;For a Few Dollars More (1965)&lt;/th&gt;
&lt;td&gt;3.409091&lt;/td&gt;
&lt;td&gt;3.953795&lt;/td&gt;
&lt;td&gt;0.544704&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[61]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;#  分歧最大的电影&lt;/span&gt;

&lt;span class="n"&gt;rating_std_by_title&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;data&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;groupby&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'title'&lt;/span&gt;&lt;span class="p"&gt;)[&lt;/span&gt;&lt;span class="s1"&gt;'rating'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;std&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;rating_std_by_title&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sort_values&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ascending&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kc"&gt;False&lt;/span&gt;&lt;span class="p"&gt;)[:&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[61]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;title
Foreign Student (1994)                                             2.828427
Criminal Lovers (Les Amants Criminels) (1999)                      2.309401
Identification of a Woman (Identificazione di una donna) (1982)    2.121320
Sunset Park (1996)                                                 2.121320
Eaten Alive (1976)                                                 2.121320
Neon Bible, The (1995)                                             2.121320
Talk of Angels (1998)                                              2.121320
Tokyo Fist (1995)                                                  2.121320
Paralyzing Fear: The Story of Polio in America, A (1998)           2.121320
Better Living (1998)                                               2.121320
Name: rating, dtype: float64&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;script type="text/javascript"&gt;if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
    var mathjaxscript = document.createElement('script');
    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
    mathjaxscript.type = 'text/javascript';
    mathjaxscript.src = '//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML';
    mathjaxscript[(window.opera ? "innerHTML" : "text")] =
        "MathJax.Hub.Config({" +
        "    config: ['MMLorHTML.js']," +
        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } }," +
        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
        "    displayAlign: 'center'," +
        "    displayIndent: '0em'," +
        "    showMathMenu: true," +
        "    tex2jax: { " +
        "        inlineMath: [ ['$','$'] ], " +
        "        displayMath: [ ['$$','$$'] ]," +
        "        processEscapes: true," +
        "        preview: 'TeX'," +
        "    }, " +
        "    'HTML-CSS': { " +
        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'black ! important'} }" +
        "    } " +
        "}); ";
    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
}
&lt;/script&gt;
</content><category term="读书笔记"></category><category term="python"></category></entry><entry><title>利用Python进行数据分析(1)：简单介绍</title><link href="http://holbrook.github.io/2017/02/14/python_data_analysis1.html" rel="alternate"></link><published>2017-02-14T00:00:00+08:00</published><updated>2017-02-14T00:00:00+08:00</updated><author><name>Holbrook</name></author><id>tag:holbrook.github.io,2017-02-14:/2017/02/14/python_data_analysis1.html</id><summary type="html">
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;《&lt;a href="https://book.douban.com/subject/25779298/"&gt;利用Python进行数据分析&lt;/a&gt;》
作者: Wes McKinney
译者: 唐学韬&lt;/p&gt;
&lt;h3 id="补充说明"&gt;补充说明&lt;a class="anchor-link" href="#补充说明"&gt;¶&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;大部分问题在&lt;a href="http://holbrook.github.io/2017/02/11/dataology_python_env.html"&gt;这里&lt;/a&gt; 都有介绍。
两点补充：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;p&gt;书中推荐 &lt;a href="http://code.enthought.com/"&gt;Enthought公司&lt;/a&gt;的 
&lt;a href="https://www.enthought.com/products/canopy/"&gt;Canopy&lt;/a&gt;,
但我更喜欢非商业的 &lt;a href="https://www.continuum.io"&gt;Anaconda&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;我已经把博客从 Jekyll  切换到了 &lt;a href="https://github.com/getpelican/pelican"&gt;Pelican&lt;/a&gt;，
一切都回到了纯 python , 这个世界果然清净了许多。
更重要的是， 通过 Pelican 的插件 &lt;a href="https://github.com/getpelican/pelican-plugins"&gt;pelican-ipynb&lt;/a&gt; 可以在 bolg 中直接发布 ipython/jupyter notebook。
本文就是用 jupyter notebook 直接编辑并通过 Pelican 发布的。&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id="绘制直线的例子"&gt;绘制直线的例子&lt;a class="anchor-link" href="#绘制直线的例子"&gt;¶&lt;/a&gt;&lt;/h3&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;</summary><content type="html">&lt;style type="text/css"&gt;/*!
*
* IPython notebook
*
*/
/* CSS font colors for translated ANSI colors. */
.ansibold {
  font-weight: bold;
}
/* use dark versions for foreground, to improve visibility */
.ansiblack {
  color: black;
}
.ansired {
  color: darkred;
}
.ansigreen {
  color: darkgreen;
}
.ansiyellow {
  color: #c4a000;
}
.ansiblue {
  color: darkblue;
}
.ansipurple {
  color: darkviolet;
}
.ansicyan {
  color: steelblue;
}
.ansigray {
  color: gray;
}
/* and light for background, for the same reason */
.ansibgblack {
  background-color: black;
}
.ansibgred {
  background-color: red;
}
.ansibggreen {
  background-color: green;
}
.ansibgyellow {
  background-color: yellow;
}
.ansibgblue {
  background-color: blue;
}
.ansibgpurple {
  background-color: magenta;
}
.ansibgcyan {
  background-color: cyan;
}
.ansibggray {
  background-color: gray;
}
div.cell {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  border-radius: 2px;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
  border-width: 1px;
  border-style: solid;
  border-color: transparent;
  width: 100%;
  padding: 5px;
  /* This acts as a spacer between cells, that is outside the border */
  margin: 0px;
  outline: none;
  border-left-width: 1px;
  padding-left: 5px;
  background: linear-gradient(to right, transparent -40px, transparent 1px, transparent 1px, transparent 100%);
}
div.cell.jupyter-soft-selected {
  border-left-color: #90CAF9;
  border-left-color: #E3F2FD;
  border-left-width: 1px;
  padding-left: 5px;
  border-right-color: #E3F2FD;
  border-right-width: 1px;
  background: #E3F2FD;
}
@media print {
  div.cell.jupyter-soft-selected {
    border-color: transparent;
  }
}
div.cell.selected {
  border-color: #ababab;
  border-left-width: 0px;
  padding-left: 6px;
  background: linear-gradient(to right, #42A5F5 -40px, #42A5F5 5px, transparent 5px, transparent 100%);
}
@media print {
  div.cell.selected {
    border-color: transparent;
  }
}
div.cell.selected.jupyter-soft-selected {
  border-left-width: 0;
  padding-left: 6px;
  background: linear-gradient(to right, #42A5F5 -40px, #42A5F5 7px, #E3F2FD 7px, #E3F2FD 100%);
}
.edit_mode div.cell.selected {
  border-color: #66BB6A;
  border-left-width: 0px;
  padding-left: 6px;
  background: linear-gradient(to right, #66BB6A -40px, #66BB6A 5px, transparent 5px, transparent 100%);
}
@media print {
  .edit_mode div.cell.selected {
    border-color: transparent;
  }
}
.prompt {
  /* This needs to be wide enough for 3 digit prompt numbers: In[100]: */
  min-width: 14ex;
  /* This padding is tuned to match the padding on the CodeMirror editor. */
  padding: 0.4em;
  margin: 0px;
  font-family: monospace;
  text-align: right;
  /* This has to match that of the the CodeMirror class line-height below */
  line-height: 1.21429em;
  /* Don't highlight prompt number selection */
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  -khtml-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  /* Use default cursor */
  cursor: default;
}
@media (max-width: 540px) {
  .prompt {
    text-align: left;
  }
}
div.inner_cell {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  /* Old browsers */
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  box-flex: 1;
  /* Modern browsers */
  flex: 1;
}
@-moz-document url-prefix() {
  div.inner_cell {
    overflow-x: hidden;
  }
}
/* input_area and input_prompt must match in top border and margin for alignment */
div.input_area {
  border: 1px solid #cfcfcf;
  border-radius: 2px;
  background: #f7f7f7;
  line-height: 1.21429em;
}
/* This is needed so that empty prompt areas can collapse to zero height when there
   is no content in the output_subarea and the prompt. The main purpose of this is
   to make sure that empty JavaScript output_subareas have no height. */
div.prompt:empty {
  padding-top: 0;
  padding-bottom: 0;
}
div.unrecognized_cell {
  padding: 5px 5px 5px 0px;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
div.unrecognized_cell .inner_cell {
  border-radius: 2px;
  padding: 5px;
  font-weight: bold;
  color: red;
  border: 1px solid #cfcfcf;
  background: #eaeaea;
}
div.unrecognized_cell .inner_cell a {
  color: inherit;
  text-decoration: none;
}
div.unrecognized_cell .inner_cell a:hover {
  color: inherit;
  text-decoration: none;
}
@media (max-width: 540px) {
  div.unrecognized_cell &gt; div.prompt {
    display: none;
  }
}
div.code_cell {
  /* avoid page breaking on code cells when printing */
}
@media print {
  div.code_cell {
    page-break-inside: avoid;
  }
}
/* any special styling for code cells that are currently running goes here */
div.input {
  page-break-inside: avoid;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.input {
    /* Old browsers */
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-box-align: stretch;
    display: -moz-box;
    -moz-box-orient: vertical;
    -moz-box-align: stretch;
    display: box;
    box-orient: vertical;
    box-align: stretch;
    /* Modern browsers */
    display: flex;
    flex-direction: column;
    align-items: stretch;
  }
}
/* input_area and input_prompt must match in top border and margin for alignment */
div.input_prompt {
  color: #303F9F;
  border-top: 1px solid transparent;
}
div.input_area &gt; div.highlight {
  margin: 0.4em;
  border: none;
  padding: 0px;
  background-color: transparent;
}
div.input_area &gt; div.highlight &gt; pre {
  margin: 0px;
  border: none;
  padding: 0px;
  background-color: transparent;
}
/* The following gets added to the &lt;head&gt; if it is detected that the user has a
 * monospace font with inconsistent normal/bold/italic height.  See
 * notebookmain.js.  Such fonts will have keywords vertically offset with
 * respect to the rest of the text.  The user should select a better font.
 * See: https://github.com/ipython/ipython/issues/1503
 *
 * .CodeMirror span {
 *      vertical-align: bottom;
 * }
 */
.CodeMirror {
  line-height: 1.21429em;
  /* Changed from 1em to our global default */
  font-size: 14px;
  height: auto;
  /* Changed to auto to autogrow */
  background: none;
  /* Changed from white to allow our bg to show through */
}
.CodeMirror-scroll {
  /*  The CodeMirror docs are a bit fuzzy on if overflow-y should be hidden or visible.*/
  /*  We have found that if it is visible, vertical scrollbars appear with font size changes.*/
  overflow-y: hidden;
  overflow-x: auto;
}
.CodeMirror-lines {
  /* In CM2, this used to be 0.4em, but in CM3 it went to 4px. We need the em value because */
  /* we have set a different line-height and want this to scale with that. */
  padding: 0.4em;
}
.CodeMirror-linenumber {
  padding: 0 8px 0 4px;
}
.CodeMirror-gutters {
  border-bottom-left-radius: 2px;
  border-top-left-radius: 2px;
}
.CodeMirror pre {
  /* In CM3 this went to 4px from 0 in CM2. We need the 0 value because of how we size */
  /* .CodeMirror-lines */
  padding: 0;
  border: 0;
  border-radius: 0;
}
/*

Original style from softwaremaniacs.org (c) Ivan Sagalaev &lt;Maniac@SoftwareManiacs.Org&gt;
Adapted from GitHub theme

*/
.highlight-base {
  color: #000;
}
.highlight-variable {
  color: #000;
}
.highlight-variable-2 {
  color: #1a1a1a;
}
.highlight-variable-3 {
  color: #333333;
}
.highlight-string {
  color: #BA2121;
}
.highlight-comment {
  color: #408080;
  font-style: italic;
}
.highlight-number {
  color: #080;
}
.highlight-atom {
  color: #88F;
}
.highlight-keyword {
  color: #008000;
  font-weight: bold;
}
.highlight-builtin {
  color: #008000;
}
.highlight-error {
  color: #f00;
}
.highlight-operator {
  color: #AA22FF;
  font-weight: bold;
}
.highlight-meta {
  color: #AA22FF;
}
/* previously not defined, copying from default codemirror */
.highlight-def {
  color: #00f;
}
.highlight-string-2 {
  color: #f50;
}
.highlight-qualifier {
  color: #555;
}
.highlight-bracket {
  color: #997;
}
.highlight-tag {
  color: #170;
}
.highlight-attribute {
  color: #00c;
}
.highlight-header {
  color: blue;
}
.highlight-quote {
  color: #090;
}
.highlight-link {
  color: #00c;
}
/* apply the same style to codemirror */
.cm-s-ipython span.cm-keyword {
  color: #008000;
  font-weight: bold;
}
.cm-s-ipython span.cm-atom {
  color: #88F;
}
.cm-s-ipython span.cm-number {
  color: #080;
}
.cm-s-ipython span.cm-def {
  color: #00f;
}
.cm-s-ipython span.cm-variable {
  color: #000;
}
.cm-s-ipython span.cm-operator {
  color: #AA22FF;
  font-weight: bold;
}
.cm-s-ipython span.cm-variable-2 {
  color: #1a1a1a;
}
.cm-s-ipython span.cm-variable-3 {
  color: #333333;
}
.cm-s-ipython span.cm-comment {
  color: #408080;
  font-style: italic;
}
.cm-s-ipython span.cm-string {
  color: #BA2121;
}
.cm-s-ipython span.cm-string-2 {
  color: #f50;
}
.cm-s-ipython span.cm-meta {
  color: #AA22FF;
}
.cm-s-ipython span.cm-qualifier {
  color: #555;
}
.cm-s-ipython span.cm-builtin {
  color: #008000;
}
.cm-s-ipython span.cm-bracket {
  color: #997;
}
.cm-s-ipython span.cm-tag {
  color: #170;
}
.cm-s-ipython span.cm-attribute {
  color: #00c;
}
.cm-s-ipython span.cm-header {
  color: blue;
}
.cm-s-ipython span.cm-quote {
  color: #090;
}
.cm-s-ipython span.cm-link {
  color: #00c;
}
.cm-s-ipython span.cm-error {
  color: #f00;
}
.cm-s-ipython span.cm-tab {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAMCAYAAAAkuj5RAAAAAXNSR0IArs4c6QAAAGFJREFUSMft1LsRQFAQheHPowAKoACx3IgEKtaEHujDjORSgWTH/ZOdnZOcM/sgk/kFFWY0qV8foQwS4MKBCS3qR6ixBJvElOobYAtivseIE120FaowJPN75GMu8j/LfMwNjh4HUpwg4LUAAAAASUVORK5CYII=);
  background-position: right;
  background-repeat: no-repeat;
}
div.output_wrapper {
  /* this position must be relative to enable descendents to be absolute within it */
  position: relative;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  z-index: 1;
}
/* class for the output area when it should be height-limited */
div.output_scroll {
  /* ideally, this would be max-height, but FF barfs all over that */
  height: 24em;
  /* FF needs this *and the wrapper* to specify full width, or it will shrinkwrap */
  width: 100%;
  overflow: auto;
  border-radius: 2px;
  -webkit-box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.8);
  box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.8);
  display: block;
}
/* output div while it is collapsed */
div.output_collapsed {
  margin: 0px;
  padding: 0px;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
div.out_prompt_overlay {
  height: 100%;
  padding: 0px 0.4em;
  position: absolute;
  border-radius: 2px;
}
div.out_prompt_overlay:hover {
  /* use inner shadow to get border that is computed the same on WebKit/FF */
  -webkit-box-shadow: inset 0 0 1px #000;
  box-shadow: inset 0 0 1px #000;
  background: rgba(240, 240, 240, 0.5);
}
div.output_prompt {
  color: #D84315;
}
/* This class is the outer container of all output sections. */
div.output_area {
  padding: 0px;
  page-break-inside: avoid;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
div.output_area .MathJax_Display {
  text-align: left !important;
}
div.output_area 
div.output_area 
div.output_area img,
div.output_area svg {
  max-width: 100%;
  height: auto;
}
div.output_area img.unconfined,
div.output_area svg.unconfined {
  max-width: none;
}
/* This is needed to protect the pre formating from global settings such
   as that of bootstrap */
.output {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.output_area {
    /* Old browsers */
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-box-align: stretch;
    display: -moz-box;
    -moz-box-orient: vertical;
    -moz-box-align: stretch;
    display: box;
    box-orient: vertical;
    box-align: stretch;
    /* Modern browsers */
    display: flex;
    flex-direction: column;
    align-items: stretch;
  }
}
div.output_area pre {
  margin: 0;
  padding: 0;
  border: 0;
  vertical-align: baseline;
  color: black;
  background-color: transparent;
  border-radius: 0;
}
/* This class is for the output subarea inside the output_area and after
   the prompt div. */
div.output_subarea {
  overflow-x: auto;
  padding: 0.4em;
  /* Old browsers */
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  box-flex: 1;
  /* Modern browsers */
  flex: 1;
  max-width: calc(100% - 14ex);
}
div.output_scroll div.output_subarea {
  overflow-x: visible;
}
/* The rest of the output_* classes are for special styling of the different
   output types */
/* all text output has this class: */
div.output_text {
  text-align: left;
  color: #000;
  /* This has to match that of the the CodeMirror class line-height below */
  line-height: 1.21429em;
}
/* stdout/stderr are 'text' as well as 'stream', but execute_result/error are *not* streams */
div.output_stderr {
  background: #fdd;
  /* very light red background for stderr */
}
div.output_latex {
  text-align: left;
}
/* Empty output_javascript divs should have no height */
div.output_javascript:empty {
  padding: 0;
}
.js-error {
  color: darkred;
}
/* raw_input styles */
div.raw_input_container {
  line-height: 1.21429em;
  padding-top: 5px;
}
pre.raw_input_prompt {
  /* nothing needed here. */
}
input.raw_input {
  font-family: monospace;
  font-size: inherit;
  color: inherit;
  width: auto;
  /* make sure input baseline aligns with prompt */
  vertical-align: baseline;
  /* padding + margin = 0.5em between prompt and cursor */
  padding: 0em 0.25em;
  margin: 0em 0.25em;
}
input.raw_input:focus {
  box-shadow: none;
}
p.p-space {
  margin-bottom: 10px;
}
div.output_unrecognized {
  padding: 5px;
  font-weight: bold;
  color: red;
}
div.output_unrecognized a {
  color: inherit;
  text-decoration: none;
}
div.output_unrecognized a:hover {
  color: inherit;
  text-decoration: none;
}
.rendered_html {
  color: #000;
  /* any extras will just be numbers: */
}



.rendered_html :link {
  text-decoration: underline;
}
.rendered_html :visited {
  text-decoration: underline;
}






.rendered_html h1:first-child {
  margin-top: 0.538em;
}
.rendered_html h2:first-child {
  margin-top: 0.636em;
}
.rendered_html h3:first-child {
  margin-top: 0.777em;
}
.rendered_html h4:first-child {
  margin-top: 1em;
}
.rendered_html h5:first-child {
  margin-top: 1em;
}
.rendered_html h6:first-child {
  margin-top: 1em;
}








.rendered_html * + ul {
  margin-top: 1em;
}
.rendered_html * + ol {
  margin-top: 1em;
}


.rendered_html pre,



.rendered_html tr,
.rendered_html th,

.rendered_html td,


.rendered_html * + table {
  margin-top: 1em;
}

.rendered_html * + p {
  margin-top: 1em;
}

.rendered_html * + img {
  margin-top: 1em;
}
.rendered_html img,

.rendered_html img.unconfined,

div.text_cell {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.text_cell &gt; div.prompt {
    display: none;
  }
}
div.text_cell_render {
  /*font-family: "Helvetica Neue", Arial, Helvetica, Geneva, sans-serif;*/
  outline: none;
  resize: none;
  width: inherit;
  border-style: none;
  padding: 0.5em 0.5em 0.5em 0.4em;
  color: #000;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
}
a.anchor-link:link {
  text-decoration: none;
  padding: 0px 20px;
  visibility: hidden;
}
h1:hover .anchor-link,
h2:hover .anchor-link,
h3:hover .anchor-link,
h4:hover .anchor-link,
h5:hover .anchor-link,
h6:hover .anchor-link {
  visibility: visible;
}
.text_cell.rendered .input_area {
  display: none;
}
.text_cell.rendered 
.text_cell.unrendered .text_cell_render {
  display: none;
}
.cm-header-1,
.cm-header-2,
.cm-header-3,
.cm-header-4,
.cm-header-5,
.cm-header-6 {
  font-weight: bold;
  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
}
.cm-header-1 {
  font-size: 185.7%;
}
.cm-header-2 {
  font-size: 157.1%;
}
.cm-header-3 {
  font-size: 128.6%;
}
.cm-header-4 {
  font-size: 110%;
}
.cm-header-5 {
  font-size: 100%;
  font-style: italic;
}
.cm-header-6 {
  font-size: 100%;
  font-style: italic;
}
&lt;/style&gt;
&lt;style type="text/css"&gt;.highlight .hll { background-color: #ffffcc }
.highlight  { background: #f8f8f8; }
.highlight .c { color: #408080; font-style: italic } /* Comment */
.highlight .err { border: 1px solid #FF0000 } /* Error */
.highlight .k { color: #008000; font-weight: bold } /* Keyword */
.highlight .o { color: #666666 } /* Operator */
.highlight .ch { color: #408080; font-style: italic } /* Comment.Hashbang */
.highlight .cm { color: #408080; font-style: italic } /* Comment.Multiline */
.highlight .cp { color: #BC7A00 } /* Comment.Preproc */
.highlight .cpf { color: #408080; font-style: italic } /* Comment.PreprocFile */
.highlight .c1 { color: #408080; font-style: italic } /* Comment.Single */
.highlight .cs { color: #408080; font-style: italic } /* Comment.Special */
.highlight .gd { color: #A00000 } /* Generic.Deleted */
.highlight .ge { font-style: italic } /* Generic.Emph */
.highlight .gr { color: #FF0000 } /* Generic.Error */
.highlight .gh { color: #000080; font-weight: bold } /* Generic.Heading */
.highlight .gi { color: #00A000 } /* Generic.Inserted */
.highlight .go { color: #888888 } /* Generic.Output */
.highlight .gp { color: #000080; font-weight: bold } /* Generic.Prompt */
.highlight .gs { font-weight: bold } /* Generic.Strong */
.highlight .gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.highlight .gt { color: #0044DD } /* Generic.Traceback */
.highlight .kc { color: #008000; font-weight: bold } /* Keyword.Constant */
.highlight .kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
.highlight .kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
.highlight .kp { color: #008000 } /* Keyword.Pseudo */
.highlight .kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
.highlight .kt { color: #B00040 } /* Keyword.Type */
.highlight .m { color: #666666 } /* Literal.Number */
.highlight .s { color: #BA2121 } /* Literal.String */
.highlight .na { color: #7D9029 } /* Name.Attribute */
.highlight .nb { color: #008000 } /* Name.Builtin */
.highlight .nc { color: #0000FF; font-weight: bold } /* Name.Class */
.highlight .no { color: #880000 } /* Name.Constant */
.highlight .nd { color: #AA22FF } /* Name.Decorator */
.highlight .ni { color: #999999; font-weight: bold } /* Name.Entity */
.highlight .ne { color: #D2413A; font-weight: bold } /* Name.Exception */
.highlight .nf { color: #0000FF } /* Name.Function */
.highlight .nl { color: #A0A000 } /* Name.Label */
.highlight .nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
.highlight .nt { color: #008000; font-weight: bold } /* Name.Tag */
.highlight .nv { color: #19177C } /* Name.Variable */
.highlight .ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
.highlight .w { color: #bbbbbb } /* Text.Whitespace */
.highlight .mb { color: #666666 } /* Literal.Number.Bin */
.highlight .mf { color: #666666 } /* Literal.Number.Float */
.highlight .mh { color: #666666 } /* Literal.Number.Hex */
.highlight .mi { color: #666666 } /* Literal.Number.Integer */
.highlight .mo { color: #666666 } /* Literal.Number.Oct */
.highlight .sb { color: #BA2121 } /* Literal.String.Backtick */
.highlight .sc { color: #BA2121 } /* Literal.String.Char */
.highlight .sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */
.highlight .s2 { color: #BA2121 } /* Literal.String.Double */
.highlight .se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */
.highlight .sh { color: #BA2121 } /* Literal.String.Heredoc */
.highlight .si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */
.highlight .sx { color: #008000 } /* Literal.String.Other */
.highlight .sr { color: #BB6688 } /* Literal.String.Regex */
.highlight .s1 { color: #BA2121 } /* Literal.String.Single */
.highlight .ss { color: #19177C } /* Literal.String.Symbol */
.highlight .bp { color: #008000 } /* Name.Builtin.Pseudo */
.highlight .vc { color: #19177C } /* Name.Variable.Class */
.highlight .vg { color: #19177C } /* Name.Variable.Global */
.highlight .vi { color: #19177C } /* Name.Variable.Instance */
.highlight .il { color: #666666 } /* Literal.Number.Integer.Long */&lt;/style&gt;
&lt;style type="text/css"&gt;
/* Temporary definitions which will become obsolete with Notebook release 5.0 */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-bold { font-weight: bold; }
&lt;/style&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;《&lt;a href="https://book.douban.com/subject/25779298/"&gt;利用Python进行数据分析&lt;/a&gt;》
作者: Wes McKinney
译者: 唐学韬&lt;/p&gt;
&lt;h3 id="补充说明"&gt;补充说明&lt;a class="anchor-link" href="#补充说明"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;&lt;p&gt;大部分问题在&lt;a href="http://holbrook.github.io/2017/02/11/dataology_python_env.html"&gt;这里&lt;/a&gt; 都有介绍。
两点补充：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;p&gt;书中推荐 &lt;a href="http://code.enthought.com/"&gt;Enthought公司&lt;/a&gt;的 
&lt;a href="https://www.enthought.com/products/canopy/"&gt;Canopy&lt;/a&gt;,
但我更喜欢非商业的 &lt;a href="https://www.continuum.io"&gt;Anaconda&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;我已经把博客从 Jekyll  切换到了 &lt;a href="https://github.com/getpelican/pelican"&gt;Pelican&lt;/a&gt;，
一切都回到了纯 python , 这个世界果然清净了许多。
更重要的是， 通过 Pelican 的插件 &lt;a href="https://github.com/getpelican/pelican-plugins"&gt;pelican-ipynb&lt;/a&gt; 可以在 bolg 中直接发布 ipython/jupyter notebook。
本文就是用 jupyter notebook 直接编辑并通过 Pelican 发布的。&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id="绘制直线的例子"&gt;绘制直线的例子&lt;a class="anchor-link" href="#绘制直线的例子"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[13]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="o"&gt;%&lt;/span&gt;&lt;span class="k"&gt;pylab&lt;/span&gt; inline

&lt;span class="c1"&gt;# import pandas as pd&lt;/span&gt;
&lt;span class="c1"&gt;# import numpy as np&lt;/span&gt;
&lt;span class="c1"&gt;# import matplotlib.pyplot as plt&lt;/span&gt;

&lt;span class="n"&gt;plot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;arange&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;100&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;div class="output_subarea output_stream output_stdout output_text"&gt;
&lt;pre&gt;Populating the interactive namespace from numpy and matplotlib
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[13]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;[&lt;matplotlib.lines.line2d 0x11bf08828="" at=""&gt;]&lt;/matplotlib.lines.line2d&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;div class="output_png output_subarea "&gt;
&lt;img src="data:image/png;base64,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
"&gt;
&lt;/img&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;script type="text/javascript"&gt;if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
    var mathjaxscript = document.createElement('script');
    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
    mathjaxscript.type = 'text/javascript';
    mathjaxscript.src = '//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML';
    mathjaxscript[(window.opera ? "innerHTML" : "text")] =
        "MathJax.Hub.Config({" +
        "    config: ['MMLorHTML.js']," +
        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } }," +
        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
        "    displayAlign: 'center'," +
        "    displayIndent: '0em'," +
        "    showMathMenu: true," +
        "    tex2jax: { " +
        "        inlineMath: [ ['$','$'] ], " +
        "        displayMath: [ ['$$','$$'] ]," +
        "        processEscapes: true," +
        "        preview: 'TeX'," +
        "    }, " +
        "    'HTML-CSS': { " +
        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'black ! important'} }" +
        "    } " +
        "}); ";
    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
}
&lt;/script&gt;
</content><category term="读书笔记"></category><category term="python"></category><category term="env"></category></entry><entry><title>利用Python进行数据分析(2)：引言</title><link href="http://holbrook.github.io/2017/02/14/python_data_analysis2.html" rel="alternate"></link><published>2017-02-14T00:00:00+08:00</published><updated>2017-02-14T00:00:00+08:00</updated><author><name>Holbrook</name></author><id>tag:holbrook.github.io,2017-02-14:/2017/02/14/python_data_analysis2.html</id><summary type="html">&lt;p&gt;《&lt;a href="https://book.douban.com/subject/25779298/"&gt;利用Python进行数据分析&lt;/a&gt;》读书笔记。
第 2 章：引言
介绍数据分析的一般步骤，并用三个实例说明如何用 python 进行数据分析。&lt;/p&gt;</summary><content type="html">&lt;p&gt;《&lt;a href="https://book.douban.com/subject/25779298/"&gt;利用Python进行数据分析&lt;/a&gt;》读书笔记。
第 2 章：引言
介绍数据分析的一般步骤，并用三个实例说明如何用 python 进行数据分析。&lt;/p&gt;
&lt;p&gt;所有用到的数据可以从&lt;a href="https://github.com/wesm/pydata-book"&gt;作者的 github&lt;/a&gt;下载。&lt;/p&gt;
&lt;h1 id="shu-ju-fen-xi-de-yi-ban-bu-zou"&gt;数据分析的一般步骤&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;数据加载&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;从各种格式的数据文件和数据库加载数据&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;数据准备&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;对数据进行清理、修整、整合、规范化、重塑、切片切块、变形等处理，以便于进行分析&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;数据转换&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;对数据集进行数学和统计运算，产生新的数据集。比如，根据分组变量对一个大表进行聚合&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;建模和计算&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;通过统计模型、机器学习算法和其他计算工具，对数据进行分析计算&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;结果展示&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;通过静态或交互式的方式，展示结果&lt;/p&gt;
&lt;h1 id="yong-python-jin-xing-shu-ju-fen-xi-de-li-zi"&gt;用 python 进行数据分析的例子&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="/2017/02/14/python_data_analysis2-1.html"&gt;分析网站的用户访问数据&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="/2017/02/15/python_data_analysis2-2.html"&gt;电影评分数据分析&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="/2017/02/16/python_data_analysis2-3.html"&gt;全美婴儿姓名分析&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;</content><category term="读书笔记"></category><category term="python"></category></entry><entry><title>利用Python进行数据分析(2.1)：分析网站的用户访问数据</title><link href="http://holbrook.github.io/2017/02/14/python_data_analysis2-1.html" rel="alternate"></link><published>2017-02-14T00:00:00+08:00</published><updated>2017-02-14T00:00:00+08:00</updated><author><name>Holbrook</name></author><id>tag:holbrook.github.io,2017-02-14:/2017/02/14/python_data_analysis2-1.html</id><summary type="html">
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;《&lt;a href="https://book.douban.com/subject/25779298/"&gt;利用Python进行数据分析&lt;/a&gt;》读书笔记。&lt;/p&gt;
&lt;p&gt;&lt;a href="/2017/02/14/python_data_analysis2.html"&gt;第2章&lt;/a&gt;中的例子：分析网站的用户访问数据&lt;/p&gt;
&lt;p&gt;所有用到的数据可以从&lt;a href="https://github.com/wesm/pydata-book"&gt;作者的 github&lt;/a&gt;下载。&lt;/p&gt;
&lt;h4 id="0.-准备工作"&gt;0. 准备工作&lt;a class="anchor-link" href="#0.-准备工作"&gt;¶&lt;/a&gt;&lt;/h4&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;</summary><content type="html">&lt;style type="text/css"&gt;/*!
*
* IPython notebook
*
*/
/* CSS font colors for translated ANSI colors. */
.ansibold {
  font-weight: bold;
}
/* use dark versions for foreground, to improve visibility */
.ansiblack {
  color: black;
}
.ansired {
  color: darkred;
}
.ansigreen {
  color: darkgreen;
}
.ansiyellow {
  color: #c4a000;
}
.ansiblue {
  color: darkblue;
}
.ansipurple {
  color: darkviolet;
}
.ansicyan {
  color: steelblue;
}
.ansigray {
  color: gray;
}
/* and light for background, for the same reason */
.ansibgblack {
  background-color: black;
}
.ansibgred {
  background-color: red;
}
.ansibggreen {
  background-color: green;
}
.ansibgyellow {
  background-color: yellow;
}
.ansibgblue {
  background-color: blue;
}
.ansibgpurple {
  background-color: magenta;
}
.ansibgcyan {
  background-color: cyan;
}
.ansibggray {
  background-color: gray;
}
div.cell {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  border-radius: 2px;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
  border-width: 1px;
  border-style: solid;
  border-color: transparent;
  width: 100%;
  padding: 5px;
  /* This acts as a spacer between cells, that is outside the border */
  margin: 0px;
  outline: none;
  border-left-width: 1px;
  padding-left: 5px;
  background: linear-gradient(to right, transparent -40px, transparent 1px, transparent 1px, transparent 100%);
}
div.cell.jupyter-soft-selected {
  border-left-color: #90CAF9;
  border-left-color: #E3F2FD;
  border-left-width: 1px;
  padding-left: 5px;
  border-right-color: #E3F2FD;
  border-right-width: 1px;
  background: #E3F2FD;
}
@media print {
  div.cell.jupyter-soft-selected {
    border-color: transparent;
  }
}
div.cell.selected {
  border-color: #ababab;
  border-left-width: 0px;
  padding-left: 6px;
  background: linear-gradient(to right, #42A5F5 -40px, #42A5F5 5px, transparent 5px, transparent 100%);
}
@media print {
  div.cell.selected {
    border-color: transparent;
  }
}
div.cell.selected.jupyter-soft-selected {
  border-left-width: 0;
  padding-left: 6px;
  background: linear-gradient(to right, #42A5F5 -40px, #42A5F5 7px, #E3F2FD 7px, #E3F2FD 100%);
}
.edit_mode div.cell.selected {
  border-color: #66BB6A;
  border-left-width: 0px;
  padding-left: 6px;
  background: linear-gradient(to right, #66BB6A -40px, #66BB6A 5px, transparent 5px, transparent 100%);
}
@media print {
  .edit_mode div.cell.selected {
    border-color: transparent;
  }
}
.prompt {
  /* This needs to be wide enough for 3 digit prompt numbers: In[100]: */
  min-width: 14ex;
  /* This padding is tuned to match the padding on the CodeMirror editor. */
  padding: 0.4em;
  margin: 0px;
  font-family: monospace;
  text-align: right;
  /* This has to match that of the the CodeMirror class line-height below */
  line-height: 1.21429em;
  /* Don't highlight prompt number selection */
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  -khtml-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  /* Use default cursor */
  cursor: default;
}
@media (max-width: 540px) {
  .prompt {
    text-align: left;
  }
}
div.inner_cell {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  /* Old browsers */
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  box-flex: 1;
  /* Modern browsers */
  flex: 1;
}
@-moz-document url-prefix() {
  div.inner_cell {
    overflow-x: hidden;
  }
}
/* input_area and input_prompt must match in top border and margin for alignment */
div.input_area {
  border: 1px solid #cfcfcf;
  border-radius: 2px;
  background: #f7f7f7;
  line-height: 1.21429em;
}
/* This is needed so that empty prompt areas can collapse to zero height when there
   is no content in the output_subarea and the prompt. The main purpose of this is
   to make sure that empty JavaScript output_subareas have no height. */
div.prompt:empty {
  padding-top: 0;
  padding-bottom: 0;
}
div.unrecognized_cell {
  padding: 5px 5px 5px 0px;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
div.unrecognized_cell .inner_cell {
  border-radius: 2px;
  padding: 5px;
  font-weight: bold;
  color: red;
  border: 1px solid #cfcfcf;
  background: #eaeaea;
}
div.unrecognized_cell .inner_cell a {
  color: inherit;
  text-decoration: none;
}
div.unrecognized_cell .inner_cell a:hover {
  color: inherit;
  text-decoration: none;
}
@media (max-width: 540px) {
  div.unrecognized_cell &gt; div.prompt {
    display: none;
  }
}
div.code_cell {
  /* avoid page breaking on code cells when printing */
}
@media print {
  div.code_cell {
    page-break-inside: avoid;
  }
}
/* any special styling for code cells that are currently running goes here */
div.input {
  page-break-inside: avoid;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.input {
    /* Old browsers */
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-box-align: stretch;
    display: -moz-box;
    -moz-box-orient: vertical;
    -moz-box-align: stretch;
    display: box;
    box-orient: vertical;
    box-align: stretch;
    /* Modern browsers */
    display: flex;
    flex-direction: column;
    align-items: stretch;
  }
}
/* input_area and input_prompt must match in top border and margin for alignment */
div.input_prompt {
  color: #303F9F;
  border-top: 1px solid transparent;
}
div.input_area &gt; div.highlight {
  margin: 0.4em;
  border: none;
  padding: 0px;
  background-color: transparent;
}
div.input_area &gt; div.highlight &gt; pre {
  margin: 0px;
  border: none;
  padding: 0px;
  background-color: transparent;
}
/* The following gets added to the &lt;head&gt; if it is detected that the user has a
 * monospace font with inconsistent normal/bold/italic height.  See
 * notebookmain.js.  Such fonts will have keywords vertically offset with
 * respect to the rest of the text.  The user should select a better font.
 * See: https://github.com/ipython/ipython/issues/1503
 *
 * .CodeMirror span {
 *      vertical-align: bottom;
 * }
 */
.CodeMirror {
  line-height: 1.21429em;
  /* Changed from 1em to our global default */
  font-size: 14px;
  height: auto;
  /* Changed to auto to autogrow */
  background: none;
  /* Changed from white to allow our bg to show through */
}
.CodeMirror-scroll {
  /*  The CodeMirror docs are a bit fuzzy on if overflow-y should be hidden or visible.*/
  /*  We have found that if it is visible, vertical scrollbars appear with font size changes.*/
  overflow-y: hidden;
  overflow-x: auto;
}
.CodeMirror-lines {
  /* In CM2, this used to be 0.4em, but in CM3 it went to 4px. We need the em value because */
  /* we have set a different line-height and want this to scale with that. */
  padding: 0.4em;
}
.CodeMirror-linenumber {
  padding: 0 8px 0 4px;
}
.CodeMirror-gutters {
  border-bottom-left-radius: 2px;
  border-top-left-radius: 2px;
}
.CodeMirror pre {
  /* In CM3 this went to 4px from 0 in CM2. We need the 0 value because of how we size */
  /* .CodeMirror-lines */
  padding: 0;
  border: 0;
  border-radius: 0;
}
/*

Original style from softwaremaniacs.org (c) Ivan Sagalaev &lt;Maniac@SoftwareManiacs.Org&gt;
Adapted from GitHub theme

*/
.highlight-base {
  color: #000;
}
.highlight-variable {
  color: #000;
}
.highlight-variable-2 {
  color: #1a1a1a;
}
.highlight-variable-3 {
  color: #333333;
}
.highlight-string {
  color: #BA2121;
}
.highlight-comment {
  color: #408080;
  font-style: italic;
}
.highlight-number {
  color: #080;
}
.highlight-atom {
  color: #88F;
}
.highlight-keyword {
  color: #008000;
  font-weight: bold;
}
.highlight-builtin {
  color: #008000;
}
.highlight-error {
  color: #f00;
}
.highlight-operator {
  color: #AA22FF;
  font-weight: bold;
}
.highlight-meta {
  color: #AA22FF;
}
/* previously not defined, copying from default codemirror */
.highlight-def {
  color: #00f;
}
.highlight-string-2 {
  color: #f50;
}
.highlight-qualifier {
  color: #555;
}
.highlight-bracket {
  color: #997;
}
.highlight-tag {
  color: #170;
}
.highlight-attribute {
  color: #00c;
}
.highlight-header {
  color: blue;
}
.highlight-quote {
  color: #090;
}
.highlight-link {
  color: #00c;
}
/* apply the same style to codemirror */
.cm-s-ipython span.cm-keyword {
  color: #008000;
  font-weight: bold;
}
.cm-s-ipython span.cm-atom {
  color: #88F;
}
.cm-s-ipython span.cm-number {
  color: #080;
}
.cm-s-ipython span.cm-def {
  color: #00f;
}
.cm-s-ipython span.cm-variable {
  color: #000;
}
.cm-s-ipython span.cm-operator {
  color: #AA22FF;
  font-weight: bold;
}
.cm-s-ipython span.cm-variable-2 {
  color: #1a1a1a;
}
.cm-s-ipython span.cm-variable-3 {
  color: #333333;
}
.cm-s-ipython span.cm-comment {
  color: #408080;
  font-style: italic;
}
.cm-s-ipython span.cm-string {
  color: #BA2121;
}
.cm-s-ipython span.cm-string-2 {
  color: #f50;
}
.cm-s-ipython span.cm-meta {
  color: #AA22FF;
}
.cm-s-ipython span.cm-qualifier {
  color: #555;
}
.cm-s-ipython span.cm-builtin {
  color: #008000;
}
.cm-s-ipython span.cm-bracket {
  color: #997;
}
.cm-s-ipython span.cm-tag {
  color: #170;
}
.cm-s-ipython span.cm-attribute {
  color: #00c;
}
.cm-s-ipython span.cm-header {
  color: blue;
}
.cm-s-ipython span.cm-quote {
  color: #090;
}
.cm-s-ipython span.cm-link {
  color: #00c;
}
.cm-s-ipython span.cm-error {
  color: #f00;
}
.cm-s-ipython span.cm-tab {
  background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAMCAYAAAAkuj5RAAAAAXNSR0IArs4c6QAAAGFJREFUSMft1LsRQFAQheHPowAKoACx3IgEKtaEHujDjORSgWTH/ZOdnZOcM/sgk/kFFWY0qV8foQwS4MKBCS3qR6ixBJvElOobYAtivseIE120FaowJPN75GMu8j/LfMwNjh4HUpwg4LUAAAAASUVORK5CYII=);
  background-position: right;
  background-repeat: no-repeat;
}
div.output_wrapper {
  /* this position must be relative to enable descendents to be absolute within it */
  position: relative;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
  z-index: 1;
}
/* class for the output area when it should be height-limited */
div.output_scroll {
  /* ideally, this would be max-height, but FF barfs all over that */
  height: 24em;
  /* FF needs this *and the wrapper* to specify full width, or it will shrinkwrap */
  width: 100%;
  overflow: auto;
  border-radius: 2px;
  -webkit-box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.8);
  box-shadow: inset 0 2px 8px rgba(0, 0, 0, 0.8);
  display: block;
}
/* output div while it is collapsed */
div.output_collapsed {
  margin: 0px;
  padding: 0px;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
div.out_prompt_overlay {
  height: 100%;
  padding: 0px 0.4em;
  position: absolute;
  border-radius: 2px;
}
div.out_prompt_overlay:hover {
  /* use inner shadow to get border that is computed the same on WebKit/FF */
  -webkit-box-shadow: inset 0 0 1px #000;
  box-shadow: inset 0 0 1px #000;
  background: rgba(240, 240, 240, 0.5);
}
div.output_prompt {
  color: #D84315;
}
/* This class is the outer container of all output sections. */
div.output_area {
  padding: 0px;
  page-break-inside: avoid;
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
div.output_area .MathJax_Display {
  text-align: left !important;
}
div.output_area 
div.output_area 
div.output_area img,
div.output_area svg {
  max-width: 100%;
  height: auto;
}
div.output_area img.unconfined,
div.output_area svg.unconfined {
  max-width: none;
}
/* This is needed to protect the pre formating from global settings such
   as that of bootstrap */
.output {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: vertical;
  -moz-box-align: stretch;
  display: box;
  box-orient: vertical;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.output_area {
    /* Old browsers */
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-box-align: stretch;
    display: -moz-box;
    -moz-box-orient: vertical;
    -moz-box-align: stretch;
    display: box;
    box-orient: vertical;
    box-align: stretch;
    /* Modern browsers */
    display: flex;
    flex-direction: column;
    align-items: stretch;
  }
}
div.output_area pre {
  margin: 0;
  padding: 0;
  border: 0;
  vertical-align: baseline;
  color: black;
  background-color: transparent;
  border-radius: 0;
}
/* This class is for the output subarea inside the output_area and after
   the prompt div. */
div.output_subarea {
  overflow-x: auto;
  padding: 0.4em;
  /* Old browsers */
  -webkit-box-flex: 1;
  -moz-box-flex: 1;
  box-flex: 1;
  /* Modern browsers */
  flex: 1;
  max-width: calc(100% - 14ex);
}
div.output_scroll div.output_subarea {
  overflow-x: visible;
}
/* The rest of the output_* classes are for special styling of the different
   output types */
/* all text output has this class: */
div.output_text {
  text-align: left;
  color: #000;
  /* This has to match that of the the CodeMirror class line-height below */
  line-height: 1.21429em;
}
/* stdout/stderr are 'text' as well as 'stream', but execute_result/error are *not* streams */
div.output_stderr {
  background: #fdd;
  /* very light red background for stderr */
}
div.output_latex {
  text-align: left;
}
/* Empty output_javascript divs should have no height */
div.output_javascript:empty {
  padding: 0;
}
.js-error {
  color: darkred;
}
/* raw_input styles */
div.raw_input_container {
  line-height: 1.21429em;
  padding-top: 5px;
}
pre.raw_input_prompt {
  /* nothing needed here. */
}
input.raw_input {
  font-family: monospace;
  font-size: inherit;
  color: inherit;
  width: auto;
  /* make sure input baseline aligns with prompt */
  vertical-align: baseline;
  /* padding + margin = 0.5em between prompt and cursor */
  padding: 0em 0.25em;
  margin: 0em 0.25em;
}
input.raw_input:focus {
  box-shadow: none;
}
p.p-space {
  margin-bottom: 10px;
}
div.output_unrecognized {
  padding: 5px;
  font-weight: bold;
  color: red;
}
div.output_unrecognized a {
  color: inherit;
  text-decoration: none;
}
div.output_unrecognized a:hover {
  color: inherit;
  text-decoration: none;
}
.rendered_html {
  color: #000;
  /* any extras will just be numbers: */
}



.rendered_html :link {
  text-decoration: underline;
}
.rendered_html :visited {
  text-decoration: underline;
}






.rendered_html h1:first-child {
  margin-top: 0.538em;
}
.rendered_html h2:first-child {
  margin-top: 0.636em;
}
.rendered_html h3:first-child {
  margin-top: 0.777em;
}
.rendered_html h4:first-child {
  margin-top: 1em;
}
.rendered_html h5:first-child {
  margin-top: 1em;
}
.rendered_html h6:first-child {
  margin-top: 1em;
}








.rendered_html * + ul {
  margin-top: 1em;
}
.rendered_html * + ol {
  margin-top: 1em;
}


.rendered_html pre,



.rendered_html tr,
.rendered_html th,

.rendered_html td,


.rendered_html * + table {
  margin-top: 1em;
}

.rendered_html * + p {
  margin-top: 1em;
}

.rendered_html * + img {
  margin-top: 1em;
}
.rendered_html img,

.rendered_html img.unconfined,

div.text_cell {
  /* Old browsers */
  display: -webkit-box;
  -webkit-box-orient: horizontal;
  -webkit-box-align: stretch;
  display: -moz-box;
  -moz-box-orient: horizontal;
  -moz-box-align: stretch;
  display: box;
  box-orient: horizontal;
  box-align: stretch;
  /* Modern browsers */
  display: flex;
  flex-direction: row;
  align-items: stretch;
}
@media (max-width: 540px) {
  div.text_cell &gt; div.prompt {
    display: none;
  }
}
div.text_cell_render {
  /*font-family: "Helvetica Neue", Arial, Helvetica, Geneva, sans-serif;*/
  outline: none;
  resize: none;
  width: inherit;
  border-style: none;
  padding: 0.5em 0.5em 0.5em 0.4em;
  color: #000;
  box-sizing: border-box;
  -moz-box-sizing: border-box;
  -webkit-box-sizing: border-box;
}
a.anchor-link:link {
  text-decoration: none;
  padding: 0px 20px;
  visibility: hidden;
}
h1:hover .anchor-link,
h2:hover .anchor-link,
h3:hover .anchor-link,
h4:hover .anchor-link,
h5:hover .anchor-link,
h6:hover .anchor-link {
  visibility: visible;
}
.text_cell.rendered .input_area {
  display: none;
}
.text_cell.rendered 
.text_cell.unrendered .text_cell_render {
  display: none;
}
.cm-header-1,
.cm-header-2,
.cm-header-3,
.cm-header-4,
.cm-header-5,
.cm-header-6 {
  font-weight: bold;
  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
}
.cm-header-1 {
  font-size: 185.7%;
}
.cm-header-2 {
  font-size: 157.1%;
}
.cm-header-3 {
  font-size: 128.6%;
}
.cm-header-4 {
  font-size: 110%;
}
.cm-header-5 {
  font-size: 100%;
  font-style: italic;
}
.cm-header-6 {
  font-size: 100%;
  font-style: italic;
}
&lt;/style&gt;
&lt;style type="text/css"&gt;.highlight .hll { background-color: #ffffcc }
.highlight  { background: #f8f8f8; }
.highlight .c { color: #408080; font-style: italic } /* Comment */
.highlight .err { border: 1px solid #FF0000 } /* Error */
.highlight .k { color: #008000; font-weight: bold } /* Keyword */
.highlight .o { color: #666666 } /* Operator */
.highlight .ch { color: #408080; font-style: italic } /* Comment.Hashbang */
.highlight .cm { color: #408080; font-style: italic } /* Comment.Multiline */
.highlight .cp { color: #BC7A00 } /* Comment.Preproc */
.highlight .cpf { color: #408080; font-style: italic } /* Comment.PreprocFile */
.highlight .c1 { color: #408080; font-style: italic } /* Comment.Single */
.highlight .cs { color: #408080; font-style: italic } /* Comment.Special */
.highlight .gd { color: #A00000 } /* Generic.Deleted */
.highlight .ge { font-style: italic } /* Generic.Emph */
.highlight .gr { color: #FF0000 } /* Generic.Error */
.highlight .gh { color: #000080; font-weight: bold } /* Generic.Heading */
.highlight .gi { color: #00A000 } /* Generic.Inserted */
.highlight .go { color: #888888 } /* Generic.Output */
.highlight .gp { color: #000080; font-weight: bold } /* Generic.Prompt */
.highlight .gs { font-weight: bold } /* Generic.Strong */
.highlight .gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.highlight .gt { color: #0044DD } /* Generic.Traceback */
.highlight .kc { color: #008000; font-weight: bold } /* Keyword.Constant */
.highlight .kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
.highlight .kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
.highlight .kp { color: #008000 } /* Keyword.Pseudo */
.highlight .kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
.highlight .kt { color: #B00040 } /* Keyword.Type */
.highlight .m { color: #666666 } /* Literal.Number */
.highlight .s { color: #BA2121 } /* Literal.String */
.highlight .na { color: #7D9029 } /* Name.Attribute */
.highlight .nb { color: #008000 } /* Name.Builtin */
.highlight .nc { color: #0000FF; font-weight: bold } /* Name.Class */
.highlight .no { color: #880000 } /* Name.Constant */
.highlight .nd { color: #AA22FF } /* Name.Decorator */
.highlight .ni { color: #999999; font-weight: bold } /* Name.Entity */
.highlight .ne { color: #D2413A; font-weight: bold } /* Name.Exception */
.highlight .nf { color: #0000FF } /* Name.Function */
.highlight .nl { color: #A0A000 } /* Name.Label */
.highlight .nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
.highlight .nt { color: #008000; font-weight: bold } /* Name.Tag */
.highlight .nv { color: #19177C } /* Name.Variable */
.highlight .ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
.highlight .w { color: #bbbbbb } /* Text.Whitespace */
.highlight .mb { color: #666666 } /* Literal.Number.Bin */
.highlight .mf { color: #666666 } /* Literal.Number.Float */
.highlight .mh { color: #666666 } /* Literal.Number.Hex */
.highlight .mi { color: #666666 } /* Literal.Number.Integer */
.highlight .mo { color: #666666 } /* Literal.Number.Oct */
.highlight .sb { color: #BA2121 } /* Literal.String.Backtick */
.highlight .sc { color: #BA2121 } /* Literal.String.Char */
.highlight .sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */
.highlight .s2 { color: #BA2121 } /* Literal.String.Double */
.highlight .se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */
.highlight .sh { color: #BA2121 } /* Literal.String.Heredoc */
.highlight .si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */
.highlight .sx { color: #008000 } /* Literal.String.Other */
.highlight .sr { color: #BB6688 } /* Literal.String.Regex */
.highlight .s1 { color: #BA2121 } /* Literal.String.Single */
.highlight .ss { color: #19177C } /* Literal.String.Symbol */
.highlight .bp { color: #008000 } /* Name.Builtin.Pseudo */
.highlight .vc { color: #19177C } /* Name.Variable.Class */
.highlight .vg { color: #19177C } /* Name.Variable.Global */
.highlight .vi { color: #19177C } /* Name.Variable.Instance */
.highlight .il { color: #666666 } /* Literal.Number.Integer.Long */&lt;/style&gt;
&lt;style type="text/css"&gt;
/* Temporary definitions which will become obsolete with Notebook release 5.0 */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-bold { font-weight: bold; }
&lt;/style&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;《&lt;a href="https://book.douban.com/subject/25779298/"&gt;利用Python进行数据分析&lt;/a&gt;》读书笔记。&lt;/p&gt;
&lt;p&gt;&lt;a href="/2017/02/14/python_data_analysis2.html"&gt;第2章&lt;/a&gt;中的例子：分析网站的用户访问数据&lt;/p&gt;
&lt;p&gt;所有用到的数据可以从&lt;a href="https://github.com/wesm/pydata-book"&gt;作者的 github&lt;/a&gt;下载。&lt;/p&gt;
&lt;h4 id="0.-准备工作"&gt;0. 准备工作&lt;a class="anchor-link" href="#0.-准备工作"&gt;&amp;para;&lt;/a&gt;&lt;/h4&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[3]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="o"&gt;%&lt;/span&gt;&lt;span class="k"&gt;pylab&lt;/span&gt; inline
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;pandas&lt;/span&gt; &lt;span class="k"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;pd&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;json&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;div class="output_subarea output_stream output_stdout output_text"&gt;
&lt;pre&gt;Populating the interactive namespace from numpy and matplotlib
&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h4 id="1.--将数据加载到-DataFrame"&gt;1.  将数据加载到 DataFrame&lt;a class="anchor-link" href="#1.--将数据加载到-DataFrame"&gt;&amp;para;&lt;/a&gt;&lt;/h4&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[4]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;records&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;json&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;loads&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;line&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;line&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;open&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'data/ch02/usagov_bitly_data2012-03-16-1331923249.txt'&lt;/span&gt;&lt;span class="p"&gt;)]&lt;/span&gt;
&lt;span class="n"&gt;frame&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;pd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;DataFrame&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;records&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;  &lt;span class="c1"&gt;# 从列表创建 DataFrame&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h4 id="2.-数据准备"&gt;2. 数据准备&lt;a class="anchor-link" href="#2.-数据准备"&gt;&amp;para;&lt;/a&gt;&lt;/h4&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[5]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# 规整时区数据&lt;/span&gt;
&lt;span class="n"&gt;frame&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'tz'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;fillna&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'Missing'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;   &lt;span class="c1"&gt;#  填充 缺失值 NA&lt;/span&gt;
&lt;span class="n"&gt;frame&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;frame&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'tz'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;==&lt;/span&gt;&lt;span class="s1"&gt;''&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'Unknown'&lt;/span&gt; &lt;span class="c1"&gt;# 填充空值&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h4 id="3.数据转换"&gt;3.数据转换&lt;a class="anchor-link" href="#3.数据转换"&gt;&amp;para;&lt;/a&gt;&lt;/h4&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[6]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# 按值统计个数&lt;/span&gt;
&lt;span class="n"&gt;tz_counts&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;frame&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'tz'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;value_counts&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;

&lt;span class="c1"&gt;# 从USER_AGENT 数据中获取客户浏览器类型数据&lt;/span&gt;
&lt;span class="n"&gt;results&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;pd&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Series&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;split&lt;/span&gt;&lt;span class="p"&gt;()[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;frame&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;dropna&lt;/span&gt;&lt;span class="p"&gt;()])&lt;/span&gt;

&lt;span class="c1"&gt;# 从USER_AGENT 数据中获取客户操作系统数据&lt;/span&gt;
&lt;span class="n"&gt;cframe&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;frame&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;frame&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;notnull&lt;/span&gt;&lt;span class="p"&gt;()]&lt;/span&gt;
&lt;span class="n"&gt;operating_system&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;where&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;cframe&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s1"&gt;'a'&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;str&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;contains&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'Windows'&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;&lt;span class="s1"&gt;'Windows'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="s1"&gt;'Not Windows'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="c1"&gt;# 将时区按照操作系统分组&lt;/span&gt;
&lt;span class="n"&gt;by_tz_os&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;cframe&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;groupby&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="s1"&gt;'tz'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;operating_system&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;

&lt;span class="c1"&gt;# 按分组计数，然后用 unstack重塑 数据&lt;/span&gt;
&lt;span class="n"&gt;agg_counts&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;by_tz_os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;size&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;unstack&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;fillna&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="c1"&gt;# 以按行加和并排序的数据作为索引&lt;/span&gt;
&lt;span class="n"&gt;indexer&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;agg_counts&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sum&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;argsort&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="c1"&gt;#用  take 函数,  通过索引取出时区最多的值&lt;/span&gt;
&lt;span class="n"&gt;count_subset&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;agg_counts&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;take&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;indexer&lt;/span&gt;&lt;span class="p"&gt;)[&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;:]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h4 id="4.建模和计算"&gt;4.建模和计算&lt;a class="anchor-link" href="#4.建模和计算"&gt;&amp;para;&lt;/a&gt;&lt;/h4&gt;&lt;p&gt;暂无&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h4 id="5.-结果展示"&gt;5. 结果展示&lt;a class="anchor-link" href="#5.-结果展示"&gt;&amp;para;&lt;/a&gt;&lt;/h4&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[7]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# TOP10 时区&lt;/span&gt;
&lt;span class="n"&gt;tz_counts&lt;/span&gt;&lt;span class="p"&gt;[:&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;plot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;kind&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;'barh'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[7]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;&lt;matplotlib.axes._subplots.axessubplot 0x115230a20="" at=""&gt;&lt;/matplotlib.axes._subplots.axessubplot&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;div class="output_png output_subarea "&gt;
&lt;img src="data:image/png;base64,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
"&gt;
&lt;/img&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[8]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# TOP10 时区的操作系统数量（表）&lt;/span&gt;
&lt;span class="n"&gt;count_subset&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[8]:&lt;/div&gt;
&lt;div class="output_html rendered_html output_subarea output_execute_result"&gt;
&lt;div&gt;
&lt;table border="1" class="dataframe"&gt;
&lt;thead&gt;
&lt;tr style="text-align: right;"&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;Not Windows&lt;/th&gt;
&lt;th&gt;Windows&lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;tz&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;th&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;th&gt;America/Sao_Paulo&lt;/th&gt;
&lt;td&gt;13.0&lt;/td&gt;
&lt;td&gt;20.0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;Europe/Madrid&lt;/th&gt;
&lt;td&gt;16.0&lt;/td&gt;
&lt;td&gt;19.0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;Pacific/Honolulu&lt;/th&gt;
&lt;td&gt;0.0&lt;/td&gt;
&lt;td&gt;36.0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;Asia/Tokyo&lt;/th&gt;
&lt;td&gt;2.0&lt;/td&gt;
&lt;td&gt;35.0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;Europe/London&lt;/th&gt;
&lt;td&gt;43.0&lt;/td&gt;
&lt;td&gt;31.0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;America/Denver&lt;/th&gt;
&lt;td&gt;132.0&lt;/td&gt;
&lt;td&gt;59.0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;America/Los_Angeles&lt;/th&gt;
&lt;td&gt;130.0&lt;/td&gt;
&lt;td&gt;252.0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;America/Chicago&lt;/th&gt;
&lt;td&gt;115.0&lt;/td&gt;
&lt;td&gt;285.0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;Unknown&lt;/th&gt;
&lt;td&gt;521.0&lt;/td&gt;
&lt;td&gt;0.0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th&gt;America/New_York&lt;/th&gt;
&lt;td&gt;339.0&lt;/td&gt;
&lt;td&gt;912.0&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[9]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# TOP10 时区的操作系统数量（图）&lt;/span&gt;
&lt;span class="n"&gt;count_subset&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;plot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;kind&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;'barh'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;stacked&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kc"&gt;True&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[9]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;&lt;matplotlib.axes._subplots.axessubplot 0x1175f0f98="" at=""&gt;&lt;/matplotlib.axes._subplots.axessubplot&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;div class="output_png output_subarea "&gt;
&lt;img src="data:image/png;base64,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
AAAAAElFTkSuQmCC
"&gt;
&lt;/img&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;In&amp;nbsp;[10]:&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="input_area"&gt;
&lt;div class=" highlight hl-ipython3"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;# TOP10 时区的操作系统比例（图）&lt;/span&gt;
&lt;span class="n"&gt;normed_subset&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;count_subset&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;div&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;count_subset&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sum&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;&lt;span class="n"&gt;axis&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;normed_subset&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;plot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;kind&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;'barh'&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;stacked&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="kc"&gt;True&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt output_prompt"&gt;Out[10]:&lt;/div&gt;
&lt;div class="output_text output_subarea output_execute_result"&gt;
&lt;pre&gt;&lt;matplotlib.axes._subplots.axessubplot 0x117866898="" at=""&gt;&lt;/matplotlib.axes._subplots.axessubplot&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="output_area"&gt;&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;div class="output_png output_subarea "&gt;
&lt;img src="data:image/png;base64,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
"&gt;
&lt;/img&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;script type="text/javascript"&gt;if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
    var mathjaxscript = document.createElement('script');
    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
    mathjaxscript.type = 'text/javascript';
    mathjaxscript.src = '//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML';
    mathjaxscript[(window.opera ? "innerHTML" : "text")] =
        "MathJax.Hub.Config({" +
        "    config: ['MMLorHTML.js']," +
        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } }," +
        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
        "    displayAlign: 'center'," +
        "    displayIndent: '0em'," +
        "    showMathMenu: true," +
        "    tex2jax: { " +
        "        inlineMath: [ ['$','$'] ], " +
        "        displayMath: [ ['$$','$$'] ]," +
        "        processEscapes: true," +
        "        preview: 'TeX'," +
        "    }, " +
        "    'HTML-CSS': { " +
        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'black ! important'} }" +
        "    } " +
        "}); ";
    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
}
&lt;/script&gt;
</content><category term="读书笔记"></category><category term="python"></category></entry><entry><title>基于Python的数据科学环境</title><link href="http://holbrook.github.io/2017/02/11/dataology_python_env.html" rel="alternate"></link><published>2017-02-11T00:00:00+08:00</published><updated>2017-02-11T00:00:00+08:00</updated><author><name>Holbrook</name></author><id>tag:holbrook.github.io,2017-02-11:/2017/02/11/dataology_python_env.html</id><summary type="html">&lt;p&gt;在&lt;a href="http://holbrook.github.io/2017/02/05/index.html"&gt;《数据科学的知识体系》&lt;/a&gt;中，
列出了进行数据科学研究所需的知识。但Swami Chandrasekaran明显更喜欢 R 。
我个人更倾向于 python。而且 python 和 R可以互相调用[]
本文列出数据科学相关的 python 模块。&lt;/p&gt;</summary><content type="html">&lt;p&gt;在&lt;a href="http://holbrook.github.io/2017/02/05/index.html"&gt;《数据科学的知识体系》&lt;/a&gt;中，
列出了进行数据科学研究所需的知识。但Swami Chandrasekaran明显更喜欢 R 。
我个人更倾向于 python。至于为什么不是 R 或 Matlib，可以参考
&lt;a href="https://futures.io/matlab-r-project-python/33828-r-vs-python-vs-matlab-quant-language-war.html"&gt;《R vs Python vs matlab: the quant language war》&lt;/a&gt;和
&lt;a href="http://nbviewer.jupyter.org/gist/xccds/d692e468e21aeca6748a"&gt;《R和Python的相遇》&lt;/a&gt;。&lt;/p&gt;
&lt;p&gt;其实，R 和 python 的边界也不是那么的无法逾越，
可以使用&lt;a href="https://rpy2.bitbucket.io/"&gt;rpy2&lt;/a&gt;在 python 中调用 R，
也可以使用&lt;a href="http://rpython.r-forge.r-project.org/"&gt;rPython&lt;/a&gt;在 R 中调用 python。&lt;/p&gt;
&lt;h1 id="yun-xing-huan-jing"&gt;运行环境&lt;/h1&gt;
&lt;h2 id="anaconda"&gt;Anaconda&lt;/h2&gt;
&lt;p&gt;尽管 Linux 和 Mac OS 自带了 python 环境，但还是推荐安装 &lt;a href="https://www.continuum.io"&gt;Anaconda&lt;/a&gt;。&lt;/p&gt;
&lt;p&gt;Anaconda是python的一个科学计算发行版，包含了众多流行的科学、数学、工程、数据分析的Python包&lt;sup id="fnref-1"&gt;&lt;a class="footnote-ref" href="#fn-1"&gt;1&lt;/a&gt;&lt;/sup&gt;。&lt;/p&gt;
&lt;p&gt;从官方网站下载有点慢。如果用安装包进行安装，
可以从&lt;a href="https://mirrors.tuna.tsinghua.edu.cn/help/anaconda/"&gt;清华大学开源软件镜像站(TUNA)&lt;/a&gt;下载。
但还是建议&lt;a href="http://holbrook.github.io/2017/02/11/windows_pkg_manager_chocolatey.html"&gt;使用包管理器&lt;/a&gt;
进行安装，安装后再配置TNUA 上Anaconda 仓库的镜像作为源：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/
conda config --set show_channel_urls yes
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;安装和配置完 Anaconda 后，可以使用其自带的 python 包管理器安装 python 模块，也可以使用常用的 &lt;code&gt;pip&lt;/code&gt;。
但要注意环境的配置。比如：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;conda --version  # 查看版本
conda install seaborn #
&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id="ipython-jupyter-he-spyder"&gt;ipython, jupyter 和 spyder&lt;/h2&gt;
&lt;p&gt;python 本身提供了类似shell的交互式解释器，但是并不好用， &lt;a href="http://ipython.org/"&gt;IPython&lt;/a&gt; 对其进行了极大加强。
IPython是一个增强的 Python Shell，目的是提高编写、测试、调试 Python 代码的速度。
主要用于交互式数据处理和利用matplotlib 对数据进行可视化处理。&lt;/p&gt;
&lt;p&gt;不仅如此，IPython 还提供了 web 方式的 IPython notebook(现在叫做&lt;a href="https://jupyter.org/"&gt;jupyter&lt;/a&gt;)，
已经成为Python科学计算界的标准配置。&lt;/p&gt;
&lt;p&gt;如果你喜欢像 R 一样的 GUI 程序，可以使用命令&lt;code&gt;jupyter qtconsole&lt;/code&gt;打开一个图形界面。&lt;/p&gt;
&lt;p&gt;如果喜欢 RStudio，可以使用 &lt;code&gt;spyder&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;（附：可能是 IPython notebook 太好用了，
RStudio 现在也实现了一个类似的 web 交互工具 &lt;a href="https://www.rstudio.com/products/shiny/"&gt;shiny&lt;/a&gt;)。&lt;/p&gt;
&lt;h2 id="cython"&gt;Cython&lt;/h2&gt;
&lt;p&gt;编译Python程序，提高性能。&lt;/p&gt;
&lt;h1 id="di-ceng-ku_1"&gt;底层库&lt;/h1&gt;
&lt;h2 id="numpy"&gt;NumPy&lt;/h2&gt;
&lt;p&gt;python 中本来提供了 列表(list) 和 数组(array), 可以用来构建矩阵。
但是这些都是通用数据结构，对于纯数值运算来说效率不高。而且没有矩阵运算的函数。&lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.numpy.org/"&gt;NumPy&lt;/a&gt; 弥补了这些不足，为线性代数的计算提供了极大帮助。
NumPy 定义了ndarray(N维数组对象，N-dimensional array object)和
ufunc(通用函数对象, universal function object)，
分别用于多维数组的存储和处理。
其中，ufunc 是一种能对数组的每个元素进行操作的函数。
Numpy 还支持线性代数运算和随机数生成。&lt;/p&gt;
&lt;p&gt;Numpy是下面很多模块的基础模块。&lt;/p&gt;
&lt;h1 id="scipy_1"&gt;SciPy&lt;/h1&gt;
&lt;p&gt;&lt;a href="http://www.scipy.org/"&gt;SciPy&lt;/a&gt;在NumPy的基础上增加了众多的数学、科学以及工程计算中常用的模块。
通过不同的子模块，SciPy 提供了线性代数、拟合与优化、差值、数值积分、图像处理、系数矩阵处理等函数。&lt;/p&gt;
&lt;p&gt;Numpy 已经提供了线性代数函数库，但是SciPy的线性代数库比NumPy更加全面。&lt;/p&gt;
&lt;p&gt;SciPy 的主要子模块包括：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;scipy.integrate: 数值积分例程和微分方程求解器&lt;/li&gt;
&lt;li&gt;scipy.linalg: 扩展了由 numpy.linalg 提供的线性代数例程和矩阵分解功能&lt;/li&gt;
&lt;li&gt;scipy.optimize: 函数优化器以及根查找算法&lt;/li&gt;
&lt;li&gt;scipy.signal: 信号处理工具&lt;/li&gt;
&lt;li&gt;scipy.sparse: 稀疏矩阵和稀疏线性系统求解器&lt;/li&gt;
&lt;li&gt;scipy.special: SPECFUN（这是一个实现了许多常用数学函数的 Fortran 库）的包装器&lt;/li&gt;
&lt;li&gt;scipy.stats: 标准连续和离散概率分布、各种统计检验方法和更好的描述统计法&lt;/li&gt;
&lt;li&gt;scipy.weave: 利用内联 C++ 代码加速数组计算的工具&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id="matplotlib"&gt;matplotlib&lt;/h1&gt;
&lt;p&gt;&lt;a href="http://matplotlib.org/"&gt;Matplotlib&lt;/a&gt;为 python 提供了一整套和MATLAB类似的绘图函数集。
Matplotlib 很强大，但是比较底层。高级的python 数据处理模块会调用 Matplotlib 实现更简单的绘图函数，
比如后面要提到的 Pandas, Seaborn等。
但是要对图表进行精细的、个性化的调整时，还是需要掌握 Matplotlib 的函数。&lt;/p&gt;
&lt;h1 id="shu-ju-fen-xi-he-chu-li"&gt;数据分析和处理&lt;/h1&gt;
&lt;h2 id="pandas"&gt;Pandas&lt;/h2&gt;
&lt;p&gt;&lt;a href="http://pandas.pydata.org/"&gt;Pandas&lt;/a&gt;, Python Data Analysis Library,
是 python 数据分析领域里程碑式的一个重要工具。&lt;/p&gt;
&lt;p&gt;Pandas 基于 NumPy, 实现了&lt;code&gt;Series(序列)&lt;/code&gt;和类似 R的 &lt;code&gt;DataFrame&lt;/code&gt; 对象，
提供了大量能使我们快速便捷地处理数据的函数和方法。&lt;/p&gt;
&lt;p&gt;Pandas 很好的解决了数据分析的大部分任务，是所有中等规模数据分析的最有效的工具。&lt;/p&gt;
&lt;h2 id="statsmodels"&gt;Statsmodels&lt;/h2&gt;
&lt;p&gt;&lt;a href="http://statsmodels.sourceforge.net/"&gt;Statsmodels&lt;/a&gt;
是 Python 中一个强大的统计分析包，包含了描述统计、回归分析、时间序列分析、假设检验等等的功能。&lt;/p&gt;
&lt;p&gt;一些主要的功能包括：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Linear regression models&lt;/li&gt;
&lt;li&gt;Generalized linear models&lt;/li&gt;
&lt;li&gt;Discrete choice models&lt;/li&gt;
&lt;li&gt;Robust linear models&lt;/li&gt;
&lt;li&gt;Many models and functions for time series analysis&lt;/li&gt;
&lt;li&gt;Nonparametric estimators&lt;/li&gt;
&lt;li&gt;A collection of datasets for examples&lt;/li&gt;
&lt;li&gt;A wide range of statistical tests&lt;/li&gt;
&lt;li&gt;Input-output tools for producing tables in a number of formats (Text, LaTex, HTML) and for reading Stata files -into NumPy and Pandas.&lt;/li&gt;
&lt;li&gt;Plotting functions&lt;/li&gt;
&lt;li&gt;Extensive unit tests to ensure correctness of results&lt;/li&gt;
&lt;li&gt;Many more models and extensions in development&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="sympy"&gt;SymPy&lt;/h2&gt;
&lt;p&gt;&lt;a href=""&gt;SymPy&lt;/a&gt;是Python的数学符号计算库，目标是成为一个全功能的代数系统。
SymPy支持符号计算、高精度计算、模式匹配、绘图、解方程、微积分、组合数学、离散数学、几何学、概率与统计、物理学等方面的功能。&lt;/p&gt;
&lt;h1 id="ke-shi-hua_1"&gt;可视化&lt;/h1&gt;
&lt;h2 id="seaborn"&gt;Seaborn&lt;/h2&gt;
&lt;p&gt;&lt;a href="http://seaborn.pydata.org/"&gt;Seaborn&lt;/a&gt;
是基于 Matplotlib 的高级统计绘图工具（类似 Pandas 与 NumPy 的关系），其功能类似 R 中的 lattice。
Matplotlib很强大，但是也很复杂。因此推荐一开始使用Seaborn。&lt;/p&gt;
&lt;h2 id="bokeh"&gt;Bokeh&lt;/h2&gt;
&lt;p&gt;&lt;a href="http://bokeh.pydata.org/en/latest/docs/user_guide.html"&gt;Bokeh(Bokeh.js)&lt;/a&gt;
是一个 Python 交互式可视化库，支持现代化 Web 浏览器，提供非常完美的展示功能。&lt;/p&gt;
&lt;p&gt;Bokeh 的目标是使用 D3.js 样式提供优雅，简洁新颖的图形化风格，同时提供大型数据集的高性能交互功能。&lt;/p&gt;
&lt;p&gt;Boken 可以快速的创建交互式的绘图，仪表盘和数据应用。&lt;/p&gt;
&lt;h2 id="tvtk"&gt;TVTK&lt;/h2&gt;
&lt;p&gt;数据的三维可视化&lt;/p&gt;
&lt;h2 id="vpython"&gt;VPython&lt;/h2&gt;
&lt;p&gt;制作3D演示动画&lt;/p&gt;
&lt;h2 id="opencv"&gt;OpenCV&lt;/h2&gt;
&lt;p&gt;图像处理和计算机视觉&lt;/p&gt;
&lt;h1 id="ji-qi-xue-xi_1"&gt;机器学习&lt;/h1&gt;
&lt;h2 id="scikit-learn"&gt;scikit-learn&lt;/h2&gt;
&lt;p&gt;For machine learning and artificial intelligence algorithms&lt;/p&gt;
&lt;h2 id="pytorch"&gt;PyTorch&lt;/h2&gt;
&lt;p&gt;深度学习&lt;/p&gt;
&lt;h1 id="enthought-tool-suite_1"&gt;Enthought Tool Suite&lt;/h1&gt;
&lt;p&gt;&lt;a href="http://code.enthought.com/projects/index.php"&gt;Enthought Tool Suite&lt;/a&gt;是
&lt;a href="http://code.enthought.com/"&gt;Enthought公司&lt;/a&gt;开发的开源科学计算一套应用程序开发包。
包含了大量的工具。主要的工具包括：&lt;/p&gt;
&lt;h2 id="traits"&gt;Traits&lt;/h2&gt;
&lt;p&gt;Explicit type declarations; validation; initialization; delegation; notification; visualization.&lt;/p&gt;
&lt;h2 id="traitsui"&gt;TraitsUI&lt;/h2&gt;
&lt;p&gt;A UI layer that supports the visualization features of Traits. Implementations using wxWidgets and Qt are provided by the TraitsBackendWX and TraitsBackendQt projects.&lt;/p&gt;
&lt;h2 id="chaco"&gt;Chaco&lt;/h2&gt;
&lt;p&gt;交互式 2D 图表&lt;/p&gt;
&lt;h2 id="mayavi"&gt;Mayavi&lt;/h2&gt;
&lt;p&gt;交互式 3D 图表&lt;/p&gt;
&lt;h2 id="qi-ta"&gt;其他&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Enaml
  Library for creating professional quality user interfaces combining a domain specific declarative language with a constraints based layout.&lt;/li&gt;
&lt;li&gt;Envisage
  Python-based framework for building extensible (plugin-based) applications.&lt;/li&gt;
&lt;li&gt;Pyface
  toolkit-independent GUI abstraction layer, which is used to support the "visualization" features of the Traits package.&lt;/li&gt;
&lt;li&gt;BlockCanvas
  Visual environment for creating simulation experiments, where function and data are separated using CodeTools.&lt;/li&gt;
&lt;li&gt;GraphCanvas
  library for interacting with visualizations of complex graphs.&lt;/li&gt;
&lt;li&gt;Enable
  Object drawing library and PDF vector drawing engine.&lt;/li&gt;
&lt;li&gt;SciMath
  Convenience libraries for math, interpolation, and units&lt;/li&gt;
&lt;li&gt;Casuarius
  supports constraints based layout in Enaml by wrapping Cassowary.&lt;/li&gt;
&lt;li&gt;AppTools
  General tools for ETS application development: scripting, logging, preferences, ...&lt;/li&gt;
&lt;li&gt;EnCore
  Core tools for application development (only depends on the Standard library).&lt;/li&gt;
&lt;li&gt;and more...&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id="can-kao-zi-liao_1"&gt;参考资料&lt;/h1&gt;
&lt;div class="footnote"&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id="fn-1"&gt;
&lt;p&gt;&lt;a href="http://www.cnblogs.com/super-d2/p/4725818.html"&gt;Python科学计算发行版&amp;mdash;Anaconda&lt;/a&gt;&amp;nbsp;&lt;a class="footnote-backref" href="#fnref-1" title="Jump back to footnote 1 in the text"&gt;↩&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id="fn-2"&gt;
&lt;p&gt;&lt;a href="http://hyry.dip.jp/tech/book/page/scipy/index.html"&gt;用Python做科学计算&lt;/a&gt;&amp;nbsp;&lt;a class="footnote-backref" href="#fnref-2" title="Jump back to footnote 2 in the text"&gt;↩&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id="fn-3"&gt;
&lt;p&gt;&lt;a href="http://hyry.dip.jp/tech/book/page/scipynew/index.html"&gt;用Python做科学计算(第二版)&lt;/a&gt;&amp;nbsp;&lt;a class="footnote-backref" href="#fnref-3" title="Jump back to footnote 3 in the text"&gt;↩&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id="fn-4"&gt;
&lt;p&gt;&lt;a href="https://www.analyticsvidhya.com/learning-paths-data-science-business-analytics-business-intelligence-big-data/learning-path-data-science-python/"&gt;Comprehensive learning path &amp;ndash; Data Science in Python&lt;/a&gt;&amp;nbsp;&lt;a class="footnote-backref" href="#fnref-4" title="Jump back to footnote 4 in the text"&gt;↩&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id="fn-5"&gt;
&lt;p&gt;&lt;a href="http://aliquote.org/memos/2011/02/07/python-for-statistical-computing"&gt;Python for statistical computing&lt;/a&gt;&amp;nbsp;&lt;a class="footnote-backref" href="#fnref-5" title="Jump back to footnote 5 in the text"&gt;↩&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/hr&gt;&lt;/div&gt;</content><category term="python"></category><category term="env"></category></entry><entry><title>windows下面的包管理器：Chocolatey</title><link href="http://holbrook.github.io/2017/02/11/windows_pkg_manager_chocolatey.html" rel="alternate"></link><published>2017-02-11T00:00:00+08:00</published><updated>2017-02-11T00:00:00+08:00</updated><author><name>Holbrook</name></author><id>tag:holbrook.github.io,2017-02-11:/2017/02/11/windows_pkg_manager_chocolatey.html</id><summary type="html">&lt;p&gt;操作系统级别的包管理器，Linux 下面有 yum, apt, Mac OS 下面有 Homebrew。
Windows 下面可以使用 windows下面的包管理器：&lt;a href="https://chocolatey.org/"&gt;Chocolatey&lt;/a&gt;。&lt;/p&gt;</summary><content type="html">&lt;h1 id="xi-tong-ji-bie-de-bao-guan-li-qi"&gt;系统级别的包管理器&lt;/h1&gt;
&lt;p&gt;开发人员一般都喜欢命令行操作，因为效率更高。在管理系统上的软件时，更喜欢用包管理器(&lt;code&gt;package manager&lt;/code&gt;)。
Linux 下面我们已经熟悉了 &lt;code&gt;yum&lt;/code&gt;, &lt;code&gt;apt&lt;/code&gt;等，在 Mac OS 下面，&lt;code&gt;Homebrew&lt;/code&gt; 最终战胜了 &lt;code&gt;MacPort&lt;/code&gt;。
但是有时候我们不得不使用 windows，比如 万德。&lt;/p&gt;
&lt;p&gt;Windows 的软件管理，以前是一些第三方的&amp;ldquo;软件仓库&amp;rdquo;，比如 百度软件管理等，但是难保上面没有地雷。
Windows 10 自己提供了&amp;ldquo;软件商店&amp;rdquo;，安全性应该大有改观，但是使用仍很受限制，尤其是开发用的软件很不全。&lt;/p&gt;
&lt;p&gt;我们需要一个 Windows 下面的包管理器。所幸，现在有了 &lt;a href="https://chocolatey.org/"&gt;Chocolatey&lt;/a&gt;。
使用包管理的好处不仅仅是提高效率，更重要的是使得 Windows 的自动运维成为可能。
比如，原来 &lt;code&gt;SaltStack&lt;/code&gt;的很多脚本在 Windows 下很难实现，但有了 Chocolatey ，
用 SaltStack 管理Windows 服务器的难度大大降低。&lt;/p&gt;
&lt;h1 id="yuan-li"&gt;原理&lt;/h1&gt;
&lt;p&gt;&lt;a href="https://chocolatey.org/"&gt;Chocolatey&lt;/a&gt;使用 Nuget 协议，将软件的官方链接封装到描述文件中。
可以查看 &lt;a href="https://chocolatey.org/packages"&gt;软件包列表&lt;/a&gt;。&lt;/p&gt;
&lt;h1 id="an-zhuang"&gt;安装&lt;/h1&gt;
&lt;p&gt;&lt;a href="https://chocolatey.org/"&gt;Chocolatey&lt;/a&gt;需要的环境为：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Windows 7+ / Windows Server 2003+&lt;/li&gt;
&lt;li&gt;PowerShell v2+&lt;/li&gt;
&lt;li&gt;.NET Framework 4+&lt;/li&gt;
&lt;li&gt;管理员权限&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;以管理员的权限安装。可以使用 &lt;code&gt;PowerShell&lt;/code&gt;，但先要修改 PowerShell的执行策略：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;Set-ExecutionPolicy unrestricted
iwr https://chocolatey.org/install.ps1 -UseBasicParsing | iex
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;也可以使用&lt;code&gt;Cmd&lt;/code&gt; 、&lt;code&gt;CygWin&lt;/code&gt;、。。。 等命令行工具：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;@powershell&lt;/span&gt; &lt;span class="nt"&gt;-NoProfile&lt;/span&gt; &lt;span class="nt"&gt;-ExecutionPolicy&lt;/span&gt; &lt;span class="nt"&gt;Bypass&lt;/span&gt; &lt;span class="nt"&gt;-Command&lt;/span&gt; &lt;span class="s2"&gt;"iex ((New-Object System.Net.WebClient).DownloadString('https://chocolatey.org/install.ps1'))"&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class="nt"&gt;SET&lt;/span&gt; &lt;span class="s2"&gt;"PATH=%PATH%;%ALLUSERSPROFILE%\chocolatey\bin"&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h1 id="shi-yong"&gt;使用&lt;/h1&gt;
&lt;p&gt;安装好 Chocolatey 后，可以通过如下命令查看使用帮助：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;choco help
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Chocolatey 的命令一般提供两种格式，比如安装软件可以使用长格式 &lt;code&gt;choco install&lt;/code&gt; , 或者短格式 &lt;code&gt;cinst&lt;/code&gt;。
可以根据需要选择。但我个人更喜欢长格式，因为跟其他包管理器的命令更接近。&lt;/p&gt;
&lt;p&gt;Chocolatey 的常用命令包括：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;搜索: &lt;code&gt;choco search&lt;/code&gt;，用 &lt;code&gt;-all&lt;/code&gt;参数会显示所有可用的版本&lt;/li&gt;
&lt;li&gt;安装: &lt;code&gt;choco install&lt;/code&gt;, 用 &lt;code&gt;-version&lt;/code&gt; 参数可以安装指定版本&lt;/li&gt;
&lt;li&gt;查找更新: &lt;code&gt;choco version&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;升级: &lt;code&gt;choco upgrade&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;卸载: &lt;code&gt;choco uninstall&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id="xiao-jie"&gt;小结&lt;/h1&gt;
&lt;p&gt;使用 Chocolatey 可以管理很多软件包，比如 Linux 下面常用的 ~curl~, 一些小工具如 ~7zip~，
各种开发环境和工具如 ~git~, ~nodejs~, 甚至一些大型 GUI程序如
 ~SublimeText3~, ~virtualbox~, ~VisualStudio2013Ultimate~.
通过命令行的方式，可以将按照操作纳入到 SaltStack 的管理中。&lt;/p&gt;
&lt;p&gt;相信通过深入挖掘，Chocolatey 能够发挥很大的作用。&lt;/p&gt;</content><category term="env"></category></entry><entry><title>数据科学的知识体系</title><link href="http://holbrook.github.io/2017/02/05/index.html" rel="alternate"></link><published>2017-02-05T00:00:00+08:00</published><updated>2017-02-05T00:00:00+08:00</updated><author><name>Holbrook</name></author><id>tag:holbrook.github.io,2017-02-05:/2017/02/05/index.html</id><summary type="html">&lt;p&gt;数据科学是利用计算机的运算能力对数据进行处理，从数据中提取信息，进而形成“知识”。
然而要实现这一点并不容易。Swami Chandrasekaran在他的&lt;a href="http://nirvacana.com/thoughts/becoming-a-data-scientist/"&gt;《Becoming a Data Scientist》&lt;/a&gt;中，规划了“数据科学家”之路，让我们共勉。&lt;/p&gt;</summary><content type="html">&lt;p&gt;数据科学是利用计算机的运算能力对数据进行处理，从数据中提取信息，进而形成&amp;ldquo;知识&amp;rdquo;。
然而要实现这一点并不容易。Swami Chandrasekaran在他的&lt;a href="http://nirvacana.com/thoughts/becoming-a-data-scientist/"&gt;《Becoming a Data Scientist》&lt;/a&gt;中，规划了&amp;ldquo;数据科学家&amp;rdquo;之路，让我们共勉。&lt;/p&gt;
&lt;p&gt;先上图：&lt;/p&gt;
&lt;p&gt;&lt;img alt="MetroMap to Data Scientist" src="/images/long-road-to-data-scientist.png"/&gt;&lt;/p&gt;
&lt;h1 id="1ji-ben-yuan-li-fundamentals"&gt;1.基本原理(Fundamentals)&lt;/h1&gt;
&lt;h2 id="ju-zhen-he-xian-xing-dai-shu-matrices-linear-algebra"&gt;矩阵和线性代数(Matrices &amp;amp; Linear Algebra)&lt;/h2&gt;
&lt;h2 id="shu-ju-cun-chu-he-chu-li"&gt;数据存储和处理&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;哈希函数，二叉树，时间复杂度(Hash Functions,Binary Tree,O(n))&lt;/li&gt;
&lt;li&gt;关系代数和数据库基础(Relational Algebra,DB Basic)&lt;/li&gt;
&lt;li&gt;内连接、外连接、交叉连接、&amp;theta;连接(Inner、Outer、Cross、Theta Join)&lt;/li&gt;
&lt;li&gt;CAP定理（CAP Theorem）&lt;/li&gt;
&lt;li&gt;列表数据(tabular data)&lt;/li&gt;
&lt;li&gt;数据框和序列(DataFrames &amp;amp; Series)&lt;/li&gt;
&lt;li&gt;分片(Sharding)&lt;/li&gt;
&lt;li&gt;联机分析处理（OLAP, Online Analytical Processing）&lt;/li&gt;
&lt;li&gt;多维数据模型(Multidimensional Data Model)&lt;/li&gt;
&lt;li&gt;ETL&lt;/li&gt;
&lt;li&gt;报表，商业智能与分析(Reporting vs BI vs Analytics)&lt;/li&gt;
&lt;li&gt;JSON &amp;amp; XML&lt;/li&gt;
&lt;li&gt;NoSQL&lt;/li&gt;
&lt;li&gt;正则表达式（Regex, Regular Expression）&lt;/li&gt;
&lt;li&gt;业务背景知识(Vendor Landscape)&lt;/li&gt;
&lt;li&gt;安装环境(Env Setup)&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id="2tong-ji-xue-statistics_1"&gt;2.统计学(Statistics)&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;获取数据(Pick a Dataset)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;UCI Repo: UCI数据库。是加州大学欧文分校(University of CaliforniaIrvine)
  提出的用于机器学习的数据库，有大量的数据集。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;描述性统计Descriptive Statistics&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;均值，中位数，极差，标准差，方差(（mean, median, range, SD, Var）&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;探索性数据分析(Exploratory Data Analysis)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;直方图(Histograms)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;百分位数和极值(Percentiles &amp;amp; Outliers)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;概率论(Probability Theory)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;贝叶斯定理(Bayes Theorem)&lt;/li&gt;
&lt;li&gt;随机变量(Random Variables)&lt;/li&gt;
&lt;li&gt;累计分布函数（CDF, Cumulative Distribution Function)&lt;/li&gt;
&lt;li&gt;连续分布(Continuos Distributions)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;正态分布、泊松分布、高斯分布(Normal, Poisson, Gaussian)&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;偏度(Skewness)&lt;/li&gt;
&lt;li&gt;方差分析(ANOVA)&lt;/li&gt;
&lt;li&gt;概率密度函数(PDF,Prob Den Fn)&lt;/li&gt;
&lt;li&gt;中心极限定理(Central Limit THeorem)&lt;/li&gt;
&lt;li&gt;蒙特卡罗方法(Monte Carlo Method)&lt;/li&gt;
&lt;li&gt;假设检验(Hypothesis Testing)&lt;/li&gt;
&lt;li&gt;P值(p-Value)&lt;/li&gt;
&lt;li&gt;卡方检验(Chi2 Test)&lt;/li&gt;
&lt;li&gt;估计(Estimation)&lt;/li&gt;
&lt;li&gt;置信区间(CI,Confid Int)&lt;/li&gt;
&lt;li&gt;极大似然估计(MLE)&lt;/li&gt;
&lt;li&gt;核密度估计(Kernel Density Estimate)&lt;/li&gt;
&lt;li&gt;回归(Regression)&lt;/li&gt;
&lt;li&gt;协方差(Convariance)&lt;/li&gt;
&lt;li&gt;相关性(Correlation)&lt;/li&gt;
&lt;li&gt;皮尔逊相关系数(Pearson Coeff)&lt;/li&gt;
&lt;li&gt;因果性(Causation)&lt;/li&gt;
&lt;li&gt;最小二乘法(Least2 fit)&lt;/li&gt;
&lt;li&gt;欧氏距离(Eculidean Distance)&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id="3bian-cheng-programming"&gt;3.编程(Programming)&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;python基础(Python Basics)&lt;/li&gt;
&lt;li&gt;R&lt;/li&gt;
&lt;li&gt;Excel&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;数据结构
  Swami Chandrasekaran 给出的是 R 中的数据结构，但可以映射到python中。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;变量(Varibles)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;向量(Vectors)&lt;/li&gt;
&lt;li&gt;矩阵(Matrices)&lt;/li&gt;
&lt;li&gt;数组(Arrays)&lt;/li&gt;
&lt;li&gt;因子(Factors)&lt;/li&gt;
&lt;li&gt;列表(Lists)&lt;/li&gt;
&lt;li&gt;数据框(Data Frames)&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id="4ji-qi-xue-xi-machine-learning"&gt;4.机器学习(Machine Learning)&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;机器学习与数据挖掘的区别(What is ML?)&lt;/li&gt;
&lt;li&gt;数值变量(Numerical Var)&lt;/li&gt;
&lt;li&gt;分类变量(Categorical Var)&lt;/li&gt;
&lt;li&gt;监督学习(Supervised Learning)&lt;/li&gt;
&lt;li&gt;无监督学习(Unsupervied Learning)&lt;/li&gt;
&lt;li&gt;概念、输入和特征(Concepts, Inputs &amp;amp; Attributes)&lt;/li&gt;
&lt;li&gt;训练集和测试集(Traning &amp;amp; Test Data)&lt;/li&gt;
&lt;li&gt;分类器(Classifier)&lt;/li&gt;
&lt;li&gt;预测(Prediction)&lt;/li&gt;
&lt;li&gt;Lift曲线&lt;/li&gt;
&lt;li&gt;过拟合(Overfitting)&lt;/li&gt;
&lt;li&gt;偏差和方差(Bias &amp;amp; Variance)&lt;/li&gt;
&lt;li&gt;树分类(Trees &amp;amp; Classification)&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;分类问题(Classification)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;分类正确率(Classification Rate)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;决策树(Decision Trees)&lt;/li&gt;
&lt;li&gt;提升方法(Boosting)&lt;/li&gt;
&lt;li&gt;朴素贝叶斯分类(Naive Bayes Classifiers)&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;K近邻分类(K-Nearest Neighbour)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;回归问题(Regression)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;逻辑回归(Logistic Regression)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;排序(Ranking)&lt;/li&gt;
&lt;li&gt;线性回归(Linear Regression)&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;感知机(Perceptron)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;聚类问题(Clustering)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;层次聚类(Hierarchical Clustering)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;K聚类(K-means Clusterning)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;神经网络(Neural Networks)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;情感分析(Sentiment Analysis)&lt;/li&gt;
&lt;li&gt;协同过滤(Collaborative Fitering)&lt;/li&gt;
&lt;li&gt;标签(Tagging)&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id="5wen-ben-wa-jue-zi-ran-yu-yan-chu-li-text-mining-nlp"&gt;5.文本挖掘/自然语言处理(Text Mining / NLP)&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;语料库(Corpus)&lt;/li&gt;
&lt;li&gt;命名实体识别(Named Entity Recognition)&lt;/li&gt;
&lt;li&gt;文本分析(Text Analysis)&lt;/li&gt;
&lt;li&gt;UIMA&lt;/li&gt;
&lt;li&gt;词-文档矩阵(Term Document Matrix)&lt;/li&gt;
&lt;li&gt;词频和权重(Term Frequency &amp;amp; Weight)&lt;/li&gt;
&lt;li&gt;支持向量机(Support Vector Machines)&lt;/li&gt;
&lt;li&gt;关联规则(Association Rules)&lt;/li&gt;
&lt;li&gt;购物篮分析(Market Basket Analysis)&lt;/li&gt;
&lt;li&gt;特征提取(Feature Extraction)&lt;/li&gt;
&lt;li&gt;工具箱&lt;/li&gt;
&lt;li&gt;Mahout&lt;/li&gt;
&lt;li&gt;Weka&lt;/li&gt;
&lt;li&gt;NLTK&lt;/li&gt;
&lt;li&gt;文本分类(Classify Text)&lt;/li&gt;
&lt;li&gt;词汇映射(Vocabulary Mapping)&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id="6shu-ju-ke-shi-hua"&gt;6.数据可视化&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;单变量、双变量和多变量可视化(Uni, Bi &amp;amp; Multivariate Viz)&lt;/li&gt;
&lt;li&gt;ggplot2(R中的一个可视化包，python中使用pyplotlib)&lt;/li&gt;
&lt;li&gt;直方图和饼图（单变量）(Histogram &amp;amp; Pie(Uni))&lt;/li&gt;
&lt;li&gt;树图和矩形树图(Tree &amp;amp; Tree Map)&lt;/li&gt;
&lt;li&gt;散点图（双变量）(Scatter Plot (Bi))&lt;/li&gt;
&lt;li&gt;折线图（双变量）(Line Charts (Bi))&lt;/li&gt;
&lt;li&gt;空间图(Spatial Charts)&lt;/li&gt;
&lt;li&gt;Survey Plot&lt;/li&gt;
&lt;li&gt;时间轴(Timeline)&lt;/li&gt;
&lt;li&gt;决策树(Decision Tree)&lt;/li&gt;
&lt;li&gt;D3.js(知名的数据可视化前端框架)&lt;/li&gt;
&lt;li&gt;IBM ManyEyes(IBM的一款在线可视化处理工具)&lt;/li&gt;
&lt;li&gt;Tableau(国外知名的商用BI)&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id="7da-shu-ju-big-data"&gt;7.大数据(Big Data)&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;MapReduce框架(Map Reduce Fundamentals)&lt;/li&gt;
&lt;li&gt;Hadoop组件(Hadoop Components)&lt;/li&gt;
&lt;li&gt;HDFS(Hadoop分布式文件系统,Hadoop Distributed FilesSystem）&lt;/li&gt;
&lt;li&gt;数据复制原理(Data Replication Principles)&lt;/li&gt;
&lt;li&gt;名称和数据节点(Name &amp;amp; Data Nodes)&lt;/li&gt;
&lt;li&gt;任务跟踪(Job &amp;amp; Task Tracker)&lt;/li&gt;
&lt;li&gt;Map/Reduce编程(M/R Programming)&lt;/li&gt;
&lt;li&gt;Sqoop工具: Loading Data in HDFS&lt;/li&gt;
&lt;li&gt;Flue, Scribe: 处理非结构化数据&lt;/li&gt;
&lt;li&gt;利用Pig语言进行SQL操作(SQL with Pig)&lt;/li&gt;
&lt;li&gt;利用Hive来实现数据仓库(DWH with Hive)&lt;/li&gt;
&lt;li&gt;Scribe, Chukwa For Weblog(日志收集器和数据收集器)&lt;/li&gt;
&lt;li&gt;使用Mahout&lt;/li&gt;
&lt;li&gt;Zookeeper 和 Avro&lt;/li&gt;
&lt;li&gt;Storm: Hadoop Realtime&lt;/li&gt;
&lt;li&gt;Rhadoop, RHipe, SparkR ： 将R和hadoop结合起来的架构&lt;/li&gt;
&lt;li&gt;rmr: RHadoop的一个包，和hadoop的MapReduce相关&lt;/li&gt;
&lt;li&gt;NoSql数据库&lt;/li&gt;
&lt;li&gt;Classandra&lt;/li&gt;
&lt;li&gt;MongoDB&lt;/li&gt;
&lt;li&gt;Neo4j&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id="8shu-ju-she-qu-ingestion"&gt;8.数据摄取(ingestion)&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;数据格式概要(Summary of Data Formats)&lt;/li&gt;
&lt;li&gt;数据发现(Data Discovery)&lt;/li&gt;
&lt;li&gt;数据来源与采集(Data Sources &amp;amp; Acquisition)&lt;/li&gt;
&lt;li&gt;数据集成(Data Integration)&lt;/li&gt;
&lt;li&gt;数据融合(Data Fusion)&lt;/li&gt;
&lt;li&gt;转换和浓缩(Transformation &amp;amp; Enrichament)&lt;/li&gt;
&lt;li&gt;数据调查(Data Survey)&lt;/li&gt;
&lt;li&gt;Google OpenRefine: Google发布的开源的数据处理软件&lt;/li&gt;
&lt;li&gt;数据量级(How much Data)&lt;/li&gt;
&lt;li&gt;ETL&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id="9shu-ju-qing-xi-munging"&gt;9.数据清洗(munging)&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;维度与数值归约(Dimensionality &amp;amp; Numerosity Reduction)&lt;/li&gt;
&lt;li&gt;数据规范化(Normalization)&lt;/li&gt;
&lt;li&gt;数据清洗(Data Scrubbing)&lt;/li&gt;
&lt;li&gt;缺失值处理(Handling Missing Values)&lt;/li&gt;
&lt;li&gt;无偏估计量(Unbiased Estimators)&lt;/li&gt;
&lt;li&gt;分箱稀疏值(Binning Sparse Values)&lt;/li&gt;
&lt;li&gt;特征提取／特征工程(Feature Extraction)&lt;/li&gt;
&lt;li&gt;去噪(Denoising)&lt;/li&gt;
&lt;li&gt;抽样(Sampling)&lt;/li&gt;
&lt;li&gt;分层抽样(Stratified Sampling)&lt;/li&gt;
&lt;li&gt;主成分分析(PCA,Principal Component Analysis)&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id="10gong-ju-ji"&gt;10.工具集&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;微软的Excel及其自带的分析工具库(MS Excel / Analysis ToolPak)&lt;/li&gt;
&lt;li&gt;Java, Python&lt;/li&gt;
&lt;li&gt;R, R-Studio, Rattle（Rattle是基于R的数据挖掘工具，提供了GUI）&lt;/li&gt;
&lt;li&gt;Weka(基于JAVA环境下开源的机器学习以及数据挖掘软件)&lt;/li&gt;
&lt;li&gt;Knime(基于Eclipse环境的开源商业智能工具)&lt;/li&gt;
&lt;li&gt;RapidMiner(开源的数据挖掘软件,提供一些可扩展的数据分析挖掘算法的实现。)&lt;/li&gt;
&lt;li&gt;Hadoop发行版选择(Hadoop Dist of Choice)&lt;/li&gt;
&lt;li&gt;Spark, Storm: Hadoop相关的实时处理框架，是对Hadoop的补充和完善&lt;/li&gt;
&lt;li&gt;Flume: 海量日志采集、聚合和传输的系统&lt;/li&gt;
&lt;li&gt;Scribe: Facebook开源的日志收集系统，在Facebook内部已经得到的应用&lt;/li&gt;
&lt;li&gt;Chukwa: 开源的用于监控大型分布式系统的数据收集系统&lt;/li&gt;
&lt;li&gt;Nutch: 一个开源的Java搜索引擎&lt;/li&gt;
&lt;li&gt;Talend： 一家专业的开源集成软件公司，提供各类数据工具&lt;/li&gt;
&lt;li&gt;ScraperWiKi： 致力于数据科学领域维基百科网站，帮助个人和企业获得最专业的可视化数据，并支持对数据进行分析和管理&lt;/li&gt;
&lt;li&gt;Webscraper： 网页爬虫&lt;/li&gt;
&lt;li&gt;Flume: 海量日志采集、聚合和传输的系统&lt;/li&gt;
&lt;li&gt;Sqoop: Haddop套件&lt;/li&gt;
&lt;li&gt;tm: R语言的文本挖掘包&lt;/li&gt;
&lt;li&gt;RWeka: R的weka算法包&lt;/li&gt;
&lt;li&gt;NLTK: 自然语言工具包&lt;/li&gt;
&lt;li&gt;RHIPE: R与Hadoop相关的开发环境&lt;/li&gt;
&lt;li&gt;D3.js&lt;/li&gt;
&lt;li&gt;ggplot2&lt;/li&gt;
&lt;li&gt;Shiny: 在线网页交互可视化工具, 可以将R语言作为半个BI用。&lt;/li&gt;
&lt;li&gt;IBM Languageware: IBM的自然语言处理&lt;/li&gt;
&lt;li&gt;Cassandra, MongoDB: 2种NoSql数据库&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id="can-kao-zi-liao"&gt;参考资料&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://www.zhihu.com/question/21592677/answer/142800018"&gt;知乎上面秦路的回答&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.cnblogs.com/vamei/p/3178534.html"&gt;Vamei对数据科学的理解&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content></entry><entry><title>搭建一个“现代化”的web开发环境</title><link href="http://holbrook.github.io/2015/05/04/modern_web_dev_env.html" rel="alternate"></link><published>2015-05-04T00:00:00+08:00</published><updated>2015-05-04T00:00:00+08:00</updated><author><name>Holbrook</name></author><id>tag:holbrook.github.io,2015-05-04:/2015/05/04/modern_web_dev_env.html</id><summary type="html">&lt;p&gt;使用yoeman, bower, grunt等工具开发web。&lt;/p&gt;</summary><content type="html">&lt;h1 id="mu-biao"&gt;目标&lt;/h1&gt;
&lt;p&gt;将要开展的一个项目，使用Angularjs 和 Flask开发一个web界面，
作为saltstack和其他自行开发的python小工具的前端界面，
实现自己的&amp;ldquo;运维操作平台&amp;rdquo;。&lt;/p&gt;
&lt;p&gt;为了统一框架、工具和开发方式，在本文中描述了项目的一些约定。
这些约定具有通用性，应该是目前基于python的web开发技术中，
比较&amp;rdquo;主流&amp;ldquo;和&amp;rdquo;先进&amp;ldquo;的方式，所以也可以作为开发其他应用的参考。&lt;/p&gt;
&lt;h1 id="gong-ju-he-kuang-jia"&gt;工具和框架&lt;/h1&gt;
&lt;h2 id="gong-ju"&gt;工具&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;版本管理
    基于&lt;a href="http://gogs.io/"&gt;gogs&lt;/a&gt; 的私有git&lt;/li&gt;
&lt;li&gt;问题管理、版本发布、资料共享
    &lt;a href="http://www.redmine.org/"&gt;redmine&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;项目管理
    &lt;a href="http://www.redminebacklogs.net/"&gt;redmine的scrum插件&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;nodejs包管理器
    &lt;a href="https://www.npmjs.com/"&gt;npm&lt;/a&gt;(node package manager)。&lt;/p&gt;
&lt;p&gt;本文中，npm仅作为安装yoeman, bower，grunt等的基础工具。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;js依赖管理: &lt;a href="http://bower.io/"&gt;bower&lt;/a&gt;
    npm可以安装js包，但是没有解决依赖的问题。而bower解决了js包的依赖管理。类似maven中的依赖管理功能。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;前端构建工具: &lt;a href="http://gruntjs.com/"&gt;grunt&lt;/a&gt;
    js开发中的项目构建工具，类似maven/ant/makefile，
    通过配置文件执行压缩,编译, 单元测试, 代码检查以及打包发布的任务。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;前端脚手架工具
    &lt;a href=""&gt;yoeman&lt;/a&gt;。类似maven的archetypes。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;python开发环境管理
    &lt;a href="http://virtualenv-chinese-docs.readthedocs.org/en/latest/"&gt;virtualenv&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="kuang-jia-he-cha-jian"&gt;框架和插件&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;样式库 &lt;a href="http://getbootstrap.com/"&gt;Bootstrap&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/nnnick/Chart.js/"&gt;chartjs&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;前端框架：&lt;a href="https://angularjs.org/"&gt;AngularJS&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;后端框架：&lt;a href=""&gt;Flask&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;Flask-SQLAlchemy&lt;/li&gt;
&lt;li&gt;Flask-RESTful&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="huan-jing-zhun-bei"&gt;环境准备&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;本文中仅给出MacOS下的安装方法，其他系统可以阅读官方文档或参考资料。
&lt;/pre&gt;&lt;/div&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="c1"&gt;#安装npm&lt;/span&gt;
brew install npm

&lt;span class="c1"&gt;#全局安装工具&lt;/span&gt;
npm install -g yo grunt-cli grunt bower generator-angular

&lt;span class="c1"&gt;#安装virtualenv&lt;/span&gt;
sudo easy_install pip
sudo pip install virtualenv
&lt;/pre&gt;&lt;/div&gt;
&lt;h1 id="da-jian-gong-cheng_1"&gt;搭建工程&lt;/h1&gt;
&lt;h2 id="chuang-jian-gong-cheng-mu-lu"&gt;创建工程目录&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;mkdir -p PROJ&lt;span class="se"&gt;\_&lt;/span&gt;ROOT/web &lt;span class="se"&gt;\#&lt;/span&gt; 前端工程目录 mkdir -p
PROJ&lt;span class="se"&gt;\_&lt;/span&gt;ROOT/app/APP&lt;span class="se"&gt;\_&lt;/span&gt;NAME &lt;span class="se"&gt;\#&lt;/span&gt; 后端工程目录 &lt;span class="se"&gt;\#&lt;/span&gt;+END
&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id="chuang-jian-qian-duan-gong-cheng"&gt;创建前端工程&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nb"&gt;cd&lt;/span&gt; PROJ&lt;span class="se"&gt;\_&lt;/span&gt;ROOT/web yo angular &lt;span class="se"&gt;\#&lt;/span&gt; 一些交互，按照自己的需要选择即可。 &lt;span class="se"&gt;\#&lt;/span&gt;...
&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id="pei-zhi-qian-duan-gong-cheng"&gt;配置前端工程&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;修改IP地址&lt;/p&gt;
&lt;p&gt;将connect -&amp;gt; hostname, 由'localhost' 改为 '0.0.0.0'&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;修改dist目录&lt;/p&gt;
&lt;p&gt;将appConfig -&amp;gt; dist 有 'dist' 改为 '../app/APP_NAME/static'&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;virtualenv&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nb"&gt;cd&lt;/span&gt; PROJ&lt;span class="se"&gt;\_&lt;/span&gt;ROOT
virtualenv venv
&lt;span class="nb"&gt;source&lt;/span&gt; venv/bin/activate
pip install flask
pip install sqlalchemy
pip install flask-sqlalchemy
...
pip freeze &amp;gt; app/requirements.txt
&lt;/pre&gt;&lt;/div&gt;
&lt;ol&gt;
&lt;li&gt;构建Flask工程&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;mkdir -p PROJ&lt;span class="se"&gt;\_&lt;/span&gt;ROOT/app/APP&lt;span class="se"&gt;\_&lt;/span&gt;NAME/common
mkdir -p PROJ&lt;span class="se"&gt;\_&lt;/span&gt;ROOT/app/APP&lt;span class="se"&gt;\_&lt;/span&gt;NAME/models
mkdir -p PROJ&lt;span class="se"&gt;\_&lt;/span&gt;ROOT/app/APP&lt;span class="se"&gt;\_&lt;/span&gt;NAME/static
mkdir -p PROJ&lt;span class="se"&gt;\_&lt;/span&gt;ROOT/app/APP&lt;span class="se"&gt;\_&lt;/span&gt;NAME/templates
mkdir -p PROJ&lt;span class="se"&gt;\_&lt;/span&gt;ROOT/app/APP&lt;span class="se"&gt;\_&lt;/span&gt;NAME/views

touch PROJ&lt;span class="se"&gt;\_&lt;/span&gt;ROOT/app/APP&lt;span class="se"&gt;\_&lt;/span&gt;NAME/common/__init__.py
touch PROJ&lt;span class="se"&gt;\_&lt;/span&gt;ROOT/app/APP&lt;span class="se"&gt;\_&lt;/span&gt;NAME/models/__init__.py
touch PROJ&lt;span class="se"&gt;\_&lt;/span&gt;ROOT/app/APP&lt;span class="se"&gt;\_&lt;/span&gt;NAME/views/__init__.py
&lt;/pre&gt;&lt;/div&gt;
&lt;ol&gt;
&lt;li&gt;配置git&lt;/li&gt;
&lt;/ol&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nb"&gt;cd&lt;/span&gt; PROJ&lt;span class="se"&gt;\_&lt;/span&gt;ROOT
mv web/.gitattributes .
rm -f web/.gitignore
cat &amp;gt; .gitignore &lt;span class="s"&gt;&amp;lt;&amp;lt; EOF&lt;/span&gt;
&lt;span class="s"&gt;web/node_modules&lt;/span&gt;
&lt;span class="s"&gt;web/.tmp&lt;/span&gt;
&lt;span class="s"&gt;web/.sass-cache&lt;/span&gt;
&lt;span class="s"&gt;web/bower_components&lt;/span&gt;
&lt;span class="s"&gt;dist&lt;/span&gt;
&lt;span class="s"&gt;venv&lt;/span&gt;
&lt;span class="s"&gt;EOF&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h1 id="shi-yong_1"&gt;使用&lt;/h1&gt;
&lt;p&gt;以上是工程框架搭建的过程，对于开发人员，不需要要这么麻烦，只要从版本库中获取源代码后进行初始化即可：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;git clone xxxx &lt;span class="nb"&gt;cd&lt;/span&gt; PROJ_ROOT
virtualenv venv
&lt;span class="nb"&gt;source&lt;/span&gt; venv/bin/activate
pip install -r app/requirements.txt
&lt;span class="nb"&gt;cd&lt;/span&gt; web
npm install
bower install
&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id="qi-dong-qian-duan"&gt;启动前端&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nb"&gt;cd&lt;/span&gt; PROJ_ROOT/web
grunt serve
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;然后通过http://0.0.0.0:9000可以访问前端界面。&lt;/p&gt;
&lt;h2 id="qi-dong-hou-duan"&gt;启动后端&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nb"&gt;cd&lt;/span&gt; PROJ&lt;span class="se"&gt;\_&lt;/span&gt;ROOT/app
python run.py
&lt;/pre&gt;&lt;/div&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;然后通过http://127.0.0.1:5000/ 访问后端应用。
&lt;/pre&gt;&lt;/div&gt;
&lt;h1 id="zhi-shi-zhun-bei_1"&gt;知识准备&lt;/h1&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;在开始开发之前，开发人员最好熟悉以下内容：

- Bootstrap入门: http://v3.bootcss.com/getting-started/
- Angularjs入门教程: http://www.ituring.com.cn/article/13471
- Flask系列教程 :http://www.oschina.net/translate/the-flask-mega-tutorial-part-i-hello-world
- SQLAlchemy教程:
&lt;/pre&gt;&lt;/div&gt;
&lt;h1 id="can-kao-zi-liao"&gt;参考资料&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;NPM小结 chyingp http://www.cnblogs.com/chyingp/p/npm.html&lt;/li&gt;
&lt;li&gt;bower解决js的依赖管理 | 粉丝日志
    http://blog.fens.me/nodejs-bower-intro/&lt;/li&gt;
&lt;li&gt;getting started with Yeoman http://yeoman.io/learning/index.html&lt;/li&gt;
&lt;li&gt;Yeoman自动构建js项目 | 粉丝日志
    http://blog.fens.me/nodejs-yeoman-intro/&lt;/li&gt;
&lt;li&gt;grunt让Nodejs规范起来 | 粉丝日志
    http://blog.fens.me/nodejs-grunt-intro/&lt;/li&gt;
&lt;li&gt;Bootstrap入门 http://v3.bootcss.com/getting-started/&lt;/li&gt;
&lt;li&gt;AngularJS入门教程 http://www.ituring.com.cn/article/13471&lt;/li&gt;
&lt;li&gt;Flask系列教程
    http://www.oschina.net/translate/the-flask-mega-tutorial-part-i-hello-world&lt;/li&gt;
&lt;li&gt;使用 Flask 和 AngularJS 构建博客 - 1
    http://segmentfault.com/a/1190000000654088&lt;/li&gt;
&lt;li&gt;使用 Flask 和 AngularJS 构建博客 - 2
    http://segmentfault.com/a/1190000000665636&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;p&gt;references:
- id: fenner2012a
  title: One-click science marketing
    author:
      - family: Fenner
        given: Martin
        container-title: Nature Materials
        volume: 11
        URL: 'http://dx.doi.org/10.1038/nmat3283'
        DOI: 10.1038/nmat3283
        issue: 4
        publisher: Nature Publishing Group
        page: 261-263
        type: article-journal
        issued:
        year: 2012
        month: 3&lt;/p&gt;
&lt;hr/&gt;&lt;/hr&gt;</content><category term="web"></category><category term="env"></category></entry><entry><title>持续集成(CI)工具的作用</title><link href="http://holbrook.github.io/2014/03/04/ci_tools.html" rel="alternate"></link><published>2014-03-04T00:00:00+08:00</published><updated>2014-03-04T00:00:00+08:00</updated><author><name>Holbrook</name></author><id>tag:holbrook.github.io,2014-03-04:/2014/03/04/ci_tools.html</id><summary type="html"></summary><content type="html">&lt;h1 id="ge-ren-shi-dai-de-ruan-jian-kai-fa"&gt;个人时代的软件开发&lt;/h1&gt;
&lt;p&gt;众所周知，软件开发一般需要编码、构建、测试、打包、发布等步骤，如下图：&lt;/p&gt;
&lt;p&gt;{% graphviz
    dot {
        digraph G{
            rankdir=LR
            Code -&amp;gt; Build -&amp;gt; Test -&amp;gt; Package -&amp;gt; Deploy
        }
    }
%}&lt;/p&gt;
&lt;p&gt;在&amp;ldquo;个人英雄&amp;rdquo;时代，一个人完成所有的事情，一切都不是问题。&lt;/p&gt;
&lt;h1 id="tuan-dui-kai-fa"&gt;团队开发&lt;/h1&gt;
&lt;p&gt;很快，软件的规模就上升到了个人无法完成的程度。这就需要团队开发。在团队开发模式中，一定要解决代码共享的问题:&lt;/p&gt;
&lt;p&gt;{% graphviz
    dot {
        digraph G{
          rankdir=LR&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;      subgraph cluster_process {
        label="开发过程"
        graph [rankdir=LR]

        Code -&amp;gt; Build -&amp;gt; Test -&amp;gt; Package -&amp;gt; Deploy
      }

      repo1 [shape="folder" label="代码库"]
      repo2 [shape="folder" label="配置库"  style="dashed"]


      Code -&amp;gt; repo1
      Build -&amp;gt; repo2
    }
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;%}&lt;/p&gt;
&lt;p&gt;图中的&amp;ldquo;代码库&amp;rdquo;，通常由版本管理软件负责，比如git,svn。&lt;/p&gt;
&lt;p&gt;对于软件的配置信息，开发团队通常不会很十分在意&amp;mdash;&amp;mdash;要么随源代码一起放入版本库，要么由&amp;ldquo;实施人员&amp;rdquo;临时配置。&lt;/p&gt;
&lt;h1 id="kai-fa-he-yun-wei"&gt;开发和运维&lt;/h1&gt;
&lt;p&gt;企业应用的环境中，通常开发团队和运维团队是分开的。这就形成了一堵墙:&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="./assets/images/WallOfConfusion_Release.png"/&gt;&lt;/p&gt;
&lt;p&gt;当软件系统从墙的一端(Dev)传递到另一端(Ops)时，会发生各种各样不可预知的情况发生。这些&amp;ldquo;异常&amp;rdquo;通常是由于交付了不正确的东西：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;开发人员不清楚生成环境，而运维人员又搞不定即没有规范又没有文档的配置&lt;/li&gt;
&lt;li&gt;开发过程中的不成熟版本进入了生成环境&lt;/li&gt;
&lt;li&gt;&amp;hellip;&amp;hellip;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;在开发团队和运维团队之间，也应该有一个信息交换和缓冲带，主要是：&lt;/p&gt;
&lt;p&gt;{% graphviz
    dot {
        digraph G{
          rankdir=LR&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;      subgraph cluster_process {
        label="开发过程"
        graph [rankdir=LR]

        Code -&amp;gt; Build -&amp;gt; Test -&amp;gt; Package -&amp;gt; Deploy
      }

      repo1 [shape="folder" label="代码库"]
      repo2 [shape="folder" label="配置库"]
      repo3 [shape="folder" label="交付库"]

      Code -&amp;gt; repo1
      Build -&amp;gt; repo2
      Package -&amp;gt; repo3 -&amp;gt; Deploy
    }
}
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;%}&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;配置库&lt;/p&gt;
&lt;p&gt;有严格的环境(开发、测试、生产环境)区分，有版本管理的配置库，开发人员和运维人员各自维护自己需要的配置信息。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;交付库&lt;/p&gt;
&lt;p&gt;经过测试，符合要求的软件版本，经过规范的打包后，才允许进入交付库。交付库的软件包是部署生成环境的唯一来源。&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id="zi-dong-hua-gong-ju"&gt;自动化工具&lt;/h1&gt;
&lt;p&gt;有了代码库、配置库和交付库，加上繁杂的管理规范、流程指南，额外配上检查员、管理员，大概就可以完成上述的过程。&lt;/p&gt;
&lt;p&gt;但是，我们需要自动化！持续集成(CI)工具就是时上述过程自动化的有力工具&amp;mdash;&amp;mdash;以至于随时可以以很小的代价将上述过程跑一遍。&lt;/p&gt;
&lt;p&gt;持续集成工具的主要功能如下图：&lt;/p&gt;
&lt;p&gt;{% graphviz
    dot {
        digraph G{
          graph [layout="dot"]&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;      repo1 -&amp;gt; {Code m1}
      Code -&amp;gt; Build -&amp;gt; Test -&amp;gt; Package -&amp;gt; Deploy
    //  Code -&amp;gt; repo1 -&amp;gt; m1

      m2 -&amp;gt; Build
      m4 -&amp;gt; {Build Test Package Deploy}
      Package -&amp;gt; m3
      m5 -&amp;gt; servers

      repo1 [shape="folder" label="代码库"]
      {rank=same; repo1; Code ; Build ; Test ; Package ; Deploy; servers}

      subgraph cluster_ci {
        label="持续集成"
        {rank=same; m1; m2; m3; m4; m5}
        m1 [label="工程管理" shape="rect"]
        m2 [label="配置库" shape="folder"]
        m3 [label="交付库" shape="folder"]
        m4 [label="自动执行" shape="rect"]
        m5 [label="发布管理" shape="rect"]
      }

      servers  [label="服务器" shape="box3d"]

    }
}
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;%}&lt;/p&gt;
&lt;p&gt;CI工具实现了与代码库关联的软件工程管理，能够自动执行构建、测试、打包、发布等操作。
CI工具通常内置了配置库和交付库，在自动构建时可以从配置库获取配置信息，在自动发布时从交付库取得指定的软件版本并部署到服务器。
此外，CI工具还会提供事件通知、生成报告等功能。&lt;/p&gt;
&lt;h1 id="chang-jian-de-cigong-ju"&gt;常见的CI工具&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://hudson-ci.org/"&gt;Hudson&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;这个大概是最流行的CI工具了，使用Java开发。&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="./assets/images/ci-hudson.jpg"/&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="http://buildbot.net/"&gt;BuildBot&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;使用Python语言开发。好用，但是有点小众。&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="./assets/images/ci-buildbot.jpg"/&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="http://jenkins-ci.org/"&gt;Jenkins&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;也是使用Java开发。 &lt;img alt="" src="./assets/images/12323PJW.png"/&gt;&lt;/p&gt;</content><category term="软件过程"></category></entry><entry><title>Apache Karaf：OSGi中间件</title><link href="http://holbrook.github.io/2014/02/20/apache_karaf.html" rel="alternate"></link><published>2014-02-20T00:00:00+08:00</published><updated>2014-02-20T00:00:00+08:00</updated><author><name>Holbrook</name></author><id>tag:holbrook.github.io,2014-02-20:/2014/02/20/apache_karaf.html</id><summary type="html">&lt;h1 id="wei-shi-yao-xu-yao-osgizhong-jian-jian"&gt;为什么需要&amp;ldquo;OSGi中间件&amp;rdquo;&lt;/h1&gt;
&lt;p&gt;尽管在OSGi Runtime(Felix, Equinox等)的基础上，OSGi组织又规定了&lt;a href="/2014/01/22/osgi_blueprint_container.html"&gt;Blueprint规范以实现OSGi环境下的依赖注入&lt;/a&gt;，
但这还不够&amp;mdash;&amp;mdash;没有提供类似Web开发框架那样的一些&amp;ldquo;平台级&amp;rdquo;的功能。比如日志，控制台，配置文件等。&lt;/p&gt;
&lt;p&gt;很难想象没有Tomcat这样的Web中间件，开发Java Web应用的工作量有多大。同样的，OSGi应用也需要一种&amp;ldquo;中间件&amp;rdquo;，来实现各应用共性的一些功能，并管理应用的部署。&lt;/p&gt;
&lt;p&gt;&lt;a href="http://karaf.apache.org/"&gt;Apache Karaf&lt;/a&gt;就是这样的一个"OSGi中间件"。最早，Karaf只是&lt;a href="http://servicemix.apache.org/"&gt;Apache ServiceMix&lt;/a&gt;的Kernel子项目，后来独立出来成为Apache的顶级项目。
目前，Apache Karaf已经用于Apache Geronimo, Apache ServiceMix, Fuse ESB等项目。&lt;/p&gt;
&lt;p&gt;Apache Karaf的主要竞争对手是&lt;a href="http://www.eclipse.org/virgo/"&gt;Eclipse Virgo&lt;/a&gt;。&lt;/p&gt;
&lt;h1 id="apache-karafde-gong-neng"&gt;Apache Karaf的功能&lt;/h1&gt;
&lt;p&gt;&lt;img alt="" src="images/fuse/Karaf.jpg"/&gt;&lt;/p&gt;
&lt;p&gt;Apache Karaf提供了如下 …&lt;/p&gt;</summary><content type="html">&lt;h1 id="wei-shi-yao-xu-yao-osgizhong-jian-jian"&gt;为什么需要&amp;ldquo;OSGi中间件&amp;rdquo;&lt;/h1&gt;
&lt;p&gt;尽管在OSGi Runtime(Felix, Equinox等)的基础上，OSGi组织又规定了&lt;a href="/2014/01/22/osgi_blueprint_container.html"&gt;Blueprint规范以实现OSGi环境下的依赖注入&lt;/a&gt;，
但这还不够&amp;mdash;&amp;mdash;没有提供类似Web开发框架那样的一些&amp;ldquo;平台级&amp;rdquo;的功能。比如日志，控制台，配置文件等。&lt;/p&gt;
&lt;p&gt;很难想象没有Tomcat这样的Web中间件，开发Java Web应用的工作量有多大。同样的，OSGi应用也需要一种&amp;ldquo;中间件&amp;rdquo;，来实现各应用共性的一些功能，并管理应用的部署。&lt;/p&gt;
&lt;p&gt;&lt;a href="http://karaf.apache.org/"&gt;Apache Karaf&lt;/a&gt;就是这样的一个"OSGi中间件"。最早，Karaf只是&lt;a href="http://servicemix.apache.org/"&gt;Apache ServiceMix&lt;/a&gt;的Kernel子项目，后来独立出来成为Apache的顶级项目。
目前，Apache Karaf已经用于Apache Geronimo, Apache ServiceMix, Fuse ESB等项目。&lt;/p&gt;
&lt;p&gt;Apache Karaf的主要竞争对手是&lt;a href="http://www.eclipse.org/virgo/"&gt;Eclipse Virgo&lt;/a&gt;。&lt;/p&gt;
&lt;h1 id="apache-karafde-gong-neng"&gt;Apache Karaf的功能&lt;/h1&gt;
&lt;p&gt;&lt;img alt="" src="images/fuse/Karaf.jpg"/&gt;&lt;/p&gt;
&lt;p&gt;Apache Karaf提供了如下&amp;ldquo;开箱即用&amp;rdquo;的功能：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;热部署&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;尽管OSGi支持热部署，但并不是自动热部署，需要调用一些API去执行插拔的动作。Karaf在运行时可以自动处理&lt;code&gt;[home]/deploy&lt;/code&gt;文件夹中的OSGi bundle，能够自动加载并在满足依赖关系时自动启动。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;动态配置&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Karaf在&lt;code&gt;$KARAF_HOME/etc&lt;/code&gt;文件夹中存储配置文件。这些配置内容可以在Karaf运行时动态修改。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;日志处理&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;基于Log4J的日志系统，同时支持多种日志API，如JDK 1.4, JCL, SLF4J, Avalon, Tomcat, OSGi等。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;系统服务&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Karaf可以作为系统服务运行。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;控制台&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;可以在控制台进行服务管理、安装bundle等操作。还可以扩展自己的控制台命令。&lt;/p&gt;
&lt;p&gt;可以通过SSH远程访问其他服务器上的Karaf控制台。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;多实例管理&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;一个服务器上可以运行多个Karaf实例。对实例的管理可以在Karaf控制台中进行。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Bundle仓库&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Karaf中内置了&lt;a href="https://ops4j1.jira.com/wiki/display/paxurl/Pax+URL"&gt;Pax URL&lt;/a&gt;的MVN协议，可以从Maven中央仓库安装bundle。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Bundle集合(Feature)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;类似于Eclipse的Feature，Karaf中也支持Feature，即bundle的集合。使用Feature可以简化OSGi应用的部署。&lt;/p&gt;
&lt;h1 id="karafchu-ti-yan"&gt;Karaf初体验&lt;/h1&gt;
&lt;p&gt;安装好Java环境，加压缩Karaf，执行&lt;code&gt;$KARAF_HOME/bin/karaf&lt;/code&gt;，可以看到Karaf的启动界面：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="images/karaf/karaf1.png"/&gt;&lt;/p&gt;
&lt;p&gt;如图的提示，使用&lt;code&gt;&amp;lt;tab&amp;gt;&lt;/code&gt;可以列出所有可用的命令，所有的命令支持&lt;code&gt;--help&lt;/code&gt;参数。&lt;/p&gt;
&lt;p&gt;如果执行&lt;code&gt;list&lt;/code&gt;命令，可以列出所有的bundles:&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="images/karaf/karaf2.png"/&gt;&lt;/p&gt;
&lt;p&gt;还有很多其他的命令，比如&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;bundle:install&lt;/code&gt; 安装bundle&lt;/li&gt;
&lt;li&gt;&lt;code&gt;feature:repo-add&lt;/code&gt; 安装feature库&lt;/li&gt;
&lt;li&gt;&lt;code&gt;feature:install&lt;/code&gt; 安装feature&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;等等。详情可以参考官方的&lt;a href="http://karaf.apache.org/manual/latest/quick-start.html"&gt;Quick Start&lt;/a&gt;。&lt;/p&gt;
&lt;p&gt;如果查看Karaf的目录，可以看到如下的目录结构：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;/bin&lt;/code&gt;: 启动、停止、登录karaf控制台的脚本&lt;/li&gt;
&lt;li&gt;&lt;code&gt;/etc&lt;/code&gt;: 配置文件&lt;/li&gt;
&lt;li&gt;&lt;code&gt;/data&lt;/code&gt;: 存放运行时的工作文件，清空这个目录可以使Karaf回到初始状态&lt;/li&gt;
&lt;li&gt;&lt;code&gt;/cache&lt;/code&gt;: OSGi framework的bundle缓存&lt;/li&gt;
&lt;li&gt;&lt;code&gt;/generated-bundles&lt;/code&gt;: 开发用的临时目录&lt;/li&gt;
&lt;li&gt;&lt;code&gt;/log&lt;/code&gt;: 日志&lt;/li&gt;
&lt;li&gt;&lt;code&gt;/deploy&lt;/code&gt;: 用于bundle的热部署&lt;/li&gt;
&lt;li&gt;&lt;code&gt;/instances&lt;/code&gt;: 存放karaf的各个实例用到的数据&lt;/li&gt;
&lt;li&gt;&lt;code&gt;/lib&lt;/code&gt;: 启动Karaf时需要的一些库&lt;/li&gt;
&lt;li&gt;&lt;code&gt;/lib/ext&lt;/code&gt;: Karaf需要的扩展库&lt;/li&gt;
&lt;li&gt;&lt;code&gt;/lib/endorsed&lt;/code&gt;: Karaf对其他API的再封装(背书)的一些jar包&lt;/li&gt;
&lt;li&gt;&lt;code&gt;/system&lt;/code&gt;: OSGi bundles库，使用Maven 2仓库的结构&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id="karafqi-dong-mo-shi-he-shi-li"&gt;Karaf启动模式和实例&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;常规模式(regular mode) 使用命令&lt;code&gt;bin/karaf&lt;/code&gt;，可以在前端启动Karaf并进入控制台&lt;/li&gt;
&lt;li&gt;服务模式(server mode) 使用命令&lt;code&gt;bin/karaf server&lt;/code&gt;，可以在前端启动Karaf，但不进入控制台&lt;/li&gt;
&lt;li&gt;后台模式(background mode) 使用命令&lt;code&gt;bin/start&lt;/code&gt;，可以在后台启动Karaf。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;如果安装了service-wrapper(可以在Karaf中执行&lt;code&gt;feature:install service-wrapper&lt;/code&gt;)，还可以将
Karaf安装为系统服务。&lt;/p&gt;
&lt;p&gt;一个Karaf节点可以运行多个"Karaf实例"。实际上，默认情况下Karaf会启动一个名为&lt;code&gt;root&lt;/code&gt;的实例。
实例是包含单独的配置文件、数据文件等信息的一个Karaf副本，每个实例可以单独启动或部署bundle。&lt;/p&gt;
&lt;p&gt;Karaf控制台中提供了一些管理实例的命令：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;instance:create&lt;/code&gt; 创建实例&lt;/li&gt;
&lt;li&gt;&lt;code&gt;instance:clone&lt;/code&gt; 从现有的实例克隆一个新的实例&lt;/li&gt;
&lt;li&gt;&lt;code&gt;instance:start&lt;/code&gt; 启动实例&lt;/li&gt;
&lt;li&gt;&lt;code&gt;instance:status&lt;/code&gt; 查看实例状态&lt;/li&gt;
&lt;li&gt;&lt;code&gt;instance:connect&lt;/code&gt; 连接(切换)到某个实例&lt;/li&gt;
&lt;li&gt;&lt;code&gt;instance:stop&lt;/code&gt; 停止实例&lt;/li&gt;
&lt;li&gt;&lt;code&gt;instance:destroy&lt;/code&gt; 删除实例&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id="ssh-ke-hu-duan-he-webkong-zhi-tai"&gt;ssh、客户端和Web控制台&lt;/h1&gt;
&lt;p&gt;Karaf内置了一个SSHd server，可以通过ssh远程访问Karaf控制台。
要启动远程控制台服务，需要在控制台中启动bundle: &lt;code&gt;bundle:restart -f org.apache.karaf.shell.ssh&lt;/code&gt;。此时，远端可以使用ssh远程访问控制台，比如: &lt;code&gt;ssh -p 8101 karaf@localhost&lt;/code&gt;。默认karaf用户的密码也是karaf。ssh的用户、密码、端口等都可以在&lt;code&gt;etc/org.apache.karaf.shell.cfg&lt;/code&gt;中配置。&lt;/p&gt;
&lt;p&gt;Karaf的客户端'bin/client'即可以连接本地控制台，也可以通过ssh连接远程控制台，甚至可以执行单个的命令。比如：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;bin/client -u karaf -p karaf -a 8101 hostname osgi:shutdown
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Karaf还可以安装Web控制台(&lt;code&gt;feature:install webconsole&lt;/code&gt;)。通过Web控制台能够管理
Karaf的bundle、feature、实例、配置以及查看日志。启动web控制台后，默认可以通过&lt;a href="http://localhost:8181/system/console"&gt;http://localhost:8181/system/console&lt;/a&gt;
访问web控制台，默认的用户名/密码为&lt;code&gt;karaf/karaf&lt;/code&gt;。Web控制台的配置文件位于&lt;code&gt;etc/org.ops4j.pax.web.cfg&lt;/code&gt;。&lt;/p&gt;
&lt;h1 id="bundle-urlhe-bundlecang-ku"&gt;bundle URL和bundle仓库&lt;/h1&gt;
&lt;p&gt;Karaf在安装bundle时，可以使用多种URL来定位bundle，比如：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;http &lt;code&gt;http://repo1.maven.org/maven2/org/apache/servicemix/nmr/org.apache.servicemix.nmr.api/1.0.0-m2/org.apache.servicemix.nmr.api-1.0.0-m2.jar&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;file &lt;code&gt;file:base/bundles/org.apache.servicemix.nmr.api-1.0.0-m2.jar&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;maven库 &lt;code&gt;mvn:org.apache.servicemix.nmr/org.apache.servicemix.nmr.api/1.0.0-m2&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;其中，maven库方式是使用maven库作为bundle仓库，从其中检索需要的bundle。与maven类似，可以自动解决bundle之间的依赖问题。
Karaf提供了OBR (OSGi Bundle Repository)，能够管理bundle仓库。在控制台使用命令&lt;code&gt;feature:install obr&lt;/code&gt;安装OBR之后，就可以：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;增加新的bundle仓库&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;obr:url-add file:///user/.m2/repository/repository.xml&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;查看已安装的bundle仓库&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;obr:url-list&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;刷新仓库&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;obr:url-refresh&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;删除仓库&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;obr:url-remove&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;列出所有可用的bundle&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;obr:list&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;查找bundle&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;obr:find&lt;/code&gt;&lt;/p&gt;
&lt;h1 id="osgiying-yong-karaf-featurehe-kar"&gt;OSGi应用，Karaf Feature和KAR&lt;/h1&gt;
&lt;p&gt;OSGi运行的基本单元是bundle，bundle之间有依赖关系。一组满足依赖关系的bundle集合，加上相关的配置信息，称为一个&amp;ldquo;OSGi应用&amp;rdquo;。
将OSGi应用部署到Karaf的行为称为&amp;ldquo;provisioning&amp;rdquo;。&lt;/p&gt;
&lt;p&gt;为了简化OSGi应用的部署，Karaf定义了feature，用于描述OSGi应用的部署信息，包括：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;名称&lt;/li&gt;
&lt;li&gt;版本号&lt;/li&gt;
&lt;li&gt;描述信息&lt;/li&gt;
&lt;li&gt;bundle集合&lt;/li&gt;
&lt;li&gt;配置文件信息&lt;/li&gt;
&lt;li&gt;依赖的其他feature&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;可以看出，Karaf中的feature与Eclipse Feature非常类似。&lt;/p&gt;
&lt;p&gt;Karaf控制台中提供了一系列的feature和feature库的管理命令，包括：
- feature:info
- feature:install
- feature:list
- feature:repo-add
- feature:repo-list
- feature:repo-refresh
- feature:repo-remove
- feature:uninstall
- feature:version-list&lt;/p&gt;
&lt;p&gt;由于feature中可能使用远端的bundle，Karaf提出了&lt;code&gt;KAR&lt;/code&gt;格式，可以把一个bundle相关的所有资源打包在一起。
这类似于使用maven定义的web工程，和最终打包的war文件之间的关系。
Karaf控制台中，可以打包(&lt;code&gt;kar:create&lt;/code&gt;)、安装(&lt;code&gt;kar:install&lt;/code&gt;)、卸载(&lt;code&gt;kar:uninstall&lt;/code&gt;)或列出(&lt;code&gt;kar:list&lt;/code&gt;)KAR文件。&lt;/p&gt;
&lt;h1 id="qi-ye-ji-te-xing"&gt;企业级特性&lt;/h1&gt;
&lt;p&gt;Karaf提供了一系列的功能，以支持企业级应用的开发，包括：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;日志&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Karaf提供了&lt;a href="http://karaf.apache.org/manual/latest/users-guide/log.html"&gt;灵活的日志系统&lt;/a&gt;，支持&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;OSGi Log Service&lt;/li&gt;
&lt;li&gt;Log4j&lt;/li&gt;
&lt;li&gt;Commons Logging&lt;/li&gt;
&lt;li&gt;Logback&lt;/li&gt;
&lt;li&gt;SLF4J&lt;/li&gt;
&lt;li&gt;java Util Logging&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;等日志框架。不管应用中使用了上述哪种日志框架，Karaf中都可以进行统一的管理，如log level, appender等。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;安全&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Karaf提供了基于JAAS(Java Authentication and Authorization Service)的&lt;a href="http://karaf.apache.org/manual/latest/users-guide/security.html"&gt;安全框架&lt;/a&gt;，可以控制对OSGi service、控制台命令、JMX、Web控制台等资源的访问。并且在应用中也可以使用Karaf的安全框架。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Web&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Karaf可以&lt;a href="http://karaf.apache.org/manual/latest/users-guide/webcontainer.html"&gt;作为Web容器&lt;/a&gt;使用，完全支持JSP/Servlet规范。
  Karaf的Web容器同时支持WAR和WAB的部署。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;JNDI&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Karaf&lt;a href="http://karaf.apache.org/manual/latest/users-guide/jndi.html"&gt;支持OSGi中的JNDI服务&lt;/a&gt;。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;JDBC、JPA和JTA&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Karaf中即可以&lt;a href="http://karaf.apache.org/manual/latest/users-guide/jdbc.html"&gt;使用JDBC&lt;/a&gt;直接连接数据库，
  也可以&lt;a href="http://karaf.apache.org/manual/latest/users-guide/jpa.html"&gt;使用JPA&lt;/a&gt;作为持久层框架。Karaf可以通过Blueprint管理JPA的persist Unit。&lt;/p&gt;
&lt;p&gt;Karaf支持&lt;a href="http://karaf.apache.org/manual/latest/users-guide/jta.html"&gt;JTA&lt;/a&gt;，以实现容器管理的事务。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;其他&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Karaf还支持&lt;a href="http://karaf.apache.org/manual/latest/users-guide/ejb.html"&gt;EJB&lt;/a&gt;、&lt;a href="http://karaf.apache.org/manual/latest/users-guide/cdi.html"&gt;CDI&lt;/a&gt;、&lt;a href="http://karaf.apache.org/manual/latest/users-guide/monitoring.html"&gt;JMX&lt;/a&gt;、&lt;a href="http://karaf.apache.org/manual/latest/users-guide/jms.html"&gt;JMS&lt;/a&gt;等企业级特性。&lt;/p&gt;
&lt;p&gt;Karaf内置支持主备方式的部署，以保证高可用。使用&lt;a href="http://karaf.apache.org/index/subprojects/cellar.html"&gt;Apache Karaf Cellar&lt;/a&gt;可以实现Karaf的集群部署。&lt;/p&gt;</content><category term="OSGi"></category></entry><entry><title>在markdown中嵌入graphviz</title><link href="http://holbrook.github.io/2014/02/17/graphviz_in_markdown.html" rel="alternate"></link><published>2014-02-17T00:00:00+08:00</published><updated>2014-02-17T00:00:00+08:00</updated><author><name>Holbrook</name></author><id>tag:holbrook.github.io,2014-02-17:/2014/02/17/graphviz_in_markdown.html</id><summary type="html"></summary><content type="html">&lt;h1 id="zai-markdownzhong-qian-ru-graphviz"&gt;在markdown中嵌入graphviz&lt;/h1&gt;
&lt;h2 id="gravizocom"&gt;gravizo.com&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;![txt](http://g.gravizo.com/g?
  digraph G {
    aize ="4,4";
    main [shape=box];
    main -&amp;gt; parse [weight=8];
    parse -&amp;gt; execute;
    main -&amp;gt; init [style=dotted];
    main -&amp;gt; cleanup;
    execute -&amp;gt; { make_string; printf}
    init -&amp;gt; make_string;
    edge [color=red];
    main -&amp;gt; printf [style=bold,label="100 times"];
    make_string [label="make a string"];
    node [shape=box,style=filled,color=".7 .3 1.0"];
    execute -&amp;gt; compare;
  }
)
&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id="abc"&gt;abc&lt;/h2&gt;</content><category term="graph"></category><category term="markdown"></category></entry><entry><title>Graphviz概述</title><link href="http://holbrook.github.io/2014/02/17/graphviz_intro.html" rel="alternate"></link><published>2014-02-17T00:00:00+08:00</published><updated>2014-02-17T00:00:00+08:00</updated><author><name>Holbrook</name></author><id>tag:holbrook.github.io,2014-02-17:/2014/02/17/graphviz_intro.html</id><summary type="html">&lt;p&gt;Graphviz是一个强大的绘图工具，使用DOT语言描述图像。&lt;/p&gt;</summary><content type="html">&lt;h1 id="graphvizshi-shi-yao"&gt;Graphviz是什么&lt;/h1&gt;
&lt;p&gt;&lt;a href="http://www.graphviz.org/"&gt;Graphviz&lt;/a&gt;是基于dot语言的绘图工具，可以画有向图、无向图、关系图、目录图、流程图等各种你知道的或不知道的图形。可以欣赏Graphviz的&lt;a href="http://www.graphviz.org/Gallery.php"&gt;Gallery&lt;/a&gt;，以及Yifan Hu的&lt;a href="http://www2.research.att.com/~yifanhu/GALLERY/GRAPHS/index1.html"&gt;gallery of large graphs&lt;/a&gt;。&lt;/p&gt;
&lt;p&gt;Graphviz使用&lt;a href="http://zh.wikipedia.org/wiki/DOT%E8%AF%AD%E8%A8%80"&gt;DOT语言&lt;/a&gt;描述图形，并提供一组工具：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;dot&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;将生成的图形转换成多种输出格式，如PostScript，PDF，SVG，PNG，含注解的文本等等。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;neato&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;用于sprint model的生成（在Mac OS版本中称为energy minimized）。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;twopi&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;用于放射状图形的生成&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;circo&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;用于圆形图形的生成。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;fdp&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;另一个用于生成无向图的工具。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;dotty&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;一个用于可视化与修改图形的图形用户界面程序。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;lefty&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;一个可编程的控件，它可以显示DOT图形，并允许用户用鼠标在图上执行操作。Lefty可以作为MVC模型的使用图形的GUI程序中的视图部分。&lt;/p&gt;
&lt;p&gt;Graphviz使用&lt;a href="http://zh.wikipedia.org/wiki/DOT%E8%AF%AD%E8%A8%80"&gt;DOT语言&lt;/a&gt;描述图形，而不是依赖于鼠标绘图，这就提供了无限的可能，主要体现在两个方面：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;自动生成图形描述文件，从而自动生成图形&lt;/li&gt;
&lt;li&gt;更加Geek的写作方式，比如在Org-mode中嵌入图形代码，在导出时自动生成图形文件&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;有一些强大的工具依赖或支持Graphviz，比如&lt;a href="http://www.omnigroup.com/omnigraffle"&gt;OmniGraffle&lt;/a&gt;
和&lt;a href="http://plantuml.sourceforge.net/index.html"&gt;PlantUML&lt;/a&gt;。&lt;/p&gt;
&lt;h1 id="dotyu-yan-jian-jie"&gt;DOT语言简介&lt;/h1&gt;
&lt;p&gt;DOT语言使用离散数学中的Graph描述图形，包括三个基本元素：grahp,node,edge。下面是一个例子：&lt;/p&gt;
&lt;p&gt;&lt;code&gt;example.dot&lt;/code&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;digraph G {
main -&amp;gt; parse -&amp;gt; execute[label="edge label2"];
main -&amp;gt; init[label="edge label1"];
main -&amp;gt; cleanup;
execute -&amp;gt; make_string;
execute -&amp;gt; printf;
init -&amp;gt; make_string;
main -&amp;gt; printf;
execute -&amp;gt; compare;
}
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;执行命令&lt;code&gt;dot -Tpng example.dot -o example.png&lt;/code&gt;，就可以生成如下的图形：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="images/graphviz/example.png"/&gt;&lt;/p&gt;
&lt;p&gt;DOT通过属性可以设置node和edge的样式，比如：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;graph graphname {
     // label属性可以改变节点的显示名称
     a [label="Foo"];     // 节点形状被改变了
     b [shape=box];     // a-b边和b-c边有相同的属性
     a -- b -- c [color=blue];
     b -- d [style=dotted, label="无向图"];
}
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;生成的图形如下：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="images/graphviz/a.png"/&gt;&lt;/p&gt;
&lt;p&gt;更多的属性设置可以参考&lt;a href="http://www.graphviz.org/content/attrs"&gt;官方文档&lt;/a&gt;。&lt;/p&gt;
&lt;h1 id="ying-yong-chang-jing"&gt;应用场景&lt;/h1&gt;
&lt;p&gt;Graphviz可以有很多玩法，常见的比如：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://gashero.iteye.com/blog/1748795"&gt;直接使用Graphviz绘图&lt;/a&gt;，以代替Visio等绘图工具&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.cnblogs.com/lanxuezaipiao/p/3450201.html"&gt;其他工具生成数据，Graphviz进行图表展示&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;利用脚本&lt;a href="http://www.ibm.com/developerworks/cn/aix/library/au-aix-graphviz/index.html?ca=dat"&gt;动态生成图&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;嵌入轻量级标记语言，如org-mode和markdown中&lt;/li&gt;
&lt;/ul&gt;</content><category term="graph"></category></entry><entry><title>Apache Camel的核心概念</title><link href="http://holbrook.github.io/2014/02/10/apache_camel.html" rel="alternate"></link><published>2014-02-10T00:00:00+08:00</published><updated>2014-02-10T00:00:00+08:00</updated><author><name>Holbrook</name></author><id>tag:holbrook.github.io,2014-02-10:/2014/02/10/apache_camel.html</id><summary type="html"></summary><content type="html">&lt;h1 id="apache-camelde-zheng-ti-jia-gou"&gt;Apache Camel的整体架构&lt;/h1&gt;
&lt;p&gt;&lt;a href="http://camel.apache.org/"&gt;Apache Camel&lt;/a&gt;是一个消息处理引擎，实现了EIP(Enterprise Integration Patterns,企业整合模式)。&lt;/p&gt;
&lt;p&gt;Camel能够用来处理来自于不同源的事件和信息，定义规则进行消息的传递和转换等处理，以实现基于消息的应用整合。其整体架构如下图所示：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="images/camel/camel-architecture.png"/&gt;&lt;/p&gt;
&lt;h1 id="message-he-exchange"&gt;Message 和 Exchange&lt;/h1&gt;
&lt;p&gt;&lt;code&gt;org.apache.camel.Message&lt;/code&gt;接口是对&amp;ldquo;消息&amp;rdquo;的抽象。消息由head、body、attachment等部分组成。&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="images/camel/message.png"/&gt;&lt;/p&gt;
&lt;p&gt;Camel中提供了一个默认的实现：&lt;code&gt;org.apache.camel.impl.DefaultMessage&lt;/code&gt;，可以适应大部分的应用场景。&lt;/p&gt;
&lt;p&gt;不管是请求、响应，或者异常，都可以作为消息在上下文(CamelContext)的消息处理器(Processor)之间进行交换(Exchange)。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;org.apache.camel.Exchange&lt;/code&gt;接口就是对&amp;ldquo;消息交换&amp;rdquo;的抽象。&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="images/camel/exchange.png"/&gt;&lt;/p&gt;
&lt;p&gt;其中：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Exchange ID : 区分每次消息交换的标识&lt;/li&gt;
&lt;li&gt;MEP: （message exchange pattern，消息交换模式），分为单向(InOnly)和请求-应答(InOut)两种&lt;/li&gt;
&lt;li&gt;Exception: 用于记录消息交换时发生的异常&lt;/li&gt;
&lt;li&gt;In message: 上一个节点传入的消息&lt;/li&gt;
&lt;li&gt;Out message: 当MEP 是InOut时，需要传出的消息&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Camel提供了默认的&lt;code&gt;org.apache.camel.impl.DefaultExchange&lt;/code&gt;实现。&lt;/p&gt;
&lt;p&gt;Camel处理消息时，每个节点都在处理&lt;code&gt;Exchange&lt;/code&gt;。&lt;/p&gt;
&lt;h1 id="endpoint-he-component"&gt;Endpoint 和 Component&lt;/h1&gt;
&lt;p&gt;Endpoint(端点)，接收或发送消息的通道。通过&lt;a href="http://zh.wikipedia.org/wiki/%E7%BB%9F%E4%B8%80%E8%B5%84%E6%BA%90%E6%A0%87%E5%BF%97%E7%AC%A6"&gt;URI&lt;/a&gt;连接消息源或目标。&lt;/p&gt;
&lt;p&gt;为了适应各种不同的URI协议，如http,ftp,JMS,smtp等，Camel中提供了多种Endpoint，也支持扩展自己的Endpoint。&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="images/camel/endpoints.png"/&gt;&lt;/p&gt;
&lt;p&gt;Component(不应该叫做组件，而应该是连接器connector)。&lt;code&gt;org.apache.camel.Component&lt;/code&gt;接口只定义了两个方法：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;createConfiguration(String)&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;createEndpoint(String)&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;通常，客户代码不会直接调用&lt;code&gt;createEndoint()&lt;/code&gt;方法，而是由&lt;code&gt;CamelContext&lt;/code&gt;对象进行调用。&lt;/p&gt;
&lt;p&gt;Camel中提供了大量的Component的实现：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="images/camel/components.png"/&gt;&lt;/p&gt;
&lt;h1 id="processor"&gt;Processor&lt;/h1&gt;
&lt;p&gt;不管是消息路由(Message Routing)、消息转换(Message Transformation)还是消息过滤(Message Filter)，都是对消息的某种处理(Process)。&lt;/p&gt;
&lt;p&gt;Camel中，抽象出&lt;code&gt;org.apache.camel.Processor&lt;/code&gt;接口，表示对消息的处理。该接口只定义了一个方法：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;    void process(Exchange exchange) throws Exception;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;从接口定义可以看出，Camel中认为可以处理消息交换(Exchange)的类都是消息处理器(Processor)。&lt;/p&gt;
&lt;p&gt;基于Camle的应用可以开发自己的Processor实现，同时Camel提供了大量的内置Processor，以支持&lt;a href="http://camel.apache.org/enterprise-integration-patterns.html"&gt;EIP(Enterprise Integration Patterns)&lt;/a&gt;。&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="images/camel/processor.png"/&gt;&lt;/p&gt;
&lt;h1 id="camelcontext"&gt;CamelContext&lt;/h1&gt;
&lt;p&gt;&lt;img alt="" src="images/camel/camel_context.jpg"/&gt;&lt;/p&gt;
&lt;p&gt;CamelContext是对Camel运行时的抽象，提供了API用于管理Component、Endpoint、Processor等节点：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="images/camel/context.png"/&gt;&lt;/p&gt;
&lt;p&gt;一般来说，使用Camel的步骤如下：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;创建一个CamelContext对象。&lt;/li&gt;
&lt;li&gt;向CamelContext对象中添加Endpoints或者是Components&lt;/li&gt;
&lt;li&gt;向CamelContext对象中添加路由(routes)规则&lt;/li&gt;
&lt;li&gt;调用CamelContext的start()方法启动Camel引擎&lt;/li&gt;
&lt;li&gt;通过Endpoint发送或接收消息&lt;/li&gt;
&lt;li&gt;调用CamelContext的stop()方法时&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id="ding-yi-lu-you-route"&gt;定义路由(Route)&lt;/h1&gt;
&lt;p&gt;每个消息处理流程是由一系列的&lt;code&gt;Processor&lt;/code&gt;连接而成的图(Graph)，每个图称为一个路由(Route)。&lt;/p&gt;
&lt;p&gt;在开始使用Camel之前，需要在CamelContext中定义一个或多个路由。Camel支持使用DSL或者Spring XML进行配置。比如：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;        &lt;span class="nt"&gt;RouteBuilder&lt;/span&gt; &lt;span class="nt"&gt;builder&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nt"&gt;new&lt;/span&gt; &lt;span class="nt"&gt;RouteBuilder&lt;/span&gt;&lt;span class="o"&gt;()&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
            &lt;span class="n"&gt;public&lt;/span&gt; &lt;span class="n"&gt;void&lt;/span&gt; &lt;span class="n"&gt;configure&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="err"&gt;{&lt;/span&gt;
                &lt;span class="n"&gt;from&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"queue:a"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;filter&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;header&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"foo"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;isEqualTo&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"bar"&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;to&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;
                        &lt;span class="s2"&gt;"queue:b"&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
                &lt;span class="n"&gt;from&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"queue:c"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;choice&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;when&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;header&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"foo"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;isEqualTo&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"bar"&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
                        &lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;to&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"queue:d"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;when&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;header&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"foo"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;isEqualTo&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"cheese"&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
                        &lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;to&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"queue:e"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;otherwise&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;to&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"queue:f"&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
            &lt;span class="p"&gt;}&lt;/span&gt;
        &lt;span class="err"&gt;}&lt;/span&gt;&lt;span class="o"&gt;;&lt;/span&gt;

        &lt;span class="nt"&gt;CamelContext&lt;/span&gt; &lt;span class="nt"&gt;myCamelContext&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nt"&gt;new&lt;/span&gt; &lt;span class="nt"&gt;DefaultCamelContext&lt;/span&gt;&lt;span class="o"&gt;();&lt;/span&gt;
        &lt;span class="nt"&gt;myCamelContext&lt;/span&gt;&lt;span class="nc"&gt;.addRoutes&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nt"&gt;builder&lt;/span&gt;&lt;span class="o"&gt;);&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;或者：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;  &lt;span class="nt"&gt;&amp;lt;beans&lt;/span&gt; &lt;span class="na"&gt;xmlns=&lt;/span&gt;&lt;span class="s"&gt;"http://www.springframework.org/schema/beans"&lt;/span&gt;
       &lt;span class="na"&gt;xmlns:xsi=&lt;/span&gt;&lt;span class="s"&gt;"http://www.w3.org/2001/XMLSchema-instance"&lt;/span&gt;
       &lt;span class="na"&gt;xsi:schemaLocation=&lt;/span&gt;&lt;span class="s"&gt;"&lt;/span&gt;
&lt;span class="s"&gt;       http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&lt;/span&gt;
&lt;span class="s"&gt;       http://camel.apache.org/schema/spring http://camel.apache.org/schema/spring/camel-spring.xsd&lt;/span&gt;
&lt;span class="s"&gt;    "&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;

    &lt;span class="c"&gt;&amp;lt;!-- this is an included XML file where we only the the routeContext --&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;routeContext&lt;/span&gt; &lt;span class="na"&gt;id=&lt;/span&gt;&lt;span class="s"&gt;"myCoolRoutes"&lt;/span&gt; &lt;span class="na"&gt;xmlns=&lt;/span&gt;&lt;span class="s"&gt;"http://camel.apache.org/schema/spring"&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
        &lt;span class="c"&gt;&amp;lt;!-- we can have a route --&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;route&lt;/span&gt; &lt;span class="na"&gt;id=&lt;/span&gt;&lt;span class="s"&gt;"cool"&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
            &lt;span class="nt"&gt;&amp;lt;from&lt;/span&gt; &lt;span class="na"&gt;uri=&lt;/span&gt;&lt;span class="s"&gt;"direct:start"&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
            &lt;span class="nt"&gt;&amp;lt;to&lt;/span&gt; &lt;span class="na"&gt;uri=&lt;/span&gt;&lt;span class="s"&gt;"mock:result"&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;/route&amp;gt;&lt;/span&gt;
        &lt;span class="c"&gt;&amp;lt;!-- and another route, you can have as many your like --&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;route&lt;/span&gt; &lt;span class="na"&gt;id=&lt;/span&gt;&lt;span class="s"&gt;"bar"&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
            &lt;span class="nt"&gt;&amp;lt;from&lt;/span&gt; &lt;span class="na"&gt;uri=&lt;/span&gt;&lt;span class="s"&gt;"direct:bar"&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
            &lt;span class="nt"&gt;&amp;lt;to&lt;/span&gt; &lt;span class="na"&gt;uri=&lt;/span&gt;&lt;span class="s"&gt;"mock:bar"&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;/route&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;/routeContext&amp;gt;&lt;/span&gt;

  &lt;span class="nt"&gt;&amp;lt;/beans&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h1 id="fuse-mediation-router-qi-ye-ji-camel"&gt;FUSE Mediation Router: 企业级Camel&lt;/h1&gt;
&lt;p&gt;FuseSource提供Camel的经测试、认证并提供支持的企业级版本，称作&lt;a href="http://fusesource.com/products/enterprise-camel/"&gt;FUSE Mediation Router&lt;/a&gt;。&lt;/p&gt;</content></entry><entry><title>命令行界面设计</title><link href="http://holbrook.github.io/2014/01/30/cli_design.html" rel="alternate"></link><published>2014-01-30T00:00:00+08:00</published><updated>2014-01-30T00:00:00+08:00</updated><author><name>Holbrook</name></author><id>tag:holbrook.github.io,2014-01-30:/2014/01/30/cli_design.html</id><summary type="html">&lt;p&gt;尽管8年后的1973年出现了图形界面程序，
16年后的1981年出现了图形界面的操作系统，
但是在此之后，至今三十几年过去了，图形界面(GUI)仍无法取代命令行界面(CLI)。&lt;/p&gt;</summary><content type="html">&lt;h1 id="ming-ling-xing-jie-mian-shi-fou-guo-shi"&gt;命令行界面是否过时&lt;/h1&gt;
&lt;p&gt;答案是：不会的！&lt;/p&gt;
&lt;p&gt;1965年&lt;a href="http://en.wikipedia.org/wiki/OS/360_and_successors"&gt;OS/360&lt;/a&gt;的发布标志着与硬件分离的&amp;ldquo;通用&amp;rdquo;操作系统的出现。&lt;/p&gt;
&lt;p&gt;尽管8年后的1973年出现了&lt;a href="http://en.wikipedia.org/wiki/Xerox_Alto"&gt;图形界面程序&lt;/a&gt;，
16年后的1981年出现了&lt;a href="http://en.wikipedia.org/wiki/Xerox_Star"&gt;图形界面的操作系统&lt;/a&gt;，
但是在此之后，至今三十几年过去了，图形界面(GUI)仍无法取代命令行界面(CLI)。&lt;/p&gt;
&lt;p&gt;有什么理由可以说，图形界面终将取代命令行界面呢？&lt;/p&gt;
&lt;p&gt;不管是传统的linux&amp;ldquo;神器&amp;rdquo;，如find, grep, curl, netcat, xargs, rsync,
screen，awk, vi, emacs， 还是让人惊叹的新作，如maven, git,
salt，都有着强大的命令行界面。甚至你会有一种感觉：
为这些软件设计图形界面根本就是画蛇添足。&lt;/p&gt;
&lt;p&gt;命令行界面的优势在于：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;效率高&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;鼠标操作是最简单，同时也是最笨拙的操作&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;更专注&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;鼠标操作容易分心&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;速度快&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;CLI程序需要的资源少，启动和执行速度更快&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;易远程&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ssh、telnet的连接比vnc、remote desktop等更容易&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;自动化&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;CLI不仅可以给人使用，也适用于自动化脚本&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;zhuangbility&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;^o^&lt;/p&gt;
&lt;h1 id="ming-ling-xing-jie-mian-de-lei-xing"&gt;命令行界面的类型&lt;/h1&gt;
&lt;p&gt;按照复杂程度，命令行界面可以分为：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;非交互式&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;一次性输入所有的参数，程序执行期间不需要用户的干预。这是最常见的命令行界面形式。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;基于行的交互&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;在执行过程中，需要用户输入一些内容，比如确认信息、路径参数等。&lt;/p&gt;
&lt;p&gt;由于用户交互会使程序难以用于自动化脚本，所以这种命令行界面并不多见，常用于基于命令行的安装程序。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;文本用户界面(TUI)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;类似于图形用户界面，没有明确的执行流程，完全由用户控制程序的执行步骤。比如vi和emacs。&lt;/p&gt;
&lt;h1 id="clishi-jie-de-qian-gui-ze"&gt;CLI世界的潜规则&lt;/h1&gt;
&lt;p&gt;为了使你的CLI程序不会显得格格不入，在设计CLI程序时要遵守一些潜规则。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;良好命名&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;容易理解&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;名字要短&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;容易记忆&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;必备选项&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;所有的命令行工具都应该提供=-v/--version=和=-h/--help=选项。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;保持安静&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;程序的输出要"恰到好处"，让用户/其他程序明确知道必要的信息，又不过分&amp;ldquo;啰嗦&amp;rdquo;。过多的输出即会浪费系统资源和带宽，也会让用户感觉不舒服，更重要的是会使得其他程序的处理逻辑变得复杂。以下的原则有利于保持安静：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;不要输出无关的信息，比如版本号、作者名------除非用户要求&lt;/li&gt;
&lt;li&gt;对于很明确的结果，不需要再提醒用户。只应提示例外(exception)情况&lt;/li&gt;
&lt;li&gt;不需要告诉用户输出的是什么东西------用户会知道的&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;如有必要，可以提供=-v/--verbose=和=-q/--quiet=选项，供用户选择&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;明确要求&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;在基于行的交互式CLI中，需要用户输入时要给出明确的提示，比如：&lt;/p&gt;
&lt;p&gt;=Do you really want to do this (y/n)?=&lt;/p&gt;
&lt;p&gt;=Enter a date (YYYY-MM-DD):=&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;支持管道&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;程序应该支持从管道或文件重定向中读取数据：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;如果文件名作为参数传递给程序，就读取文件的内容作为输入&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;如果没有提供这样的参数，就从标准输入中读取，一直到 CTRL+D&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;功能单一&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;UNIX哲学中重要的一条原则就是：每个程序只做一件事情，并把它做好。&lt;/p&gt;
&lt;p&gt;复杂的功能通过程序间的配合完成，而为了与其他的程序配合，要尽量支持管道和重定向。&lt;/p&gt;
&lt;p&gt;既然&amp;ldquo;只做一件事&amp;rdquo;，就要&amp;ldquo;做好一件事&amp;rdquo;。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;遵循惯例&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;UNIX中命令行参数会有一些惯例，比如=-=后面的单字母选项可以连用（如=ls -Al=),
=--=后面使用多字母选项等；此外，遵循已经被广泛使用的命令的参数，也会容易被接受。&lt;/p&gt;
&lt;h1 id="clizhi-chi-ku"&gt;CLI支持库&lt;/h1&gt;
&lt;p&gt;CLI是如此重要，以至于很多语言/平台都提供了开发CLI的支持库，比如：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;python的optparse和argparse&lt;/p&gt;
&lt;p&gt;argparse更先进，旨在替代optparse，但是从python2.7开始才支持。如果希望在比较旧的linux上运行(通常支持python2.4)，最好还是使用optparse。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;java的Apache Commons CLI&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;Apache karaf的karaf-command-archetype&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id="pythonde-tuizhi-chi-ku"&gt;python的TUI支持库&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://urwid.org/index.html"&gt;Urwid&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><category term="CLI"></category></entry><entry><title>Blueprint: OSGi的依赖注入(DI)容器</title><link href="http://holbrook.github.io/2014/01/22/osgi_blueprint_container.html" rel="alternate"></link><published>2014-01-22T00:00:00+08:00</published><updated>2014-01-22T00:00:00+08:00</updated><author><name>Holbrook</name></author><id>tag:holbrook.github.io,2014-01-22:/2014/01/22/osgi_blueprint_container.html</id><summary type="html">&lt;p&gt;曾几何时，你在Spring和OSGi之间摇摆不定；曾几何时，你对SpringDM感到迷惑不解。你是否向往OSGi的动态特性，又为遗留代码（尤其是基于Spring的代码）感到不舍？现在，这些都不再是问题！&lt;/p&gt;</summary><content type="html">&lt;p&gt;曾几何时，你在Spring和OSGi之间摇摆不定；曾几何时，你对SpringDM感到迷惑不解。
你是否向往OSGi的动态特性，又为遗留代码（尤其是基于Spring的代码）感到不舍？&lt;/p&gt;
&lt;p&gt;现在，这些都不再是问题！&lt;/p&gt;
&lt;p&gt;在&lt;a href="http://www.osgi.org/Release4/HomePage"&gt;OSGi Service Platform Release 4&lt;/a&gt; V4.2中，
提到了很多的&lt;a href="http://www.osgi.org/download/r4v42/r4.enterprise.pdf"&gt;企业级规范(Enterprise Specification)&lt;/a&gt;，
其中包括了规范121：Blueprint容器规范(Container Specification)。&lt;/p&gt;
&lt;p&gt;Buleprint容器规范规定了一个OSGi容器(不是OSGi rumtime)的方方面面：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="images/fuse/Blueprint_Container_Specification_list.png"/&gt;&lt;/p&gt;
&lt;p&gt;Buleprint(或者说，OSGi Enterprise)目前有两个主要的实现：&lt;a href="http://www.eclipse.org/gemini/"&gt;Eclipse Gemini&lt;/a&gt;和&lt;a href="http://aries.apache.org/"&gt;Apache Aries&lt;/a&gt;。&lt;/p&gt;
&lt;p&gt;其中Gemini的代码最初来自Spring DM，其实Blueprint规范的最早版本也来自Spring；而Aries已经用在Apache的众多企业级产品中。&lt;/p&gt;
&lt;p&gt;在本文中，使用Aries Blueprint。&lt;/p&gt;
&lt;h1 id="yi-lai-zhu-ru"&gt;依赖注入&lt;/h1&gt;
&lt;p&gt;Blueprint Container 规范为 OSGi 定义了一个 依赖性注入（DI,Dependency Injection）框架，可以处理OSGi 的动态特性。
与&lt;a href="/2014/01/12/dependency_injection_in_e4.html#menuIndex2"&gt;OSGi服务&lt;/a&gt;或&lt;a href="/2014/01/12/dependency_injection_in_e4.html#menuIndex3"&gt;OSGi Declarative Service&lt;/a&gt;，不同，Blueprint依赖注入可以处理POJO对象的装配，使得POJO能够在OSGi中跨bundle访问。&lt;/p&gt;
&lt;p&gt;这与&lt;a href="http://thinkinside.tk/2013/12/31/jsr330.html"&gt;JSR330:Java依赖注入规范&lt;/a&gt;很像，是该规范在OSGi环境下的扩展。
这也就是Spring DM(Spring Dynamic Modules)干的事情。实际上，Buleprint容器规范最初就来自于Spring，
而其Gemini实现更是来自SpringDM的捐赠。&lt;/p&gt;
&lt;p&gt;无奈，如今&lt;a href="http://www.infoq.com/cn/news/2012/11/spring-osgi-gradle"&gt;Spring已经宣布放弃OSGi&lt;/a&gt;正所谓造化弄人，让人唏嘘不已。&lt;/p&gt;
&lt;h1 id="blueprint-xml"&gt;Blueprint XML&lt;/h1&gt;
&lt;p&gt;Blueprint使用XML文件描述装配关系，下面是一个例子：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt; &lt;span class="cp"&gt;&amp;lt;?xml version="1.0" encoding="UTF-8" standalone="no"?&amp;gt;&lt;/span&gt;
 &lt;span class="nt"&gt;&amp;lt;blueprint&lt;/span&gt; &lt;span class="na"&gt;xmlns=&lt;/span&gt;&lt;span class="s"&gt;"http://www.osgi.org/xmlns/blueprint/v1.0.0"&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;

   &lt;span class="c"&gt;&amp;lt;!-- Bean Manager Examples --&amp;gt;&lt;/span&gt;

   &lt;span class="nt"&gt;&amp;lt;bean&lt;/span&gt; &lt;span class="na"&gt;id=&lt;/span&gt;&lt;span class="s"&gt;"accountOne"&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;"org.apache.aries.samples.Account"&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
       &lt;span class="nt"&gt;&amp;lt;argument&lt;/span&gt; &lt;span class="na"&gt;value=&lt;/span&gt;&lt;span class="s"&gt;"1"&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
       &lt;span class="nt"&gt;&amp;lt;property&lt;/span&gt; &lt;span class="na"&gt;name=&lt;/span&gt;&lt;span class="s"&gt;"description"&lt;/span&gt; &lt;span class="na"&gt;value=&lt;/span&gt;&lt;span class="s"&gt;"#1 account"&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
   &lt;span class="nt"&gt;&amp;lt;/bean&amp;gt;&lt;/span&gt;

   &lt;span class="nt"&gt;&amp;lt;bean&lt;/span&gt; &lt;span class="na"&gt;id=&lt;/span&gt;&lt;span class="s"&gt;"accountTwo"&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;"org.apache.aries.samples.StaticAccountFactory"&lt;/span&gt;
         &lt;span class="na"&gt;factory-method=&lt;/span&gt;&lt;span class="s"&gt;"createAccount"&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
       &lt;span class="nt"&gt;&amp;lt;argument&lt;/span&gt; &lt;span class="na"&gt;value=&lt;/span&gt;&lt;span class="s"&gt;"2"&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
       &lt;span class="nt"&gt;&amp;lt;property&lt;/span&gt; &lt;span class="na"&gt;name=&lt;/span&gt;&lt;span class="s"&gt;"description"&lt;/span&gt; &lt;span class="na"&gt;value=&lt;/span&gt;&lt;span class="s"&gt;"#2 account"&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
   &lt;span class="nt"&gt;&amp;lt;/bean&amp;gt;&lt;/span&gt;

   &lt;span class="nt"&gt;&amp;lt;bean&lt;/span&gt; &lt;span class="na"&gt;id=&lt;/span&gt;&lt;span class="s"&gt;"accountFactory"&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;"org.apache.aries.samples.AccountFactory"&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
       &lt;span class="nt"&gt;&amp;lt;argument&lt;/span&gt; &lt;span class="na"&gt;value=&lt;/span&gt;&lt;span class="s"&gt;"account factory"&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
   &lt;span class="nt"&gt;&amp;lt;/bean&amp;gt;&lt;/span&gt;

   &lt;span class="nt"&gt;&amp;lt;bean&lt;/span&gt; &lt;span class="na"&gt;id=&lt;/span&gt;&lt;span class="s"&gt;"accountThree"&lt;/span&gt;
         &lt;span class="na"&gt;factory-ref=&lt;/span&gt;&lt;span class="s"&gt;"accountFactory"&lt;/span&gt;
         &lt;span class="na"&gt;factory-method=&lt;/span&gt;&lt;span class="s"&gt;"createAccount"&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
       &lt;span class="nt"&gt;&amp;lt;argument&lt;/span&gt; &lt;span class="na"&gt;value=&lt;/span&gt;&lt;span class="s"&gt;"3"&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
       &lt;span class="nt"&gt;&amp;lt;property&lt;/span&gt; &lt;span class="na"&gt;name=&lt;/span&gt;&lt;span class="s"&gt;"description"&lt;/span&gt; &lt;span class="na"&gt;value=&lt;/span&gt;&lt;span class="s"&gt;"#3 account"&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
   &lt;span class="nt"&gt;&amp;lt;/bean&amp;gt;&lt;/span&gt;

   &lt;span class="nt"&gt;&amp;lt;bean&lt;/span&gt; &lt;span class="na"&gt;id=&lt;/span&gt;&lt;span class="s"&gt;"prototypeAccount"&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;"org.apache.aries.samples.Account"&lt;/span&gt;
         &lt;span class="na"&gt;scope=&lt;/span&gt;&lt;span class="s"&gt;"prototype"&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
       &lt;span class="nt"&gt;&amp;lt;argument&lt;/span&gt; &lt;span class="na"&gt;value=&lt;/span&gt;&lt;span class="s"&gt;"4"&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
   &lt;span class="nt"&gt;&amp;lt;/bean&amp;gt;&lt;/span&gt;

   &lt;span class="nt"&gt;&amp;lt;bean&lt;/span&gt; &lt;span class="na"&gt;id=&lt;/span&gt;&lt;span class="s"&gt;"singletonAccount"&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;"org.apache.aries.samples.Account"&lt;/span&gt;
         &lt;span class="na"&gt;scope=&lt;/span&gt;&lt;span class="s"&gt;"singleton"&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
       &lt;span class="nt"&gt;&amp;lt;argument&lt;/span&gt; &lt;span class="na"&gt;value=&lt;/span&gt;&lt;span class="s"&gt;"5"&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
   &lt;span class="nt"&gt;&amp;lt;/bean&amp;gt;&lt;/span&gt;

   &lt;span class="nt"&gt;&amp;lt;bean&lt;/span&gt; &lt;span class="na"&gt;id=&lt;/span&gt;&lt;span class="s"&gt;"accountFour"&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;"org.apache.aries.samples.Account"&lt;/span&gt;
         &lt;span class="na"&gt;init-method=&lt;/span&gt;&lt;span class="s"&gt;"init"&lt;/span&gt; &lt;span class="na"&gt;destroy-method=&lt;/span&gt;&lt;span class="s"&gt;"destroy"&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
       &lt;span class="nt"&gt;&amp;lt;argument&lt;/span&gt; &lt;span class="na"&gt;value=&lt;/span&gt;&lt;span class="s"&gt;"6"&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
       &lt;span class="nt"&gt;&amp;lt;property&lt;/span&gt; &lt;span class="na"&gt;name=&lt;/span&gt;&lt;span class="s"&gt;"description"&lt;/span&gt; &lt;span class="na"&gt;value=&lt;/span&gt;&lt;span class="s"&gt;"#6 account"&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
   &lt;span class="nt"&gt;&amp;lt;/bean&amp;gt;&lt;/span&gt;



   &lt;span class="c"&gt;&amp;lt;!-- Service Manager Examples --&amp;gt;&lt;/span&gt;

   &lt;span class="nt"&gt;&amp;lt;bean&lt;/span&gt; &lt;span class="na"&gt;id=&lt;/span&gt;&lt;span class="s"&gt;"myAccount"&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;"org.apache.aries.samples.MyAccount"&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
       &lt;span class="nt"&gt;&amp;lt;argument&lt;/span&gt; &lt;span class="na"&gt;value=&lt;/span&gt;&lt;span class="s"&gt;"7"&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
       &lt;span class="nt"&gt;&amp;lt;property&lt;/span&gt; &lt;span class="na"&gt;name=&lt;/span&gt;&lt;span class="s"&gt;"description"&lt;/span&gt; &lt;span class="na"&gt;value=&lt;/span&gt;&lt;span class="s"&gt;"MyAccount"&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
   &lt;span class="nt"&gt;&amp;lt;/bean&amp;gt;&lt;/span&gt;

   &lt;span class="nt"&gt;&amp;lt;service&lt;/span&gt; &lt;span class="na"&gt;id=&lt;/span&gt;&lt;span class="s"&gt;"serviceOne"&lt;/span&gt; &lt;span class="na"&gt;ref=&lt;/span&gt;&lt;span class="s"&gt;"myAccount"&lt;/span&gt; &lt;span class="na"&gt;interface=&lt;/span&gt;&lt;span class="s"&gt;"java.io.Serializable"&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;

   &lt;span class="nt"&gt;&amp;lt;service&lt;/span&gt; &lt;span class="na"&gt;id=&lt;/span&gt;&lt;span class="s"&gt;"serviceTwo"&lt;/span&gt; &lt;span class="na"&gt;ref=&lt;/span&gt;&lt;span class="s"&gt;"myAccount"&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
      &lt;span class="nt"&gt;&amp;lt;interfaces&amp;gt;&lt;/span&gt;
          &lt;span class="nt"&gt;&amp;lt;value&amp;gt;&lt;/span&gt;java.io.Serializable&lt;span class="nt"&gt;&amp;lt;/value&amp;gt;&lt;/span&gt;
      &lt;span class="nt"&gt;&amp;lt;/interfaces&amp;gt;&lt;/span&gt;
   &lt;span class="nt"&gt;&amp;lt;/service&amp;gt;&lt;/span&gt;

   &lt;span class="nt"&gt;&amp;lt;service&lt;/span&gt; &lt;span class="na"&gt;id=&lt;/span&gt;&lt;span class="s"&gt;"serviceThree"&lt;/span&gt; &lt;span class="na"&gt;ref=&lt;/span&gt;&lt;span class="s"&gt;"myAccount"&lt;/span&gt; &lt;span class="na"&gt;auto-export=&lt;/span&gt;&lt;span class="s"&gt;"all-classes"&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;

   &lt;span class="nt"&gt;&amp;lt;service&lt;/span&gt; &lt;span class="na"&gt;id=&lt;/span&gt;&lt;span class="s"&gt;"serviceFour"&lt;/span&gt; &lt;span class="na"&gt;ref=&lt;/span&gt;&lt;span class="s"&gt;"myAccount"&lt;/span&gt; &lt;span class="na"&gt;auto-export=&lt;/span&gt;&lt;span class="s"&gt;"all-classes"&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
      &lt;span class="nt"&gt;&amp;lt;service-properties&amp;gt;&lt;/span&gt;
          &lt;span class="nt"&gt;&amp;lt;entry&lt;/span&gt; &lt;span class="na"&gt;key=&lt;/span&gt;&lt;span class="s"&gt;"mode"&lt;/span&gt; &lt;span class="na"&gt;value=&lt;/span&gt;&lt;span class="s"&gt;"shared"&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
          &lt;span class="nt"&gt;&amp;lt;entry&lt;/span&gt; &lt;span class="na"&gt;key=&lt;/span&gt;&lt;span class="s"&gt;"active"&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
              &lt;span class="nt"&gt;&amp;lt;value&lt;/span&gt; &lt;span class="na"&gt;type=&lt;/span&gt;&lt;span class="s"&gt;"java.lang.Boolean"&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;true&lt;span class="nt"&gt;&amp;lt;/value&amp;gt;&lt;/span&gt;
          &lt;span class="nt"&gt;&amp;lt;/entry&amp;gt;&lt;/span&gt;
      &lt;span class="nt"&gt;&amp;lt;/service-properties&amp;gt;&lt;/span&gt;
   &lt;span class="nt"&gt;&amp;lt;/service&amp;gt;&lt;/span&gt;

   &lt;span class="nt"&gt;&amp;lt;service&lt;/span&gt; &lt;span class="na"&gt;id=&lt;/span&gt;&lt;span class="s"&gt;"serviceFive"&lt;/span&gt; &lt;span class="na"&gt;ref=&lt;/span&gt;&lt;span class="s"&gt;"myAccount"&lt;/span&gt; &lt;span class="na"&gt;auto-export=&lt;/span&gt;&lt;span class="s"&gt;"all-classes"&lt;/span&gt; &lt;span class="na"&gt;ranking=&lt;/span&gt;&lt;span class="s"&gt;"3"&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;

   &lt;span class="nt"&gt;&amp;lt;service&lt;/span&gt; &lt;span class="na"&gt;id=&lt;/span&gt;&lt;span class="s"&gt;"serviceSix"&lt;/span&gt; &lt;span class="na"&gt;ref=&lt;/span&gt;&lt;span class="s"&gt;"myAccount"&lt;/span&gt; &lt;span class="na"&gt;auto-export=&lt;/span&gt;&lt;span class="s"&gt;"all-classes"&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
      &lt;span class="nt"&gt;&amp;lt;registration-listener&lt;/span&gt;
              &lt;span class="na"&gt;registration-method=&lt;/span&gt;&lt;span class="s"&gt;"register"&lt;/span&gt; &lt;span class="na"&gt;unregistration-method=&lt;/span&gt;&lt;span class="s"&gt;"unregister"&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
          &lt;span class="nt"&gt;&amp;lt;bean&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;"org.apache.aries.samples.RegistrationListener"&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
      &lt;span class="nt"&gt;&amp;lt;/registration-listener&amp;gt;&lt;/span&gt;
   &lt;span class="nt"&gt;&amp;lt;/service&amp;gt;&lt;/span&gt;



   &lt;span class="c"&gt;&amp;lt;!-- Service Reference Manager Examples --&amp;gt;&lt;/span&gt;

   &lt;span class="nt"&gt;&amp;lt;reference-list&lt;/span&gt; &lt;span class="na"&gt;id=&lt;/span&gt;&lt;span class="s"&gt;"serviceReferenceListTwo"&lt;/span&gt; &lt;span class="na"&gt;interface=&lt;/span&gt;&lt;span class="s"&gt;"java.io.Serializable"&lt;/span&gt;
                   &lt;span class="na"&gt;availability=&lt;/span&gt;&lt;span class="s"&gt;"optional"&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
      &lt;span class="nt"&gt;&amp;lt;reference-listener&lt;/span&gt;
              &lt;span class="na"&gt;bind-method=&lt;/span&gt;&lt;span class="s"&gt;"bind"&lt;/span&gt; &lt;span class="na"&gt;unbind-method=&lt;/span&gt;&lt;span class="s"&gt;"unbind"&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
          &lt;span class="nt"&gt;&amp;lt;bean&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;"org.apache.aries.samples.ReferenceListener"&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
      &lt;span class="nt"&gt;&amp;lt;/reference-listener&amp;gt;&lt;/span&gt;
   &lt;span class="nt"&gt;&amp;lt;/reference-list&amp;gt;&lt;/span&gt;



   &lt;span class="c"&gt;&amp;lt;!-- Environmental Manager Example --&amp;gt;&lt;/span&gt;

   &lt;span class="nt"&gt;&amp;lt;bean&lt;/span&gt; &lt;span class="na"&gt;id=&lt;/span&gt;&lt;span class="s"&gt;"accountManagerOne"&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;"org.apache.aries.samples.AccountManager"&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
      &lt;span class="nt"&gt;&amp;lt;property&lt;/span&gt; &lt;span class="na"&gt;name=&lt;/span&gt;&lt;span class="s"&gt;"managerBundle"&lt;/span&gt; &lt;span class="na"&gt;ref=&lt;/span&gt;&lt;span class="s"&gt;"blueprintBundle"&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
   &lt;span class="nt"&gt;&amp;lt;/bean&amp;gt;&lt;/span&gt;



   &lt;span class="c"&gt;&amp;lt;!-- Object Values Examples --&amp;gt;&lt;/span&gt;

   &lt;span class="nt"&gt;&amp;lt;bean&lt;/span&gt; &lt;span class="na"&gt;id=&lt;/span&gt;&lt;span class="s"&gt;"accountManagerTwo"&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;"org.apache.aries.samples.AccountManager"&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
       &lt;span class="nt"&gt;&amp;lt;property&lt;/span&gt; &lt;span class="na"&gt;name=&lt;/span&gt;&lt;span class="s"&gt;"managedAccount"&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
           &lt;span class="nt"&gt;&amp;lt;ref&lt;/span&gt; &lt;span class="na"&gt;component-id=&lt;/span&gt;&lt;span class="s"&gt;"accountOne"&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
       &lt;span class="nt"&gt;&amp;lt;/property&amp;gt;&lt;/span&gt;
   &lt;span class="nt"&gt;&amp;lt;/bean&amp;gt;&lt;/span&gt;

   &lt;span class="nt"&gt;&amp;lt;bean&lt;/span&gt; &lt;span class="na"&gt;id=&lt;/span&gt;&lt;span class="s"&gt;"accountManagerThree"&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;"org.apache.aries.samples.AccountManager"&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
       &lt;span class="nt"&gt;&amp;lt;property&lt;/span&gt; &lt;span class="na"&gt;name=&lt;/span&gt;&lt;span class="s"&gt;"managedAccount"&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
           &lt;span class="nt"&gt;&amp;lt;bean&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;"org.apache.aries.samples.Account"&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
               &lt;span class="nt"&gt;&amp;lt;argument&lt;/span&gt; &lt;span class="na"&gt;value=&lt;/span&gt;&lt;span class="s"&gt;"10"&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
               &lt;span class="nt"&gt;&amp;lt;property&lt;/span&gt; &lt;span class="na"&gt;name=&lt;/span&gt;&lt;span class="s"&gt;"description"&lt;/span&gt; &lt;span class="na"&gt;value=&lt;/span&gt;&lt;span class="s"&gt;"Inlined Account"&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
           &lt;span class="nt"&gt;&amp;lt;/bean&amp;gt;&lt;/span&gt;
       &lt;span class="nt"&gt;&amp;lt;/property&amp;gt;&lt;/span&gt;
   &lt;span class="nt"&gt;&amp;lt;/bean&amp;gt;&lt;/span&gt;

   &lt;span class="nt"&gt;&amp;lt;bean&lt;/span&gt; &lt;span class="na"&gt;id=&lt;/span&gt;&lt;span class="s"&gt;"accountManagerFour"&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;"org.apache.aries.samples.AccountManager"&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
       &lt;span class="nt"&gt;&amp;lt;property&lt;/span&gt; &lt;span class="na"&gt;name=&lt;/span&gt;&lt;span class="s"&gt;"accountNumbers"&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
           &lt;span class="nt"&gt;&amp;lt;list&amp;gt;&lt;/span&gt;
               &lt;span class="nt"&gt;&amp;lt;value&amp;gt;&lt;/span&gt;123&lt;span class="nt"&gt;&amp;lt;/value&amp;gt;&lt;/span&gt;
               &lt;span class="nt"&gt;&amp;lt;value&amp;gt;&lt;/span&gt;456&lt;span class="nt"&gt;&amp;lt;/value&amp;gt;&lt;/span&gt;
               &lt;span class="nt"&gt;&amp;lt;value&amp;gt;&lt;/span&gt;789&lt;span class="nt"&gt;&amp;lt;/value&amp;gt;&lt;/span&gt;
           &lt;span class="nt"&gt;&amp;lt;/list&amp;gt;&lt;/span&gt;
       &lt;span class="nt"&gt;&amp;lt;/property&amp;gt;&lt;/span&gt;
   &lt;span class="nt"&gt;&amp;lt;/bean&amp;gt;&lt;/span&gt;

 &lt;span class="nt"&gt;&amp;lt;/blueprint&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;可以看出，这个文件与Spring的配置文件非常类似。&lt;/p&gt;
&lt;p&gt;Blueprint XML中可以标记&lt;code&gt;bean&lt;/code&gt;，&lt;code&gt;service&lt;/code&gt;、&lt;code&gt;reference-list&lt;/code&gt;等元素，用于bean管理、service管理和service引用管理。&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="images/fuse/blueprint_config.png"/&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Bean管理&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;通过&lt;code&gt;&amp;lt;bean&amp;gt;&lt;/code&gt;标签定义Bean，容器可以创建bean、设置属性。bean的创建可以基于构造函数、静态工厂或工厂方法；属性可以是基本类型，也可以引用其他的bean。可以设置bean的scope为singleton或prototype。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Service管理&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;bean只能在当前bundle中使用。要跨bundle引用，必须定义服务。服务可以依赖bean或其他服务。&lt;/p&gt;
&lt;p&gt;服务管理用于在OSGi服务注册表中注册服务。容器会根据服务的依赖关系是否满足，自动注册或注销服务。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Service引用管理&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;通过&lt;code&gt;&amp;lt;reference&amp;gt;&lt;/code&gt;和&lt;code&gt;&amp;lt;reference-list&amp;gt;&lt;/code&gt;标签可以引用其他bundle中发布的服务。两个标签分布用于引用单个服务和引用服务列表。&lt;/p&gt;
&lt;p&gt;一个bundle可以有一个或多个xml配置，通常位于&lt;code&gt;OSGI-INF/blueprint/&lt;/code&gt;目录下，也可以在&lt;code&gt;META-INF/MANIFEST.MF&lt;/code&gt;文件中通过
&lt;code&gt;Bundle-Blueprint&lt;/code&gt;属性进行指定。&lt;/p&gt;
&lt;p&gt;更多关于Blueprint XML配置的内容和例子，可以参考&lt;a href="http://aries.apache.org/documentation/tutorials/blueprinthelloworldtutorial.html"&gt;Apache Aries官方的例子&lt;/a&gt;，以及&lt;a href="https://www.ibm.com/developerworks/cn/opensource/os-osgiblueprint/"&gt;developerWorks上的这篇文章&lt;/a&gt;&lt;/p&gt;
&lt;h1 id="gong-zuo-yuan-li"&gt;工作原理&lt;/h1&gt;
&lt;p&gt;Blueprint Container 使用扩展器（extender）模式，监视OSGi框架中的bundle的状态。当新的bundle被激活时，
Blueprint根据该bundle是否有Blueprint XML配置文件判断是否需要容器进行处理。&lt;/p&gt;
&lt;p&gt;处理的过程是为该bundle创建一个容器，通过容器解析XML文件，并将组件装配到一起。如果bundle中的服务依赖得到满足，容器还会调用&lt;a href="/2014/01/12/dependency_injection_in_e4.html#menuIndex3"&gt;OSGi DS&lt;/a&gt;发布服务。&lt;/p&gt;
&lt;p&gt;在停止bundle时，也会进行相反的销毁过程。&lt;/p&gt;
&lt;h1 id="zai-eclipsezhong-yun-xing-he-diao-shi"&gt;在Eclipse中运行和调试&lt;/h1&gt;
&lt;p&gt;可以在前面&lt;a href="/2014/01/21/tycho_vs_maven_bundle_plugin.html#menuIndex2"&gt;通过maven手工创建Felix运行环境&lt;/a&gt;的基础上，
增加Blueprint需要的bundle:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;    &lt;span class="c"&gt;&amp;lt;!-- for aries blueprint --&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;artifactItem&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;org.apache.aries.blueprint&lt;span class="nt"&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;org.apache.aries.blueprint&lt;span class="nt"&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;version&amp;gt;&lt;/span&gt;1.1.0&lt;span class="nt"&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;/artifactItem&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;artifactItem&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;org.apache.aries.proxy&lt;span class="nt"&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;org.apache.aries.proxy&lt;span class="nt"&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;version&amp;gt;&lt;/span&gt;1.0.1&lt;span class="nt"&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;/artifactItem&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;artifactItem&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;org.apache.aries&lt;span class="nt"&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;org.apache.aries.util&lt;span class="nt"&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;version&amp;gt;&lt;/span&gt;1.1.0&lt;span class="nt"&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;/artifactItem&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;artifactItem&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;org.apache.felix&lt;span class="nt"&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;org.apache.felix.configadmin&lt;span class="nt"&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;version&amp;gt;&lt;/span&gt;1.2.4&lt;span class="nt"&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;/artifactItem&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;artifactItem&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;org.ops4j.pax.logging&lt;span class="nt"&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;pax-logging-api&lt;span class="nt"&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;version&amp;gt;&lt;/span&gt;1.4&lt;span class="nt"&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;/artifactItem&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;artifactItem&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;org.ops4j.pax.logging&lt;span class="nt"&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;pax-logging-service&lt;span class="nt"&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;version&amp;gt;&lt;/span&gt;1.4&lt;span class="nt"&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;/artifactItem&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h1 id="shi-yong-apache-felix-karaf"&gt;使用Apache Felix Karaf&lt;/h1&gt;
&lt;p&gt;自己搭建的Felix+Blueprint环境功能很有限，比如缺失了很多必要的基础组件和管理功能。更好的选择是使用&lt;a href="http://karaf.apache.org/"&gt;Apache Felix Karaf&lt;/a&gt;。&lt;/p&gt;
&lt;p&gt;Karaf在Felix和Blueprint的基础上，还增加了一些插件，以提供认证和登录、热部署、动态配置、控制台以及一些管理功能。&lt;/p&gt;
&lt;p&gt;更贴心的是，Karaf还提供了Eclipse插件：&lt;a href="http://karaf.apache.org/index/subprojects/eik.html"&gt;Eclipse Integration for Karaf (EIK)&lt;/a&gt;，从而可以：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Custom Eclipse perspective for Apache Karaf development:&lt;/li&gt;
&lt;li&gt;places valuable Karaf runtime information in one location&lt;/li&gt;
&lt;li&gt;Apache Karaf installation management in your workspace:&lt;/li&gt;
&lt;li&gt;Karaf installations are managed as workspace projects giving the developer visibility in to the runtime&lt;/li&gt;
&lt;li&gt;each Karaf installation is automatically synchronized with your workspace, including additional bundles, configuration files&lt;/li&gt;
&lt;li&gt;Run and debug Karaf installations with a single Eclipse Launcher:&lt;/li&gt;
&lt;li&gt;the launch configuration allows developers to fine tune how Karaf will launch&lt;/li&gt;
&lt;li&gt;Automatic deployment of workspace plugin projects:&lt;/li&gt;
&lt;li&gt;create plugin-projects and have them deployed automatically&lt;/li&gt;
&lt;li&gt;Advanced instrumentation of the running Karaf instance:&lt;/li&gt;
&lt;li&gt;watch bundles deploy in real time and examine the OSGi service registry from within the Eclipse IDE&lt;/li&gt;
&lt;li&gt;Access Eclipse platform IDE plugins from within a running Karaf instance:&lt;/li&gt;
&lt;li&gt;all Eclipse plugins are presented as an OBR&lt;/li&gt;
&lt;/ul&gt;</content><category term="OSGi"></category><category term="java"></category></entry><entry><title>OSGi构建工具：Tycho还是Maven-Bundle-Plugin？</title><link href="http://holbrook.github.io/2014/01/21/tycho_vs_maven_bundle_plugin.html" rel="alternate"></link><published>2014-01-21T00:00:00+08:00</published><updated>2014-01-21T00:00:00+08:00</updated><author><name>Holbrook</name></author><id>tag:holbrook.github.io,2014-01-21:/2014/01/21/tycho_vs_maven_bundle_plugin.html</id><summary type="html">&lt;h1 id="tychoyu-maven-bundle-pluginde-dui-bi"&gt;Tycho与Maven-Bundle-Plugin的对比&lt;/h1&gt;
&lt;p&gt;Maven与OSGi天生就是冤家：Maven通过&lt;code&gt;pom.xml&lt;/code&gt;描述一个产物的全部，而OSGi将这项工作交给了&lt;code&gt;MANIFEST.MF&lt;/code&gt;。&lt;/p&gt;
&lt;p&gt;如果仅仅是一些定义信息还好说，但是Maven和OSGi都希望能够描述产物的依赖关系，在使用Maven开发OSGi bundle的时候，就导致了一个问题：&lt;/p&gt;
&lt;p&gt;依赖关系到底是在&lt;code&gt;pom.xml&lt;/code&gt;中描述，还是在&lt;code&gt;MANIFEST.MF&lt;/code&gt;中描述？&lt;/p&gt;
&lt;p&gt;&lt;a href="/2014/01/08/build_osgi_bundle_with_tycho_maven_plugin.html"&gt;前面提到的Tycho&lt;/a&gt;的思路是由&lt;code&gt;MANIFEST.MF&lt;/code&gt;自行管理bundle的依赖关系，&lt;code&gt;pom.xml&lt;/code&gt;只记录使用maven进行构建时需要的信息，比如maven工程的父子关系、打包时需要的bundle仓库及要发布的目标平台等。&lt;/p&gt;
&lt;p&gt;Tycho的这种机制对Eclipse IDE比较友好，在开发期间完全使用IDE的机制进行开发和调试，只有在打包部署时才依赖maven。&lt;/p&gt;
&lt;p&gt;&lt;a href="http://felix.apache.org/site/apache-felix-maven-bundle-plugin-bnd.html"&gt;Apache Felix Maven-Bundle-Plugin&lt;/a&gt;
则使用另一套机制：使用Maven-Bundle-Plugin，在开发时可以没有&lt;code&gt;MANIFEST.MF&lt;/code&gt;文件！Maven-Bundle-Plugin在&lt;code&gt;pom.xml&lt;/code&gt;中复制了一套&lt;code&gt;MANIFEST …&lt;/code&gt;&lt;/p&gt;</summary><content type="html">&lt;h1 id="tychoyu-maven-bundle-pluginde-dui-bi"&gt;Tycho与Maven-Bundle-Plugin的对比&lt;/h1&gt;
&lt;p&gt;Maven与OSGi天生就是冤家：Maven通过&lt;code&gt;pom.xml&lt;/code&gt;描述一个产物的全部，而OSGi将这项工作交给了&lt;code&gt;MANIFEST.MF&lt;/code&gt;。&lt;/p&gt;
&lt;p&gt;如果仅仅是一些定义信息还好说，但是Maven和OSGi都希望能够描述产物的依赖关系，在使用Maven开发OSGi bundle的时候，就导致了一个问题：&lt;/p&gt;
&lt;p&gt;依赖关系到底是在&lt;code&gt;pom.xml&lt;/code&gt;中描述，还是在&lt;code&gt;MANIFEST.MF&lt;/code&gt;中描述？&lt;/p&gt;
&lt;p&gt;&lt;a href="/2014/01/08/build_osgi_bundle_with_tycho_maven_plugin.html"&gt;前面提到的Tycho&lt;/a&gt;的思路是由&lt;code&gt;MANIFEST.MF&lt;/code&gt;自行管理bundle的依赖关系，&lt;code&gt;pom.xml&lt;/code&gt;只记录使用maven进行构建时需要的信息，比如maven工程的父子关系、打包时需要的bundle仓库及要发布的目标平台等。&lt;/p&gt;
&lt;p&gt;Tycho的这种机制对Eclipse IDE比较友好，在开发期间完全使用IDE的机制进行开发和调试，只有在打包部署时才依赖maven。&lt;/p&gt;
&lt;p&gt;&lt;a href="http://felix.apache.org/site/apache-felix-maven-bundle-plugin-bnd.html"&gt;Apache Felix Maven-Bundle-Plugin&lt;/a&gt;
则使用另一套机制：使用Maven-Bundle-Plugin，在开发时可以没有&lt;code&gt;MANIFEST.MF&lt;/code&gt;文件！Maven-Bundle-Plugin在&lt;code&gt;pom.xml&lt;/code&gt;中复制了一套&lt;code&gt;MANIFEST.MF&lt;/code&gt;的元数据，完全可以通过&lt;code&gt;pom.xml&lt;/code&gt;文件中的定义生成出完整的&lt;code&gt;MANIFEST.MF&lt;/code&gt;文件。&lt;/p&gt;
&lt;p&gt;Maven-Bundle-Plugin的这种机制使得工程完全的&amp;rdquo;maven化&amp;rdquo;，更适合传统非OSGi开发人员的使用习惯。但是无法很好的利用IDE的开发和调试功能，比如，你可能需要自己搭建一个运行环境从IDE中调用。&lt;/p&gt;
&lt;p&gt;两种方式可谓各有千秋。但是Tycho明显基于Equniox和Eclipse，比如，Tycho可以配置Eclipse p2站点作为bundle库。如果要使用Tycho开发和调试Felix，需要搭建一个Eclipse风格的p2站点，将Felix runtime和需要的各种bundle都放到该站点中并发布，然后&lt;a href="/2014/01/08/build_osgi_bundle_with_tycho_maven_plugin.html#menuIndex2"&gt;在Tycho中引用该站点&lt;/a&gt;。更详细的说明可以参考&lt;a href="http://vzurczak.wordpress.com/2013/02/27/a-target-platform-based-on-apache-felix/"&gt;这里&lt;/a&gt;。&lt;/p&gt;
&lt;p&gt;而Felix Maven-Bundle-Plugin对于各种OSGi runtime的支持是相同的，由于完全基于maven，使用任何IDE开发bundle的效果都差不多。通常，Felix系的平台，如Karaf、Geronimo、Camel、ServiceMix、Fuse等，其例子都是使用Maven-Bundle-Plugin构建的。&lt;/p&gt;
&lt;p&gt;由于&lt;a href="/2014/01/08/build_osgi_bundle_with_tycho_maven_plugin.html"&gt;前文已经说明了如何用Tycho开发OSGi&lt;/a&gt;，下面只给出使用Maven-Bundle-Plugin的例子。&lt;/p&gt;
&lt;h1 id="maven-bundle-pluginde-pomli-zi"&gt;Maven-Bundle-Plugin的pom例子&lt;/h1&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt; &lt;span class="nt"&gt;&amp;lt;project&lt;/span&gt; &lt;span class="na"&gt;xmlns=&lt;/span&gt;&lt;span class="s"&gt;"http://maven.apache.org/POM/4.0.0"&lt;/span&gt; &lt;span class="na"&gt;xmlns:xsi=&lt;/span&gt;&lt;span class="s"&gt;"http://www.w3.org/2001/XMLSchema-instance"&lt;/span&gt;
    &lt;span class="na"&gt;xsi:schemaLocation=&lt;/span&gt;&lt;span class="s"&gt;"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;modelVersion&amp;gt;&lt;/span&gt;4.0.0&lt;span class="nt"&gt;&amp;lt;/modelVersion&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;thinkinside.demo.osgi&lt;span class="nt"&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;simple-bundle&lt;span class="nt"&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;version&amp;gt;&lt;/span&gt;0.0.1-SNAPSHOT&lt;span class="nt"&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;


    &lt;span class="nt"&gt;&amp;lt;build&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;plugins&amp;gt;&lt;/span&gt;
            &lt;span class="nt"&gt;&amp;lt;plugin&amp;gt;&lt;/span&gt;
                &lt;span class="nt"&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;org.apache.felix&lt;span class="nt"&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
                &lt;span class="nt"&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;maven-bundle-plugin&lt;span class="nt"&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
                &lt;span class="nt"&gt;&amp;lt;executions&amp;gt;&lt;/span&gt;
                    &lt;span class="nt"&gt;&amp;lt;execution&amp;gt;&lt;/span&gt;
                        &lt;span class="nt"&gt;&amp;lt;id&amp;gt;&lt;/span&gt;generate-resources&lt;span class="nt"&gt;&amp;lt;/id&amp;gt;&lt;/span&gt;
                        &lt;span class="nt"&gt;&amp;lt;goals&amp;gt;&lt;/span&gt;
                            &lt;span class="nt"&gt;&amp;lt;goal&amp;gt;&lt;/span&gt;manifest&lt;span class="nt"&gt;&amp;lt;/goal&amp;gt;&lt;/span&gt;
                        &lt;span class="nt"&gt;&amp;lt;/goals&amp;gt;&lt;/span&gt;

                        &lt;span class="nt"&gt;&amp;lt;configuration&amp;gt;&lt;/span&gt;
                            &lt;span class="nt"&gt;&amp;lt;instructions&amp;gt;&lt;/span&gt;
                                &lt;span class="nt"&gt;&amp;lt;Bundle&lt;/span&gt;&lt;span class="err"&gt;-Name&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;&lt;span class="cp"&gt;${&lt;/span&gt;&lt;span class="n"&gt;project&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="cp"&gt;}&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/Bundle-Name&amp;gt;&lt;/span&gt;
                                &lt;span class="nt"&gt;&amp;lt;Bundle&lt;/span&gt;&lt;span class="err"&gt;-SymbolicName&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;&lt;span class="cp"&gt;${&lt;/span&gt;&lt;span class="n"&gt;project&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;artifactId&lt;/span&gt;&lt;span class="cp"&gt;}&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/Bundle-SymbolicName&amp;gt;&lt;/span&gt;
                                &lt;span class="nt"&gt;&amp;lt;Bundle&lt;/span&gt;&lt;span class="err"&gt;-Activator&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;test.bundle.internal.Activator&lt;span class="nt"&gt;&amp;lt;/Bundle-Activator&amp;gt;&lt;/span&gt;
                                &lt;span class="nt"&gt;&amp;lt;Export&lt;/span&gt;&lt;span class="err"&gt;-Package&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;***&lt;span class="nt"&gt;&amp;lt;/Export-Package&amp;gt;&lt;/span&gt;
                                &lt;span class="nt"&gt;&amp;lt;Import&lt;/span&gt;&lt;span class="err"&gt;-Package&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;***&lt;span class="nt"&gt;&amp;lt;/Import-Package&amp;gt;&lt;/span&gt;
                                &lt;span class="nt"&gt;&amp;lt;Private&lt;/span&gt;&lt;span class="err"&gt;-Package&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;***&lt;span class="nt"&gt;&amp;lt;/Private-Package&amp;gt;&lt;/span&gt;
                            &lt;span class="nt"&gt;&amp;lt;/instructions&amp;gt;&lt;/span&gt;
                        &lt;span class="nt"&gt;&amp;lt;/configuration&amp;gt;&lt;/span&gt;
                    &lt;span class="nt"&gt;&amp;lt;/execution&amp;gt;&lt;/span&gt;
                &lt;span class="nt"&gt;&amp;lt;/executions&amp;gt;&lt;/span&gt;
            &lt;span class="nt"&gt;&amp;lt;/plugin&amp;gt;&lt;/span&gt;

            &lt;span class="nt"&gt;&amp;lt;plugin&amp;gt;&lt;/span&gt;
                &lt;span class="nt"&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;org.apache.maven.plugins&lt;span class="nt"&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
                &lt;span class="nt"&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;maven-jar-plugin&lt;span class="nt"&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
                &lt;span class="nt"&gt;&amp;lt;version&amp;gt;&lt;/span&gt;2.3.1&lt;span class="nt"&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
                &lt;span class="nt"&gt;&amp;lt;configuration&amp;gt;&lt;/span&gt;
                    &lt;span class="nt"&gt;&amp;lt;archive&amp;gt;&lt;/span&gt;
                        &lt;span class="nt"&gt;&amp;lt;manifestFile&amp;gt;&lt;/span&gt;&lt;span class="cp"&gt;${&lt;/span&gt;&lt;span class="n"&gt;project&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;build&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;outputDirectory&lt;/span&gt;&lt;span class="cp"&gt;}&lt;/span&gt;/META-INF/MANIFEST.MF&lt;span class="nt"&gt;&amp;lt;/manifestFile&amp;gt;&lt;/span&gt;
                    &lt;span class="nt"&gt;&amp;lt;/archive&amp;gt;&lt;/span&gt;
                &lt;span class="nt"&gt;&amp;lt;/configuration&amp;gt;&lt;/span&gt;
            &lt;span class="nt"&gt;&amp;lt;/plugin&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;/plugins&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;/build&amp;gt;&lt;/span&gt;

    &lt;span class="nt"&gt;&amp;lt;dependencies&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;dependency&amp;gt;&lt;/span&gt;
            &lt;span class="nt"&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;org.apache.felix&lt;span class="nt"&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
            &lt;span class="nt"&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;org.osgi.core&lt;span class="nt"&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
            &lt;span class="nt"&gt;&amp;lt;version&amp;gt;&lt;/span&gt;1.4.0&lt;span class="nt"&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;/dependency&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;/dependencies&amp;gt;&lt;/span&gt;
 &lt;span class="nt"&gt;&amp;lt;/project&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;使用Maven-Bundle-Plugin构建bundle，就是构建一个简单的jar。不同之处在于：要通过pom.xml中的信息生成符合OSGi要求的&lt;code&gt;MANIFEST.MF&lt;/code&gt;文件并打包到jar中。这通过两个插件来完成：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;org.apache.felix:maven-bundle-plugin&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;在项目生命周期的"generate-resources"阶段，根据&lt;code&gt;&amp;lt;instructions&amp;gt;&lt;/code&gt;标签内定义的信息生成&lt;code&gt;MANIFEST.MF&lt;/code&gt;文件。这里可以配置OSGi所需要的全部元数据。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;org.apache.maven.plugins:maven-jar-plugin&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;配置其在打包是使用前面生成的&lt;code&gt;MANIFEST.MF&lt;/code&gt;文件&lt;/p&gt;
&lt;p&gt;由于OSGi bundle通常会使用OSGi API，这里添加了org.apache.felix:org.osgi.core的依赖。当然也可以换成其他的OSGi运行时，比如Equinox。&lt;/p&gt;
&lt;p&gt;此时，使用&lt;code&gt;mvn package&lt;/code&gt;生成的jar包中，&lt;code&gt;MANIFEST.MF&lt;/code&gt;文件内已经添加了配置好的bundle信息。&lt;/p&gt;
&lt;p&gt;当然，使用&lt;a href="http://svn.apache.org/repos/asf/felix/releases/maven-bundle-plugin-2.3.7/doc/site/index.html"&gt;maven-bundle-plugin的目标(Goals)&lt;/a&gt;
可以进行更细致的控制。&lt;/p&gt;
&lt;h1 id="zai-eclipsezhong-yun-xing-he-diao-shi"&gt;在Eclipse中运行和调试&lt;/h1&gt;
&lt;p&gt;本来，传说中的&lt;a href="http://wiki.ops4j.org/confluence/display/ops4j/Pax%20Cursor"&gt;Pax Cursor&lt;/a&gt;可以在Eclipse中基于各种OSGi runtime运行和调试bundle，但是天朝的网络中似乎不存在&lt;code&gt;ops4j.org&lt;/code&gt;这个域名。&lt;/p&gt;
&lt;p&gt;好在我们可用一个Java Project的方式建立起Felix的环境，通过Eclipse对bundle进行运行和调试。
由于&lt;a href="http://felix.apache.org/site/integrating-felix-with-eclipse.html"&gt;这里&lt;/a&gt;有非常详细的说明，故不再赘述。&lt;/p&gt;
&lt;p&gt;其实，我们还可以基于maven构建，而不是使用Java Project的方式。使用maven的好处是这种方法可以用于任何支持maven的IDE。&lt;/p&gt;
&lt;p&gt;Felix runtime的主要内容包括：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="images/fuse/felix-tree.png"/&gt;&lt;/p&gt;
&lt;p&gt;其中：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;bin/felix.jar  启动的jar, MainClass是&lt;code&gt;org.apache.felix.main.Main&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;bundle/   存放可用的bundle，Felix runtime中内置了4个必需的bundle&lt;/li&gt;
&lt;li&gt;conf/conf.properties 启动配置。类似于Eclipse的&lt;code&gt;configuration/config.ini&lt;/code&gt;。Felix配置项可以参考&lt;a href="http://felix.apache.org/site/apache-felix-framework-configuration-properties.html"&gt;官方网站中的内容&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;知道了Felix runtime的构成，就可以用maven构建出相同的结构，并插入到项目周期的适当位置。pom如下：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt; &lt;span class="nt"&gt;&amp;lt;project&lt;/span&gt; &lt;span class="na"&gt;xmlns=&lt;/span&gt;&lt;span class="s"&gt;"http://maven.apache.org/POM/4.0.0"&lt;/span&gt; &lt;span class="na"&gt;xmlns:xsi=&lt;/span&gt;&lt;span class="s"&gt;"http://www.w3.org/2001/XMLSchema-instance"&lt;/span&gt;
    &lt;span class="na"&gt;xsi:schemaLocation=&lt;/span&gt;&lt;span class="s"&gt;"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;modelVersion&amp;gt;&lt;/span&gt;4.0.0&lt;span class="nt"&gt;&amp;lt;/modelVersion&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;thinkinside.demo.fuse&lt;span class="nt"&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;felix-launcher&lt;span class="nt"&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;version&amp;gt;&lt;/span&gt;0.0.1-SNAPSHOT&lt;span class="nt"&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;name&amp;gt;&lt;/span&gt;Felix Launcher&lt;span class="nt"&gt;&amp;lt;/name&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;properties&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;felix.bundlerepository.version&amp;gt;&lt;/span&gt;1.6.4&lt;span class="nt"&gt;&amp;lt;/felix.bundlerepository.version&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;felix.gogo.version&amp;gt;&lt;/span&gt;0.10.0&lt;span class="nt"&gt;&amp;lt;/felix.gogo.version&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;felix.framework.version&amp;gt;&lt;/span&gt;4.2.1&lt;span class="nt"&gt;&amp;lt;/felix.framework.version&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;/properties&amp;gt;&lt;/span&gt;

    &lt;span class="nt"&gt;&amp;lt;build&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;plugins&amp;gt;&lt;/span&gt;
            &lt;span class="nt"&gt;&amp;lt;plugin&amp;gt;&lt;/span&gt;
                &lt;span class="nt"&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;maven-clean-plugin&lt;span class="nt"&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
                &lt;span class="nt"&gt;&amp;lt;version&amp;gt;&lt;/span&gt;2.4.1&lt;span class="nt"&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
                &lt;span class="nt"&gt;&amp;lt;configuration&amp;gt;&lt;/span&gt;
                    &lt;span class="nt"&gt;&amp;lt;filesets&amp;gt;&lt;/span&gt;
                        &lt;span class="nt"&gt;&amp;lt;fileset&amp;gt;&lt;/span&gt;
                            &lt;span class="nt"&gt;&amp;lt;directory&amp;gt;&lt;/span&gt;bundle&lt;span class="nt"&gt;&amp;lt;/directory&amp;gt;&lt;/span&gt;
                        &lt;span class="nt"&gt;&amp;lt;/fileset&amp;gt;&lt;/span&gt;
                    &lt;span class="nt"&gt;&amp;lt;/filesets&amp;gt;&lt;/span&gt;
                &lt;span class="nt"&gt;&amp;lt;/configuration&amp;gt;&lt;/span&gt;
            &lt;span class="nt"&gt;&amp;lt;/plugin&amp;gt;&lt;/span&gt;

            &lt;span class="nt"&gt;&amp;lt;plugin&amp;gt;&lt;/span&gt;
                &lt;span class="nt"&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;org.apache.maven.plugins&lt;span class="nt"&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
                &lt;span class="nt"&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;maven-dependency-plugin&lt;span class="nt"&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
                &lt;span class="nt"&gt;&amp;lt;version&amp;gt;&lt;/span&gt;2.2&lt;span class="nt"&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
                &lt;span class="nt"&gt;&amp;lt;executions&amp;gt;&lt;/span&gt;
                    &lt;span class="nt"&gt;&amp;lt;execution&amp;gt;&lt;/span&gt;
                        &lt;span class="nt"&gt;&amp;lt;id&amp;gt;&lt;/span&gt;copy&lt;span class="nt"&gt;&amp;lt;/id&amp;gt;&lt;/span&gt;
                        &lt;span class="nt"&gt;&amp;lt;phase&amp;gt;&lt;/span&gt;generate-resources&lt;span class="nt"&gt;&amp;lt;/phase&amp;gt;&lt;/span&gt;
                        &lt;span class="nt"&gt;&amp;lt;goals&amp;gt;&lt;/span&gt;
                            &lt;span class="nt"&gt;&amp;lt;goal&amp;gt;&lt;/span&gt;copy&lt;span class="nt"&gt;&amp;lt;/goal&amp;gt;&lt;/span&gt;
                        &lt;span class="nt"&gt;&amp;lt;/goals&amp;gt;&lt;/span&gt;
                        &lt;span class="nt"&gt;&amp;lt;configuration&amp;gt;&lt;/span&gt;
                            &lt;span class="nt"&gt;&amp;lt;artifactItems&amp;gt;&lt;/span&gt;
                                &lt;span class="nt"&gt;&amp;lt;artifactItem&amp;gt;&lt;/span&gt;
                                    &lt;span class="nt"&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;org.apache.felix&lt;span class="nt"&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
                                    &lt;span class="nt"&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;org.apache.felix.gogo.command&lt;span class="nt"&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
                                    &lt;span class="nt"&gt;&amp;lt;version&amp;gt;&lt;/span&gt;&lt;span class="cp"&gt;${&lt;/span&gt;&lt;span class="n"&gt;felix&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;gogo&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;version&lt;/span&gt;&lt;span class="cp"&gt;}&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
                                &lt;span class="nt"&gt;&amp;lt;/artifactItem&amp;gt;&lt;/span&gt;
                                &lt;span class="nt"&gt;&amp;lt;artifactItem&amp;gt;&lt;/span&gt;
                                    &lt;span class="nt"&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;org.apache.felix&lt;span class="nt"&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
                                    &lt;span class="nt"&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;org.apache.felix.gogo.runtime&lt;span class="nt"&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
                                    &lt;span class="nt"&gt;&amp;lt;version&amp;gt;&lt;/span&gt;&lt;span class="cp"&gt;${&lt;/span&gt;&lt;span class="n"&gt;felix&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;gogo&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;version&lt;/span&gt;&lt;span class="cp"&gt;}&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
                                &lt;span class="nt"&gt;&amp;lt;/artifactItem&amp;gt;&lt;/span&gt;
                                &lt;span class="nt"&gt;&amp;lt;artifactItem&amp;gt;&lt;/span&gt;
                                    &lt;span class="nt"&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;org.apache.felix&lt;span class="nt"&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
                                    &lt;span class="nt"&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;org.apache.felix.gogo.shell&lt;span class="nt"&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
                                    &lt;span class="nt"&gt;&amp;lt;version&amp;gt;&lt;/span&gt;&lt;span class="cp"&gt;${&lt;/span&gt;&lt;span class="n"&gt;felix&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;gogo&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;version&lt;/span&gt;&lt;span class="cp"&gt;}&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
                                &lt;span class="nt"&gt;&amp;lt;/artifactItem&amp;gt;&lt;/span&gt;
                                &lt;span class="nt"&gt;&amp;lt;artifactItem&amp;gt;&lt;/span&gt;
                                    &lt;span class="nt"&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;org.osgi&lt;span class="nt"&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
                                    &lt;span class="nt"&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;org.osgi.compendium&lt;span class="nt"&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
                                    &lt;span class="nt"&gt;&amp;lt;version&amp;gt;&lt;/span&gt;4.2.0&lt;span class="nt"&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
                                &lt;span class="nt"&gt;&amp;lt;/artifactItem&amp;gt;&lt;/span&gt;
                            &lt;span class="nt"&gt;&amp;lt;/artifactItems&amp;gt;&lt;/span&gt;
                            &lt;span class="nt"&gt;&amp;lt;outputDirectory&amp;gt;&lt;/span&gt;bundle&lt;span class="nt"&gt;&amp;lt;/outputDirectory&amp;gt;&lt;/span&gt;
                        &lt;span class="nt"&gt;&amp;lt;/configuration&amp;gt;&lt;/span&gt;
                    &lt;span class="nt"&gt;&amp;lt;/execution&amp;gt;&lt;/span&gt;
                &lt;span class="nt"&gt;&amp;lt;/executions&amp;gt;&lt;/span&gt;
            &lt;span class="nt"&gt;&amp;lt;/plugin&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;/plugins&amp;gt;&lt;/span&gt;

    &lt;span class="nt"&gt;&amp;lt;/build&amp;gt;&lt;/span&gt;

    &lt;span class="nt"&gt;&amp;lt;dependencies&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;dependency&amp;gt;&lt;/span&gt;
            &lt;span class="nt"&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;org.apache.felix&lt;span class="nt"&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
            &lt;span class="nt"&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;org.apache.felix.main&lt;span class="nt"&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
            &lt;span class="nt"&gt;&amp;lt;version&amp;gt;&lt;/span&gt;&lt;span class="cp"&gt;${&lt;/span&gt;&lt;span class="n"&gt;felix&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;framework&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;version&lt;/span&gt;&lt;span class="cp"&gt;}&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;/dependency&amp;gt;&lt;/span&gt;

        &lt;span class="nt"&gt;&amp;lt;dependency&amp;gt;&lt;/span&gt;
            &lt;span class="nt"&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;org.ops4j.pax.url&lt;span class="nt"&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
            &lt;span class="nt"&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;pax-url-assembly&lt;span class="nt"&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
            &lt;span class="nt"&gt;&amp;lt;version&amp;gt;&lt;/span&gt;1.6.0&lt;span class="nt"&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;/dependency&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;/dependencies&amp;gt;&lt;/span&gt;
 &lt;span class="nt"&gt;&amp;lt;/project&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;该pom在标准的生命周期中增加了两项工作：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;在&lt;code&gt;generate-resources&lt;/code&gt;阶段，创建bundle文件夹，复制必需的4个bundle&lt;/li&gt;
&lt;li&gt;在&lt;code&gt;clean&lt;/code&gt;阶段，清除bundle文件夹&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;最后，还需要一个配置文件。在工程目录建立&lt;code&gt;/conf/config.properties&lt;/code&gt;文件，并进行基本配置：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;felix.auto.deploy.action=install,start
felix.log.level=1

org.osgi.framework.storage.clean=onFirstInit
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;配置完成了，先执行&lt;code&gt;mvn compile&lt;/code&gt;生成需要的资源。此时使用命令&lt;code&gt;mvn exec:java -Dexec.mainClass="org.apache.felix.main.Main"&lt;/code&gt;即可以启动Felix runtime：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="images/fuse/felix_launch_from_maven.png"/&gt;&lt;/p&gt;
&lt;p&gt;在Eclipse中，将这个工程作为&lt;code&gt;Java Application&lt;/code&gt;运行，选择&lt;code&gt;org.apache.felix.main.Main&lt;/code&gt;作为Main Class，就可以进行运行和调试。&lt;/p&gt;</content><category term="OSGi"></category><category term="java"></category></entry><entry><title>在SWT中用JFreeChart实现K线图</title><link href="http://holbrook.github.io/2014/01/18/swt_jfreechart_candlestick.html" rel="alternate"></link><published>2014-01-18T00:00:00+08:00</published><updated>2014-01-18T00:00:00+08:00</updated><author><name>Holbrook</name></author><id>tag:holbrook.github.io,2014-01-18:/2014/01/18/swt_jfreechart_candlestick.html</id><summary type="html">&lt;h1 id="mu-biao"&gt;目标&lt;/h1&gt;
&lt;p&gt;在&lt;a href="/2013/05/03/r_notes_1_what.html"&gt;R学习笔记&lt;/a&gt;中，展示了这样一张图表：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="images/2013/r_notes/2.png"/&gt;&lt;/p&gt;
&lt;p&gt;现在需要在Eclipse e4应用中实现这样的图表。&lt;/p&gt;
&lt;h1 id="swttu-biao-zu-jian-de-xuan-ze"&gt;SWT图表组件的选择&lt;/h1&gt;
&lt;p&gt;在RCP/JFace/SWT中，可以选择的图表组件包括：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Eclipse BIRT&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href="http://www.eclipse.org/birt/phoenix/"&gt;Eclipse BIRT&lt;/a&gt;是Eclipse平台下的报表框架。其中的图表组件可以单独使用。
  由于BIRT依赖于GEF、EMF等Eclipse插件，所以非常重，不适合简单轻量的应用。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;SWT Chart&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;从名字就可以看出，&lt;a href="http://www.swtchart.org/"&gt;SWT Chart&lt;/a&gt;是专为SWT环境开发的报表组件。设计很清晰，使用起来也方便。但是目前支持的图表类型比较少。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;JFreeChart&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href="http://www.jfree.org/jfreechart/"&gt;JFreeChart&lt;/a&gt;是Java世界的老牌图表组件，其强大无以言表。JFreeChart支持AWT、Swing等
GUI环境，也可以生成图片在Web环境中使用。后来又增加了对SWT环境的支持，从此不再需要SWT_AWT的桥接方式。&lt;/p&gt;
&lt;p&gt;综上所述，这里选择JFreeChart作为绘图组件。&lt;/p&gt;
&lt;h1 id="huo-qu-gu-piao-shu-ju"&gt;获取股票数据&lt;/h1&gt;
&lt;p&gt;由于需要的数据量比较大，不能再使用&lt;a href=""&gt;前面&lt;/a&gt;的模拟数据方法了。这里使用&lt;a href="http://finance.yahoo.com/"&gt;雅虎财经 …&lt;/a&gt;&lt;/p&gt;</summary><content type="html">&lt;h1 id="mu-biao"&gt;目标&lt;/h1&gt;
&lt;p&gt;在&lt;a href="/2013/05/03/r_notes_1_what.html"&gt;R学习笔记&lt;/a&gt;中，展示了这样一张图表：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="images/2013/r_notes/2.png"/&gt;&lt;/p&gt;
&lt;p&gt;现在需要在Eclipse e4应用中实现这样的图表。&lt;/p&gt;
&lt;h1 id="swttu-biao-zu-jian-de-xuan-ze"&gt;SWT图表组件的选择&lt;/h1&gt;
&lt;p&gt;在RCP/JFace/SWT中，可以选择的图表组件包括：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Eclipse BIRT&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href="http://www.eclipse.org/birt/phoenix/"&gt;Eclipse BIRT&lt;/a&gt;是Eclipse平台下的报表框架。其中的图表组件可以单独使用。
  由于BIRT依赖于GEF、EMF等Eclipse插件，所以非常重，不适合简单轻量的应用。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;SWT Chart&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;从名字就可以看出，&lt;a href="http://www.swtchart.org/"&gt;SWT Chart&lt;/a&gt;是专为SWT环境开发的报表组件。设计很清晰，使用起来也方便。但是目前支持的图表类型比较少。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;JFreeChart&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href="http://www.jfree.org/jfreechart/"&gt;JFreeChart&lt;/a&gt;是Java世界的老牌图表组件，其强大无以言表。JFreeChart支持AWT、Swing等
GUI环境，也可以生成图片在Web环境中使用。后来又增加了对SWT环境的支持，从此不再需要SWT_AWT的桥接方式。&lt;/p&gt;
&lt;p&gt;综上所述，这里选择JFreeChart作为绘图组件。&lt;/p&gt;
&lt;h1 id="huo-qu-gu-piao-shu-ju"&gt;获取股票数据&lt;/h1&gt;
&lt;p&gt;由于需要的数据量比较大，不能再使用&lt;a href=""&gt;前面&lt;/a&gt;的模拟数据方法了。这里使用&lt;a href="http://finance.yahoo.com/"&gt;雅虎财经&lt;/a&gt;的数据。&lt;/p&gt;
&lt;p&gt;雅虎财经提供了查询股票历史数据的接口：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;  http://table.finance.yahoo.com/table.csv?ignore=.csv&amp;amp;....
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;参数包括：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;s: 股票代码/名称。对于国内的股票，使用类似&lt;code&gt;000001.ss&lt;/code&gt;的编码&lt;/li&gt;
&lt;li&gt;a、b、c: 开始时间的月、日、年&lt;/li&gt;
&lt;li&gt;d、e、f: 结束时间的月、日、年&lt;/li&gt;
&lt;li&gt;g：时间周期，分别为&lt;code&gt;d&lt;/code&gt;:日， &lt;code&gt;w&lt;/code&gt;:周，&lt;code&gt;m&lt;/code&gt;：月， &lt;code&gt;v&lt;/code&gt;:dividends only&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;其中，月份是从0开始。比如，9月数据写为08。&lt;/p&gt;
&lt;p&gt;本文中使用2013年上证综合指数的日线数据：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;  http://table.finance.yahoo.com/table.csv?ignore=.csv&amp;amp;s=000001.ss&amp;amp;a=00&amp;amp;b=01&amp;amp;c=2013&amp;amp;d=11&amp;amp;e=31&amp;amp;f=2013&amp;amp;g=d
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;获取到的CSV文件包含的数据列为&lt;code&gt;Date,Open,High,Low,Close,Volume,Adj Close&lt;/code&gt;，其中Date的格式为&lt;code&gt;yyyy-MM-dd&lt;/code&gt;。数据按照日期倒序排列。&lt;/p&gt;
&lt;p&gt;处理代码如下：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;    &lt;span class="nt"&gt;OHLCSeries&lt;/span&gt; &lt;span class="nt"&gt;ohlcSeries&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nt"&gt;new&lt;/span&gt; &lt;span class="nt"&gt;OHLCSeries&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;""&lt;/span&gt;&lt;span class="o"&gt;);&lt;/span&gt;
    &lt;span class="nt"&gt;TimeSeries&lt;/span&gt; &lt;span class="nt"&gt;volumeSeries&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nt"&gt;new&lt;/span&gt; &lt;span class="nt"&gt;TimeSeries&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;""&lt;/span&gt;&lt;span class="o"&gt;);&lt;/span&gt;

    &lt;span class="nt"&gt;try&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="n"&gt;URL&lt;/span&gt; &lt;span class="nb"&gt;url&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;new&lt;/span&gt; &lt;span class="n"&gt;URL&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"http://table.finance.yahoo.com/table.csv?ignore=.csv&amp;amp;s=000001.ss&amp;amp;a=00&amp;amp;b=01&amp;amp;c=2013&amp;amp;d=11&amp;amp;e=31&amp;amp;f=2013&amp;amp;g=d"&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
        &lt;span class="n"&gt;InputStream&lt;/span&gt; &lt;span class="n"&gt;is&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nb"&gt;url&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;openStream&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
        &lt;span class="n"&gt;InputStreamReader&lt;/span&gt; &lt;span class="n"&gt;reader&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;new&lt;/span&gt; &lt;span class="n"&gt;InputStreamReader&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;is&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt;&lt;span class="s2"&gt;"UTF-8"&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

        &lt;span class="n"&gt;BufferedReader&lt;/span&gt; &lt;span class="n"&gt;buffer&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;new&lt;/span&gt; &lt;span class="n"&gt;BufferedReader&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;reader&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;


        &lt;span class="n"&gt;String&lt;/span&gt; &lt;span class="n"&gt;newLine&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;buffer&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;readLine&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;&lt;span class="o"&gt;//&lt;/span&gt; &lt;span class="err"&gt;标题行&lt;/span&gt;


        &lt;span class="n"&gt;while&lt;/span&gt; &lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="n"&gt;newLine&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;buffer&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;readLine&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt; &lt;span class="o"&gt;!=&lt;/span&gt; &lt;span class="n"&gt;null&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="err"&gt;{&lt;/span&gt;
            &lt;span class="n"&gt;String&lt;/span&gt; &lt;span class="n"&gt;item&lt;/span&gt;&lt;span class="cp"&gt;[]&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;newLine&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;trim&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;split&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;","&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
            &lt;span class="n"&gt;Date&lt;/span&gt; &lt;span class="n"&gt;date&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;df&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;parse&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;item&lt;/span&gt;&lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
            &lt;span class="nb"&gt;float&lt;/span&gt; &lt;span class="n"&gt;open&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Float&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;valueOf&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;item&lt;/span&gt;&lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
            &lt;span class="nb"&gt;float&lt;/span&gt; &lt;span class="nb"&gt;high&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Float&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;valueOf&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;item&lt;/span&gt;&lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
            &lt;span class="nb"&gt;float&lt;/span&gt; &lt;span class="nb"&gt;low&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Float&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;valueOf&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;item&lt;/span&gt;&lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
            &lt;span class="nb"&gt;float&lt;/span&gt; &lt;span class="n"&gt;close&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Float&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;valueOf&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;item&lt;/span&gt;&lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
            &lt;span class="nb"&gt;float&lt;/span&gt; &lt;span class="nb"&gt;volume&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Float&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;valueOf&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;item&lt;/span&gt;&lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
            &lt;span class="nb"&gt;float&lt;/span&gt; &lt;span class="n"&gt;adj_close&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Float&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;valueOf&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;item&lt;/span&gt;&lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;6&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

            &lt;span class="n"&gt;ohlcSeries&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;add&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;new&lt;/span&gt; &lt;span class="n"&gt;Day&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;date&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="n"&gt;open&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt;&lt;span class="nb"&gt;high&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt;&lt;span class="nb"&gt;low&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt;&lt;span class="n"&gt;close&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
            &lt;span class="n"&gt;volumeSeries&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;add&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;new&lt;/span&gt; &lt;span class="n"&gt;Day&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;date&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt;&lt;span class="nb"&gt;volume&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
        &lt;span class="p"&gt;}&lt;/span&gt;

    &lt;span class="err"&gt;}&lt;/span&gt;&lt;span class="nt"&gt;catch&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nt"&gt;Exception&lt;/span&gt; &lt;span class="nt"&gt;e&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="n"&gt;e&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;printStackTrace&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h1 id="lian-he-tu-biao"&gt;联合图表&lt;/h1&gt;
&lt;p&gt;目标中的图表是一种联合图表(Combined Chart)：多个图表共用横坐标或纵坐标。JFreeChart中提供了&lt;code&gt;CombinedDomainXYPlot&lt;/code&gt;和&lt;code&gt;CombinedRangeXYPlot&lt;/code&gt;，分别用于联合横坐标和联合纵坐标的图表。&lt;/p&gt;
&lt;p&gt;由于各种图表类型都有可能组成联合图表，JFreeChart没有在&lt;code&gt;ChartFactory&lt;/code&gt;中提供工厂方法进行创建，
只能按照&lt;a href="/2014/01/17/jfreechart.html#menuIndex1"&gt;JFreeChart中的图表模型&lt;/a&gt;进行手工创建。下面是例子：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;  //创建横坐标轴，作为联合坐标
  DateAxis timeAxis = new DateAxis();

  //创建两个纵坐标，用于上下两个Plot
  NumberAxis ohlcAxis = new NumberAxis();
  NumberAxis volumeAxis = new NumberAxis();

  //创建两个Plot对应的Renderer
  CandlestickRenderer ohlcRenderer = new CandlestickRenderer();
  XYBarRenderer volumeRenderer = new XYBarRenderer();

  //创建K线图的Plot，使用&amp;ldquo;数据&amp;rdquo;一节中的ohlcSeries
  ////其中横坐标设为"null"，以使用联合横坐标
  OHLCSeriesCollection ohlcDataset = new OHLCSeriesCollection();
  ohlcDataset.addSeries(ohlcSeries);
  XYPlot ohlcPlot = new XYPlot(ohlcDataset,timeAxis,ohlcAxis,ohlcRenderer);

  //创建成交量柱状图的Plot，使用&amp;ldquo;数据&amp;rdquo;一节中的volumeSeries
  //其中横坐标设为"null"，以使用联合横坐标
  TimeSeriesCollection volumeDataset = new TimeSeriesCollection();
  volumeDataset.addSeries(timeSeries);
  XYPlot volumePlot=new XYPlot(volumeDataset,null,volumeAxis,volumeRenderer;

  //创建联合图表
  CombinedDomainXYPlot combineddomainxyplot = new CombinedDomainXYPlot(timeAxis());

  //上下两个图表占据的高度比例为2:1，间隔为10
  combineddomainxyplot.add(ohlcPlot, 2);
  combineddomainxyplot.add(volumePlot, 1);
  combineddomainxyplot.setGap(10);
  JFreeChart chart = new JFreeChart("xx股票", JFreeChart.DEFAULT_TITLE_FONT, combineddomainxyplot, false);
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;创建的图表如下所示：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="images/chart/sample1.png"/&gt;&lt;/p&gt;
&lt;h1 id="she-zhi-yang-shi"&gt;设置样式&lt;/h1&gt;
&lt;p&gt;上面的图表默认样式与国内的习惯不大一样。不过JFreeChart提供了丰富的API进行样式的设置。下面对样式进行简单调整(目前对SWT的支持不够完全。比如，颜色值仍需要使用AWT的&lt;code&gt;Color&lt;/code&gt;类)：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;//图表
chart.setBackgroundPaint(Color.BLACK);
chart.getTitle().setPaint(Color.WHITE);
chart.setBorderVisible(false);

//Plot
combineddomainxyplot.setBackgroundPaint(Color.BLACK);
ohlcPlot.setBackgroundPaint(Color.BLACK);
volumePlot.setBackgroundPaint(Color.BLACK);

//渲染
ohlcRenderer.setUpPaint(Color.RED);
ohlcRenderer.setDownPaint(Color.GREEN);

volumeRenderer.setShadowVisible(false);

//坐标轴
timeAxis.setTickLabelPaint(Color.GRAY);
ohlcAxis.setTickLabelPaint(Color.GRAY);
volumeAxis.setTickLabelPaint(Color.GRAY);
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;调整后的图表如下所示：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="images/chart/sample2.png"/&gt;&lt;/p&gt;
&lt;h1 id="qu-chu-fei-jiao-yi-shi-duan"&gt;去除非交易时段&lt;/h1&gt;
&lt;p&gt;前面的例子中，K线是不连续的，因为会有非交易日的存在。如果是小时、分钟级别的K线图，该问题会更加明显。&lt;/p&gt;
&lt;p&gt;要去除非交易时段，使得K线连续，大体有两个思路：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;实现一个自定义的&lt;code&gt;DateAxis&lt;/code&gt;，根据数据的序号产生坐标，根据实际时间产生标签&lt;/li&gt;
&lt;li&gt;实现一个&lt;code&gt;Timeline&lt;/code&gt;，并设置给&lt;code&gt;DateAxis&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;更改Renderer&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;看起来方法1更容易，但由于没有相关的文档，需要自己分析&lt;code&gt;DateAxis&lt;/code&gt;的代码，类似一种&amp;ldquo;Hack&amp;rdquo;的模式，很难保证向后兼容；
方法2是官方指定的方法，可行性更高，但是要同时支持日线、小时线、分钟/5分钟线，实现起来有点难度。
此外，&lt;a href="http://www.jfree.org/jfreechart/api/javadoc/org/jfree/chart/axis/Timeline.html"&gt;Timeline的接口说明&lt;/a&gt;读起来有些费解；方法3需要改变数据源(Dataset)，使用序号作为数据，设置Renderer的&lt;code&gt;ItemLabelGenerator&lt;/code&gt;，根据序号产生时间格式的坐标标签。&lt;/p&gt;
&lt;p&gt;这里采用方法3，实例代码如下：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;//TODO
&lt;/pre&gt;&lt;/div&gt;
&lt;h1 id="xiu-zheng-gao-du-he-kuan-du-todo"&gt;修正高度和宽度(TODO)&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;固定每根K线的宽度，根据图表宽度决定显示多少根K线&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;使用&amp;ldquo;时间窗口&amp;rdquo;作为数据&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id="heng-xiang-gun-dong-he-shi-shi-qu-xian-todo"&gt;横向滚动和实时曲线(TODO)&lt;/h1&gt;</content><category term="图表"></category><category term="GUI"></category><category term="java"></category></entry><entry><title>Eclipse e4：从OSGi-DS到依赖注入</title><link href="http://holbrook.github.io/2014/01/12/dependency_injection_in_e4.html" rel="alternate"></link><published>2014-01-12T00:00:00+08:00</published><updated>2014-01-12T00:00:00+08:00</updated><author><name>Holbrook</name></author><id>tag:holbrook.github.io,2014-01-12:/2014/01/12/dependency_injection_in_e4.html</id><summary type="html">&lt;p&gt;e4开始，可以不使用代码或xml进行服务注册和寻找，而使用依赖注入进行装配&lt;/p&gt;</summary><content type="html">&lt;h1 id="manifestmf"&gt;MANIFEST.MF&lt;/h1&gt;
&lt;p&gt;为了管理一组Java类和资源，通常我们会将其打包为JAR(Java Archive File，java存档文件)，该文件以ZIP格式进行打包。
在JAR文件中，会包含一个&lt;code&gt;META-INF/MANIFEST.MF&lt;/code&gt;文件，作为该JAR包的清单文件，设置执行入口类和支持库的路径等信息。
主要内容包括：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Manifest-Version&lt;/li&gt;
&lt;li&gt;Class-Path&lt;/li&gt;
&lt;li&gt;Created-By&lt;/li&gt;
&lt;li&gt;Main-Class&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id="osgi-bundle"&gt;OSGi bundle&lt;/h1&gt;
&lt;p&gt;OSGi的目标是实现Java应用的模块化，其目标是：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;将程序封装成一个个的模块(在OSGi中叫做bundle)&lt;/li&gt;
&lt;li&gt;模块向外只暴露特定的接口，内部实现对外不可见&lt;/li&gt;
&lt;li&gt;OSGi容器管理模块的接口，包括服务发布、寻找和版本管理等&lt;/li&gt;
&lt;li&gt;OSGi容器管理模块的生命周期，比如启动、停止、热插拔等&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;OSGi将每个模块打包为一个JAR文件。为了实现上述目标，
OSGi规范利用了&lt;code&gt;MANIFEST.MF&lt;/code&gt;文件，在其中增加了一些bundle的描述信息，比如：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Bundle-ManifestVersion&lt;/li&gt;
&lt;li&gt;Bundle-Name&lt;/li&gt;
&lt;li&gt;Bundle-SymbolicName&lt;/li&gt;
&lt;li&gt;Bundle-Version&lt;/li&gt;
&lt;li&gt;Bundle-ClassPath&lt;/li&gt;
&lt;li&gt;Bundle-Vendor&lt;/li&gt;
&lt;li&gt;Bundle-Localization&lt;/li&gt;
&lt;li&gt;Bundle-RequiredExecutionEnvironment&lt;/li&gt;
&lt;li&gt;Export-Package&lt;/li&gt;
&lt;li&gt;Require-Bundle&lt;/li&gt;
&lt;li&gt;Bundle-Activator&lt;/li&gt;
&lt;li&gt;Bundle-ActivationPolicy&lt;/li&gt;
&lt;li&gt;Import-Package&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id="osgifu-wu-de-zhu-ce-he-xun-zhao"&gt;OSGi服务的注册和寻找&lt;/h1&gt;
&lt;p&gt;OSGi模块中，只有&lt;code&gt;Export-Package&lt;/code&gt;中声明的包才可以被其他模块访问。为了避免一个模块对其他模块的直接引用，
通常会实现一个&amp;ldquo;接口定义&amp;rdquo;模块和多个&amp;ldquo;接口实现&amp;rdquo;模块。通过服务注册和发现的方式进行服务的使用。&lt;/p&gt;
&lt;p&gt;OSGi还可以为模块指定一个"激活类(&lt;code&gt;Bundle-Activator&lt;/code&gt;)&amp;ldquo;，
这个类会在模块启动时被执行，通常在这里进行本模块的接口实现(服务)的发布，以及向本模块内的类注入其他模块实现的接口(服务).
比如：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;public class MyActivator implements org.osgi.framework.BundleActivator{

    @Override
    public void start(BundleContext context) throws Exception {
        context.registerService(MyService.class.getName(), new MyServiceImpl(), null);
        System.out.println(MyService.class.getName() + " has been registred as a service");
    }
    &amp;hellip;&amp;hellip;
}
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;这样，其他使用该服务的模块可以寻找服务。通常，也是在"激活类(&lt;code&gt;Bundle-Activator&lt;/code&gt;)&amp;ldquo;中进行：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;public class ClientActivator implements BundleActivator{
    public static MyService helloService;

    @Override
    public void start(BundleContext context) throws Exception {
        ServiceReference ref = context.getServiceReference(MyService.class.getName());
        MyService service = (MyService) context.getService(ref);
        MyClient.setService(service);
    }
    &amp;hellip;&amp;hellip;
}
&lt;/pre&gt;&lt;/div&gt;
&lt;h1 id="declarative-service"&gt;Declarative Service&lt;/h1&gt;
&lt;p&gt;上面通过代码的方式进行服务的注册和寻找，实现起来比较繁琐。为了简化编码，从OSGi4.0版本开始，提出了&amp;rdquo;Declarative Service&amp;ldquo;标准，
使用xml文件进行服务发布和引用的描述。&lt;/p&gt;
&lt;p&gt;首先，在&lt;code&gt;MANIFEST.MF&lt;/code&gt;文件中增加一个新的属性&lt;code&gt;Service-Component&lt;/code&gt;，用来指定服务声明文件的路径，比如：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;Service-Component: OSGI-INF/component.xml
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;然后编写服务声明配置：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;    &lt;span class="cp"&gt;&amp;lt;?xml version="1.0" encoding="UTF-8"?&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;scr:component&lt;/span&gt; &lt;span class="na"&gt;xmlns:scr=&lt;/span&gt;&lt;span class="s"&gt;"http://www.osgi.org/xmlns/scr/v1.1.0"&lt;/span&gt; &lt;span class="na"&gt;name=&lt;/span&gt;&lt;span class="s"&gt;"myservice"&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;implementation&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;"MyServiceImpl"&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;service&amp;gt;&lt;/span&gt;
            &lt;span class="nt"&gt;&amp;lt;provide&lt;/span&gt; &lt;span class="na"&gt;interface=&lt;/span&gt;&lt;span class="s"&gt;"MyService"&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;/service&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;/component&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;该文件中也可以配置服务引用：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;     &amp;lt;reference bind="setMyService" cardinality="1..1" interface="MyService" name="myservice" policy="static" unbind="unsetMyService"/&amp;gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;可以用如下的代码使用所引用的服务：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;// Method will be used by DS to set the service
  public synchronized void setMyService(MyService service) {
    System.out.println("Service was set. Thank you DS!");
    this.service = service;
  }

  // Method will be used by DS to unset the service
  public synchronized void unsetMyService(MyService service) {
    System.out.println("Service was unset.");
    if (this.service == service) {
      this.service = null;
}
&lt;/pre&gt;&lt;/div&gt;
&lt;h1 id="e4zhong-de-yi-lai-zhu-ru"&gt;e4中的依赖注入&lt;/h1&gt;
&lt;p&gt;Declarative Service的方式与Spring的服务组装很类似。但是Spring中已经开始&lt;a href="/2014/01/05/spring_annotations.html"&gt;使用注解代替繁琐的XML配置&lt;/a&gt;。&lt;/p&gt;
&lt;p&gt;从Eclipse e4开始，已经支持使用&lt;a href="/2013/12/31/jsr330.html"&gt;JSR330:依赖注入规范&lt;/a&gt;实现服务的注入。&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="images/e4/e4_inject.png"/&gt;&lt;/p&gt;
&lt;p&gt;在e4增加的服务编程模型中，引入了上下文（context），所有的依赖对象都被上下文管理并通过上下文获取：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="images/e4/e4_context.png"/&gt;&lt;/p&gt;
&lt;p&gt;在Eclipse e4中，将全局的上下文分成了多个层次：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="images/e4/e4_context_hierarchy.png"/&gt;&lt;/p&gt;
&lt;p&gt;下层的context可以获取上层context中定义的对象，比如：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="images/e4/e4_context_hierarchy_example.png"/&gt;&lt;/p&gt;
&lt;p&gt;e4中，可以使用&lt;a href="/2013/12/31/jsr330.html#menuIndex3"&gt;JSR330中基本的&lt;code&gt;@Inject&lt;/code&gt;、&lt;code&gt;@Named&lt;/code&gt;等注解&lt;/a&gt;,用于构造器、方法和属性。同时,e4在&lt;code&gt;org.eclipse.e4.core.di.annotations&lt;/code&gt;包中也定义了一些扩展的注解，包括：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;@Optional&lt;/code&gt;：声明一个注入(&lt;code&gt;@Inject&lt;/code&gt;)为可选&lt;/li&gt;
&lt;li&gt;&lt;code&gt;@GroupUpdates&lt;/code&gt;：声明一个注入的对象是批量更新的，使用这个注解对于RCP应用的性能有很大好处&lt;/li&gt;
&lt;li&gt;&lt;code&gt;@Execute&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;@CanExecute&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;@Creatable&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;下面是e4中依赖注入的一些例子：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;// Tracks the active part
@Inject
@Optional
public void receiveActivePart(@Named(IServiceConstants.ACTIVE_PART) MPart activePart) {
  if (activePart != null) {
  System.out.println("Active part changed "
    + activePart.getLabel());
  }
}


// tracks the active shell
@Inject
@Optional
public void receiveActiveShell(@Named(IServiceConstants.ACTIVE_SHELL) Shell shell) {
  if (shell != null) {
    System.out.println("Active shell (Window) changed");
  }
}
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;在&lt;code&gt;org.eclipse.e4.core.contexts&lt;/code&gt;包中定义的&lt;code&gt;@Active&lt;/code&gt;注解可以获取活动(actived)组件。比如：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;public class MyOwnClass {
  @Inject
  void setChildValue(@Optional @Named("key_of_child_value") @Active String value) {
    this.childValue = value;
  }
}
&lt;/pre&gt;&lt;/div&gt;
&lt;h1 id="chuang-jian-zi-ji-de-ke-zhu-ru-dui-xiang"&gt;创建自己的可注入对象&lt;/h1&gt;
&lt;p&gt;&lt;code&gt;@Creatable&lt;/code&gt;&lt;/p&gt;</content><category term="OSGi"></category><category term="java"></category><category term="GUI"></category></entry><entry><title>Eclipse e4中的平台服务</title><link href="http://holbrook.github.io/2014/01/12/e4_platform_services.html" rel="alternate"></link><published>2014-01-12T00:00:00+08:00</published><updated>2014-01-12T00:00:00+08:00</updated><author><name>Holbrook</name></author><id>tag:holbrook.github.io,2014-01-12:/2014/01/12/e4_platform_services.html</id><summary type="html">&lt;h1 id="gai-shu"&gt;概述&lt;/h1&gt;
&lt;p&gt;&lt;a href="/2014/01/12/dependency_injection_in_e4.html"&gt;前面&lt;/a&gt;提到，e4中可以通过依赖注入进行服务的发布和获取。并且，&amp;rdquo;在Eclipse e4中，将全局的上下文分成了多个层次&amp;ldquo;：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="images/e4/e4_context_hierarchy.png"/&gt;&lt;/p&gt;
&lt;p&gt;e4提供了很多平台级的服务，注册于OSGi context之上的其他各个context层。这些服务提供了开发应用的很多通用的功能。一些常用的服务包括：&lt;/p&gt;
&lt;p&gt;展现层MVC的视图、模型、控制器相关的服务，以及逻辑层服务。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;视图相关服务&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;EPartService&lt;/p&gt;
&lt;p&gt;访问和修改Part，使用Part模板，切换perspectives，支持Edit方法&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ESelectionService&lt;/p&gt;
&lt;p&gt;处理GUI界面中的&amp;rdquo;选中&amp;ldquo;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;EMenuService&lt;/p&gt;
&lt;p&gt;Registers a popup menu (MPopupMenu) for an SWT control.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;org.eclipse.jface.window.IShellProvider&lt;/p&gt;
&lt;p&gt;在SWT环境中访问Shell&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;IThemeEngine&lt;/p&gt;
&lt;p&gt;Allows to switch the styling of the …&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;</summary><content type="html">&lt;h1 id="gai-shu"&gt;概述&lt;/h1&gt;
&lt;p&gt;&lt;a href="/2014/01/12/dependency_injection_in_e4.html"&gt;前面&lt;/a&gt;提到，e4中可以通过依赖注入进行服务的发布和获取。并且，&amp;rdquo;在Eclipse e4中，将全局的上下文分成了多个层次&amp;ldquo;：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="images/e4/e4_context_hierarchy.png"/&gt;&lt;/p&gt;
&lt;p&gt;e4提供了很多平台级的服务，注册于OSGi context之上的其他各个context层。这些服务提供了开发应用的很多通用的功能。一些常用的服务包括：&lt;/p&gt;
&lt;p&gt;展现层MVC的视图、模型、控制器相关的服务，以及逻辑层服务。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;视图相关服务&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;EPartService&lt;/p&gt;
&lt;p&gt;访问和修改Part，使用Part模板，切换perspectives，支持Edit方法&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ESelectionService&lt;/p&gt;
&lt;p&gt;处理GUI界面中的&amp;rdquo;选中&amp;ldquo;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;EMenuService&lt;/p&gt;
&lt;p&gt;Registers a popup menu (MPopupMenu) for an SWT control.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;org.eclipse.jface.window.IShellProvider&lt;/p&gt;
&lt;p&gt;在SWT环境中访问Shell&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;IThemeEngine&lt;/p&gt;
&lt;p&gt;Allows to switch the styling of the application at runtime.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;模型相关服务&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;EModelService&lt;/p&gt;
&lt;p&gt;在运行时访问或更改e4的&lt;a href="/2014/01/07/eclipse_e4_RCP_quickstart.html#menuIndex1"&gt;应用模型&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;控制器相关服务&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;MDirtyable&lt;/p&gt;
&lt;p&gt;用于标记Part中的内容是否被修改过&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ECommandService&lt;/p&gt;
&lt;p&gt;访问、创建和更改应用模型中的command对象&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;EHandlerService&lt;/p&gt;
&lt;p&gt;访问、更改或触发(trigger)应用模型中的handler对象&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;逻辑层相关服务&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;IEventBroker&lt;/p&gt;
&lt;p&gt;提供基于发布、订阅机制的事件处理功能&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;StatusReporter&lt;/p&gt;
&lt;p&gt;Allows you to report Status objects.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;EContextService&lt;/p&gt;
&lt;p&gt;Activate and deactivate key bindings defined as BindingContext in the application model. The content referred to in this service is the BindingContext and not the IEclipseContext.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Logger&lt;/p&gt;
&lt;p&gt;&lt;code&gt;org.eclipse.e4.core.services&lt;/code&gt;插件中的&lt;code&gt;Logger&lt;/code&gt;提供了日志功能&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Adapter&lt;/p&gt;
&lt;p&gt;An adapter can adapt an object to the specified type, allowing clients to request domain-specific behavior for an object. It integrates IAdaptable and IAdapterManager&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id="shi-tu-xiang-guan-fu-wu"&gt;视图相关服务&lt;/h1&gt;
&lt;h2 id="epartservice"&gt;EPartService&lt;/h2&gt;
&lt;p&gt;在应用模型中，可以定义PartDescriptors。PartDescriptors可以作为创建Part的模板。&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="images/e4/PartDescriptors.png"/&gt;&lt;/p&gt;
&lt;p&gt;通过EPartService可以访问这些模板，比如：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;  @Inject private EPartService partService;

  // Showing and hiding parts
  detailsTodoPart = partService.findPart("com.example.todo.rcp.parts.tododetails");
  partService.hidePart(detailsTodoPart);
  &amp;hellip;&amp;hellip;
  detailsTodoPart.setVisible(true);
  partService.showPart(detailsTodoPart, PartState.VISIBLE);

  //Switching perspectives
  @Execute
    public void execute(MApplication app, EPartService partService,
        EModelService modelService) {
      MPerspective element =
          (MPerspective) modelService.find("secondperspective", app);
      // now switch perspective
      partService.switchPerspective(element);
    }


  // creating parts dynamically
  @Execute
    public void execute(EPartService partService) {

      // create a new Part based on a PartDescriptor
      // in the application model
      // assume the ID is used for the PartDescriptor
      MPart part = partService
          .createPart("com.example.e4.rcp.todo.partdescriptor.fileeditor");
      part.setLabel("New Dynamic Part");

      // If multiple parts of this type are now allowed
      // in the application model,
      // then the provided part will be shown
      // and returned
      partService.showPart(part, PartState.ACTIVATE);
    }

  //switch perspective
  @Execute
    public void execute(MApplication app, EPartService partService,
        EModelService modelService) {
      MPerspective element =
          (MPerspective) modelService.find("secondperspective", app);
      partService.switchPerspective(element);
    }
&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id="eselectionservice"&gt;ESelectionService&lt;/h2&gt;
&lt;p&gt;e4的应用模型中，MWindow对象可以保持选中的Part。e4在IEclipseContext中注册了&lt;code&gt;ESelectionService&lt;/code&gt;，可以设置或获取选中的组件。&lt;/p&gt;
&lt;p&gt;使用&lt;code&gt;setSelection()&lt;/code&gt;方法可以设置选中状态：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;  // use field injection for the service
  @Inject ESelectionService selectionService;

  // viewer is a JFace Viewer
  viewer.addSelectionChangedListener(new ISelectionChangedListener() {
    @Override
    public void selectionChanged(SelectionChangedEvent event) {
      IStructuredSelection selection = (IStructuredSelection)
          viewer.getSelection();
      selectionService.setSelection(selection.getFirstElement());
    }
  });
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;使用&lt;code&gt;getSelection(partId)&lt;/code&gt;方法可以获取选中的组件，更常用的做法是使用&lt;code&gt;IServiceConstants.ACTIVE_SELECTION&lt;/code&gt;作为&lt;code&gt;@Named&lt;/code&gt;注解的参数，自动注入选中的组件：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;  @Inject
  public void setTodo(@Optional
      @Named(IServiceConstants.ACTIVE_SELECTION) Todo todo) {
    if (todo != null) {
      // do something with the value
    }
  }
&lt;/pre&gt;&lt;/div&gt;
&lt;h1 id="mo-xing-xiang-guan-fu-wu-emodelservice_1"&gt;模型相关服务EModelService&lt;/h1&gt;
&lt;p&gt;使用&lt;code&gt;EModelService&lt;/code&gt;可以在运行时访问或更改e4的&lt;a href="/2014/01/07/eclipse_e4_RCP_quickstart.html#menuIndex1"&gt;应用模型&lt;/a&gt;，比如增加或删除模型元素。EModelService中一些常用的方法包括：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;cloneElement()&lt;/code&gt;和&lt;code&gt;cloneSnippet()&lt;/code&gt;：克隆元素或模型片段&lt;/li&gt;
&lt;li&gt;&lt;code&gt;findElements()&lt;/code&gt;：通过ID、类型、或标签(tags)搜索元素&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;使用举例：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;  //search by type
    private void findParts(MApplication application,
        EModelService service) {
      List&amp;lt;MPart&amp;gt; parts = service.findElements(application, null,
          MPart.class, null);
      System.out.println("Found parts(s) : " + parts.size());

    }

  //Dynamically create a new window
  MWindow window = modelService.createModelElement(MWindow.class);
  window.setWidth(200);
  window.setHeight(300);

  // add new Window to the application
  application.getChildren().add(window);
&lt;/pre&gt;&lt;/div&gt;
&lt;h1 id="kong-zhi-qi-xiang-guan-fu-wu"&gt;控制器相关服务&lt;/h1&gt;
&lt;h2 id="mdirtyablehe-persistzhu-jie"&gt;MDirtyable和@Persist注解&lt;/h2&gt;
&lt;p&gt;e4中不再区分ViewPart和EditPart，而是统一使用Part。通过MDirtyable可以标记Part中的内容是否被修改过；使用&lt;code&gt;@Persist&lt;/code&gt;注解可以标记持久化Part内容的方法。比如：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;  public class MyEditPart {

    @Inject
    MDirtyable dirty;

    @PostConstruct
    public void createControls(Composite parent) {
      Button button = new Button(parent, SWT.PUSH);
      button.addSelectionListener(new SelectionAdapter() {
        @Override
        public void widgetSelected(SelectionEvent e) {
          dirty.setDirty(true);
        }
      });
    }

    @Persist
    public void save(MDirtyable dirty, ITodoService todoService) {
      // save changes via ITodoService for example
      todoService.saveTodo(todo);
      // save was successful
      dirty.setDirty(false);
    }
  }
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;在上面的例子中，看起来&lt;code&gt;@Persist&lt;/code&gt;注解没有多大用处。其实，该注解主要用于EPartService的&lt;code&gt;saveAll()&lt;/code&gt;方法：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;  public class SaveHandler {

    @Execute
    void execute(EPartService partService) {
      partService.saveAll(false);
    }
  }
&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id="ecommandservicehe-ehandlerservice"&gt;ECommandService和EHandlerService&lt;/h2&gt;
&lt;p&gt;举例如下：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;  Command command = commandService.getCommand("com.example.mycommand");

  // check if the command is defined
  System.out.println(command.isDefined());

  // activate Handler, assume AboutHandler() class exists already
  handlerService.activateHandler("com.example.mycommand",
      new AboutHandler());

  ParameterizedCommand cmd =
    commandService.createCommand("com.example.mycommand", null);

  // check if the command can get executed
  System.out.println(handlerService.canExecute(cmd));

  // execute the command
  handlerService.executeHandler(cmd);
&lt;/pre&gt;&lt;/div&gt;
&lt;h1 id="luo-ji-ceng-xiang-guan-fu-wu_1"&gt;逻辑层相关服务&lt;/h1&gt;
&lt;h2 id="ieventbroker"&gt;IEventBroker&lt;/h2&gt;
&lt;p&gt;Eclipse 3.x中，事件处理使用Observer模式：事件接收者实现事件发布者指定的Listener接口，并注册到事件发布者。
这带来两个问题：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;一个Listener接口要写很多个实现，这些实现中的代码有重复&lt;/li&gt;
&lt;li&gt;事件发布者和接收者的生命周期紧耦合&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Eclipse e4中，将OSGi的&lt;code&gt;EventAdmin&lt;/code&gt;API封装为事件服务，提供了基于发布、订阅机制的事件处理功能：&lt;code&gt;EventBroker&lt;/code&gt;作为事件总线，通过&lt;code&gt;EventBroker&lt;/code&gt;可以发布和订阅事件。&lt;/p&gt;
&lt;p&gt;要使用e4事件服务，需要增加依赖插件：
    * org.eclipse.e4.core.services
    * org.eclipse.osgi.services&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;获取EventBroker&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;e4中定义了&lt;code&gt;org.eclipse.e4.core.services.events.IEventBroker&lt;/code&gt;接口，可以通过依赖注入、e4上下文等方式获取：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;  @Inject
  IEventBroker eventBroker;

  @Inject
  private IEclipseContext eclipseContext;
  &amp;hellip;&amp;hellip;
  IEventBroker eventBroker = eclipseContext.get(IEventBroker.class);

- 发布事件

可以用`IEventBroker`的`post()`或`send()`方法，进行同步(synchronous)或异步(asynchronous)事件的发布：
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;boolean IEventBroker.post(String topic, Object data) // synchronous delivery&lt;/p&gt;
&lt;p&gt;boolean IEventBroker.send(String topic, Object data) // asynchronous delivery&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;返回值为是否发生成功。


- 订阅事件

可以通过依赖注入或者`IEventBroker`的`subscribe()`方法订阅事件：
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;@Inject
  @Optional
  private void closeHandler(@UIEventTopic(''TOPIC_STRING'') foo.Bar payload) {
    //do something with payload
  }&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;@Inject
  IEventBroker eventBroker;&lt;/p&gt;
&lt;p&gt;org.osgi.service.event.EventHandler closeHandler = new EventHandler() {
    public void handleEvent(Event event) {
        foo.Bar payload = (foo.Bar) event.getProperty(IEventBroker.DATA);
    }
  }&lt;/p&gt;
&lt;p&gt;eventBroker.subscribe(TOPIC_STRING, closeHandler);
  &amp;hellip;&amp;hellip;
  eventBroker.unsubscribe(closeHandler);&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;消息对象(payload)作为附件存储在`IEventBroker.DATA`属性中。对于`Dictionary`或`Map`等集合类型的消息，会将其中所有的值按照KEY添加为属性。

## Logger

Eclipse 3.x中，Log的接口和实现类分别为`org.eclipse.core.runtime.ILog`和`org.osgi.service.log.LogService`，可以使用`ServiceTracker`获取：
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;LogService getLog() {
  fLogServiceTracker = new ServiceTracker(fBundleContext, LogService.class.getName(), null);
  return (LogService) fLogServiceTracker.getService();
}&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;为了方便，在`Plugin`的基类中实现了`getLog()`方法，所有的`Plugin`子类可以直接使用。

在`org.eclipse.e4.core.services`插件中提供了`org.eclipse.e4.core.services.Logger`类，可以通过`@Inject`注解或使用`IEclipseContext`接口获取：
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;@Inject
private Logger logger;&lt;/p&gt;
&lt;p&gt;//or use code:
Logger log = (Logger) context.get(Logger.class.getName());&lt;/p&gt;
&lt;p&gt;```&lt;/p&gt;
&lt;h1 id="shi-xian-zi-ji-de-fu-wu_1"&gt;实现自己的服务&lt;/h1&gt;
&lt;p&gt;Usually services have two parts: the interface definition and the implementation. How these two are linked is defined by a context function , an OSGi service or plain context value setting (IEclipseContext). Please note that there can be more than one service implementation for an interface.&lt;/p&gt;</content><category term="OSGi"></category><category term="java"></category><category term="GUI"></category></entry><entry><title>Tycho：用Maven构建Eclipse Plugin项目</title><link href="http://holbrook.github.io/2014/01/08/build_osgi_bundle_with_tycho_maven_plugin.html" rel="alternate"></link><published>2014-01-08T00:00:00+08:00</published><updated>2014-01-08T00:00:00+08:00</updated><author><name>Holbrook</name></author><id>tag:holbrook.github.io,2014-01-08:/2014/01/08/build_osgi_bundle_with_tycho_maven_plugin.html</id><summary type="html">&lt;p&gt;Tycho以一组maven插件的形式，支持Eclipse的plug-ins, features, update sites (based on p2) 、products等类型工程的构建。&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;a href="http://www.sonatype.org/tycho"&gt;Tycho&lt;/a&gt;是一个Maven插件，目标是使用Maven构建Eclipse插件，OSGI Bundle等工程。&lt;/p&gt;
&lt;p&gt;如果说&lt;a href="http://maven.apache.org/"&gt;Maven&lt;/a&gt;的出现是一群Java程序员受不了繁琐的插件依赖管理，受不了冗长的ant build.xml文件而创造出来的，
那Tycho则是一群Eclipse、OSGi插件开发人员受不了重复地配置类似的Maven pom.xml而创造出来的。&lt;/p&gt;
&lt;p&gt;Tycho以一组maven插件的形式，支持Eclipse的plug-ins, features, update sites (based on p2) 、products等类型的工程，
表现为不同的maven打包类型(packaging):&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;eclipse-plugin&lt;/li&gt;
&lt;li&gt;eclipse-feature&lt;/li&gt;
&lt;li&gt;eclipse-test-plugin&lt;/li&gt;
&lt;li&gt;eclipse-repository&lt;/li&gt;
&lt;li&gt;eclipse-target-definition&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id="fu-gong-cheng"&gt;父工程&lt;/h1&gt;
&lt;p&gt;基于OSGi的工程通常会划分很多模块，对于Maven来说，一般通过一个父工程（parent）来管理所有模块的构建。父工程的&lt;code&gt;packaging&lt;/code&gt;类型为&lt;code&gt;pom&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;为了使用Tycho，需要在父工程的pom文件中增加一些配置。&lt;/p&gt;
&lt;h2 id="zeng-jia-tychocha-jian"&gt;增加Tycho插件&lt;/h2&gt;
&lt;p&gt;父工程中定义的插件可以在所有子工程中使用：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;  &lt;span class="nt"&gt;&amp;lt;properties&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;tycho&lt;/span&gt;&lt;span class="err"&gt;-version&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;0.16.0&lt;span class="nt"&gt;&amp;lt;/tycho-version&amp;gt;&lt;/span&gt;
  &lt;span class="nt"&gt;&amp;lt;/properties&amp;gt;&lt;/span&gt;

  &lt;span class="nt"&gt;&amp;lt;build&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;plugins&amp;gt;&lt;/span&gt;
      &lt;span class="nt"&gt;&amp;lt;plugin&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;org.eclipse.tycho&lt;span class="nt"&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;tycho-maven-plugin&lt;span class="nt"&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;version&amp;gt;&lt;/span&gt;&lt;span class="cp"&gt;${&lt;/span&gt;&lt;span class="n"&gt;tycho&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;version&lt;/span&gt;&lt;span class="cp"&gt;}&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;extensions&amp;gt;&lt;/span&gt;true&lt;span class="nt"&gt;&amp;lt;/extensions&amp;gt;&lt;/span&gt;
      &lt;span class="nt"&gt;&amp;lt;/plugin&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;/plugins&amp;gt;&lt;/span&gt;
  &lt;span class="nt"&gt;&amp;lt;/build&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id="ding-yi-bundlecang-ku"&gt;定义bundle仓库&lt;/h2&gt;
&lt;p&gt;比如，基于Eclipse 4.3(Kepler)的RCP应用，使用了Texo、GeminiJPA等插件，需要如下的仓库定义：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;  &lt;span class="nt"&gt;&amp;lt;repositories&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;repository&amp;gt;&lt;/span&gt;
      &lt;span class="nt"&gt;&amp;lt;id&amp;gt;&lt;/span&gt;Kepler&lt;span class="nt"&gt;&amp;lt;/id&amp;gt;&lt;/span&gt;
      &lt;span class="nt"&gt;&amp;lt;url&amp;gt;&lt;/span&gt;http://download.eclipse.org/releases/kepler&lt;span class="nt"&gt;&amp;lt;/url&amp;gt;&lt;/span&gt;
      &lt;span class="nt"&gt;&amp;lt;layout&amp;gt;&lt;/span&gt;p2&lt;span class="nt"&gt;&amp;lt;/layout&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;/repository&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;repository&amp;gt;&lt;/span&gt;
      &lt;span class="nt"&gt;&amp;lt;id&amp;gt;&lt;/span&gt;Texo&lt;span class="nt"&gt;&amp;lt;/id&amp;gt;&lt;/span&gt;
      &lt;span class="nt"&gt;&amp;lt;url&amp;gt;&lt;/span&gt;http://download.eclipse.org/modeling/emft/texo/updates/interim&lt;span class="nt"&gt;&amp;lt;/url&amp;gt;&lt;/span&gt;
      &lt;span class="nt"&gt;&amp;lt;layout&amp;gt;&lt;/span&gt;p2&lt;span class="nt"&gt;&amp;lt;/layout&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;/repository&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;repository&amp;gt;&lt;/span&gt;
      &lt;span class="nt"&gt;&amp;lt;id&amp;gt;&lt;/span&gt;GeminiJPA&lt;span class="nt"&gt;&amp;lt;/id&amp;gt;&lt;/span&gt;
      &lt;span class="nt"&gt;&amp;lt;url&amp;gt;&lt;/span&gt;http://download.eclipse.org/gemini/jpa/updates&lt;span class="nt"&gt;&amp;lt;/url&amp;gt;&lt;/span&gt;
      &lt;span class="nt"&gt;&amp;lt;layout&amp;gt;&lt;/span&gt;p2&lt;span class="nt"&gt;&amp;lt;/layout&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;/repository&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;repository&amp;gt;&lt;/span&gt;
      &lt;span class="nt"&gt;&amp;lt;id&amp;gt;&lt;/span&gt;EclipseLink&lt;span class="nt"&gt;&amp;lt;/id&amp;gt;&lt;/span&gt;
      &lt;span class="nt"&gt;&amp;lt;url&amp;gt;&lt;/span&gt;http://download.eclipse.org/rt/eclipselink/updates/&lt;span class="nt"&gt;&amp;lt;/url&amp;gt;&lt;/span&gt;
      &lt;span class="nt"&gt;&amp;lt;layout&amp;gt;&lt;/span&gt;p2&lt;span class="nt"&gt;&amp;lt;/layout&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;/repository&amp;gt;&lt;/span&gt;
  &lt;span class="nt"&gt;&amp;lt;/repositories&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id="ding-yi-mu-biao"&gt;定义目标&lt;/h2&gt;
&lt;p&gt;定义不同的目标平台：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;  &lt;span class="nt"&gt;&amp;lt;plugin&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;org.eclipse.tycho&lt;span class="nt"&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;target-platform-configuration&lt;span class="nt"&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;configuration&amp;gt;&lt;/span&gt;
      &lt;span class="nt"&gt;&amp;lt;environments&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;environment&amp;gt;&lt;/span&gt;
          &lt;span class="nt"&gt;&amp;lt;os&amp;gt;&lt;/span&gt;linux&lt;span class="nt"&gt;&amp;lt;/os&amp;gt;&lt;/span&gt;
          &lt;span class="nt"&gt;&amp;lt;ws&amp;gt;&lt;/span&gt;gtk&lt;span class="nt"&gt;&amp;lt;/ws&amp;gt;&lt;/span&gt;
          &lt;span class="nt"&gt;&amp;lt;arch&amp;gt;&lt;/span&gt;x86&lt;span class="nt"&gt;&amp;lt;/arch&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;/environment&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;environment&amp;gt;&lt;/span&gt;
          &lt;span class="nt"&gt;&amp;lt;os&amp;gt;&lt;/span&gt;macosx&lt;span class="nt"&gt;&amp;lt;/os&amp;gt;&lt;/span&gt;
          &lt;span class="nt"&gt;&amp;lt;ws&amp;gt;&lt;/span&gt;cocoa&lt;span class="nt"&gt;&amp;lt;/ws&amp;gt;&lt;/span&gt;
          &lt;span class="nt"&gt;&amp;lt;arch&amp;gt;&lt;/span&gt;x86_64&lt;span class="nt"&gt;&amp;lt;/arch&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;/environment&amp;gt;&lt;/span&gt;
      &lt;span class="nt"&gt;&amp;lt;/environments&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;/configuration&amp;gt;&lt;/span&gt;
  &lt;span class="nt"&gt;&amp;lt;/plugin&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;如果要发布比较复杂的目标，比如Eclipse Product的发布，需要单独构建&lt;code&gt;eclipse-target-definition&lt;/code&gt;类型的子工程。&lt;/p&gt;
&lt;h1 id="wei-xian-you-gong-cheng-sheng-cheng-pom_1"&gt;为现有工程生成pom&lt;/h1&gt;
&lt;p&gt;Tycho提供了一个工具，可以为现有的Eclipse Plugin、Feature等工程生成pom文件，从而将其整合到Tycho的管理之下。&lt;/p&gt;
&lt;p&gt;该工具也是基于maven的，只需要在工程文件夹执行命令：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;    mvn org.eclipse.tycho:tycho-pomgenerator-plugin:generate-poms -DgroupId=thinkinside.tangle
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;生成的pom文件举例如下：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;  &lt;span class="cp"&gt;&amp;lt;?xml version="1.0" encoding="UTF-8"?&amp;gt;&lt;/span&gt;
  &lt;span class="nt"&gt;&amp;lt;project&lt;/span&gt; &lt;span class="na"&gt;xsi:schemaLocation=&lt;/span&gt;&lt;span class="s"&gt;"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"&lt;/span&gt; &lt;span class="na"&gt;xmlns=&lt;/span&gt;&lt;span class="s"&gt;"  http://maven.apache.org/POM/4.0.0"&lt;/span&gt;
      &lt;span class="na"&gt;xmlns:xsi=&lt;/span&gt;&lt;span class="s"&gt;"http://www.w3.org/2001/XMLSchema-instance"&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;modelVersion&amp;gt;&lt;/span&gt;4.0.0&lt;span class="nt"&gt;&amp;lt;/modelVersion&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;thinkinside.tangle&lt;span class="nt"&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;tangle-app&lt;span class="nt"&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;version&amp;gt;&lt;/span&gt;1.0.0-SNAPSHOT&lt;span class="nt"&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;packaging&amp;gt;&lt;/span&gt;eclipse-plugin&lt;span class="nt"&gt;&amp;lt;/packaging&amp;gt;&lt;/span&gt;
  &lt;span class="nt"&gt;&amp;lt;/project&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;由于种种原因，Eclipse Plugin工程的配置内容分散在多个文件中，包括：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;OSGi的配置文件：MANIFEST.MF&lt;/li&gt;
&lt;li&gt;插件工程构建文件：build.properties&lt;/li&gt;
&lt;li&gt;插件定义文件：plugin.xml&lt;/li&gt;
&lt;li&gt;产品描述文件：.product&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;这些文件中的配置项有重复，开发人员要保证各文件中的相关配置的一致性。&lt;/p&gt;
&lt;p&gt;Tycho在生成pom文件时，会检查这些配置文件，将其中的配置项写入pom文件中。&lt;/p&gt;
&lt;p&gt;Tycho的逻辑是以上述标准的配置文件优先。比如，在pom文件中没有定义依赖关系，而是以&lt;code&gt;MANIFEST.MF&lt;/code&gt;中定义的依赖为准。&lt;/p&gt;
&lt;p&gt;如果现有工程已经有了pom文件，还可以使用Tycho进行更新：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;  mvn org.eclipse.tycho:tycho-versions-plugin:update-pom -Dtycho.mode=maven
&lt;/pre&gt;&lt;/div&gt;
&lt;h1 id="mu-biao-ding-yi-zi-gong-cheng"&gt;"目标定义"子工程&lt;/h1&gt;
&lt;p&gt;前面提到，如果要发布比较复杂的目标，比如Eclipse Product的发布，需要单独构建&lt;code&gt;eclipse-target-definition&lt;/code&gt;类型的子工程。&lt;/p&gt;
&lt;p&gt;在"目标定义"子工程中创建&lt;code&gt;.product&lt;/code&gt;文件，然后在pom文件中添加：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;  &lt;span class="nt"&gt;&amp;lt;build&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;plugins&amp;gt;&lt;/span&gt;
      &lt;span class="nt"&gt;&amp;lt;plugin&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;org.eclipse.tycho&lt;span class="nt"&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;tycho-p2-director-plugin&lt;span class="nt"&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;version&amp;gt;&lt;/span&gt;&lt;span class="cp"&gt;${&lt;/span&gt;&lt;span class="n"&gt;tycho&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;version&lt;/span&gt;&lt;span class="cp"&gt;}&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;executions&amp;gt;&lt;/span&gt;
          &lt;span class="nt"&gt;&amp;lt;execution&amp;gt;&lt;/span&gt;
            &lt;span class="c"&gt;&amp;lt;!-- install the product for all configured os/ws/arch environments&lt;/span&gt;
&lt;span class="c"&gt;              using p2 director --&amp;gt;&lt;/span&gt;
            &lt;span class="nt"&gt;&amp;lt;id&amp;gt;&lt;/span&gt;materialize-products&lt;span class="nt"&gt;&amp;lt;/id&amp;gt;&lt;/span&gt;
            &lt;span class="nt"&gt;&amp;lt;goals&amp;gt;&lt;/span&gt;
              &lt;span class="nt"&gt;&amp;lt;goal&amp;gt;&lt;/span&gt;materialize-products&lt;span class="nt"&gt;&amp;lt;/goal&amp;gt;&lt;/span&gt;
            &lt;span class="nt"&gt;&amp;lt;/goals&amp;gt;&lt;/span&gt;
          &lt;span class="nt"&gt;&amp;lt;/execution&amp;gt;&lt;/span&gt;
          &lt;span class="c"&gt;&amp;lt;!-- (optional) create product zips (one per os/ws/arch) --&amp;gt;&lt;/span&gt;
          &lt;span class="nt"&gt;&amp;lt;execution&amp;gt;&lt;/span&gt;
            &lt;span class="nt"&gt;&amp;lt;id&amp;gt;&lt;/span&gt;archive-products&lt;span class="nt"&gt;&amp;lt;/id&amp;gt;&lt;/span&gt;
            &lt;span class="nt"&gt;&amp;lt;goals&amp;gt;&lt;/span&gt;
              &lt;span class="nt"&gt;&amp;lt;goal&amp;gt;&lt;/span&gt;archive-products&lt;span class="nt"&gt;&amp;lt;/goal&amp;gt;&lt;/span&gt;
            &lt;span class="nt"&gt;&amp;lt;/goals&amp;gt;&lt;/span&gt;
          &lt;span class="nt"&gt;&amp;lt;/execution&amp;gt;&lt;/span&gt;



        &lt;span class="nt"&gt;&amp;lt;/executions&amp;gt;&lt;/span&gt;
      &lt;span class="nt"&gt;&amp;lt;/plugin&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;/plugins&amp;gt;&lt;/span&gt;
  &lt;span class="nt"&gt;&amp;lt;/build&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;"目标定义"子工程中还可以使用&amp;rdquo;目标定义文件（Target Definition, *.target）&amp;ldquo;进行复杂的配置。
可以参考&lt;a href="http://wiki.eclipse.org/Tycho/Target_Platform"&gt;这里&lt;/a&gt;的说明，也可以查看&lt;a href="https://github.com/toedter/e4-tutorial"&gt;GitHub上的例子&lt;/a&gt;的例子。&lt;/p&gt;
&lt;h1 id="testgong-cheng"&gt;Test工程&lt;/h1&gt;
&lt;p&gt;与专门的测试工具&lt;a href=""&gt;Pax Exam&lt;/a&gt;相比，Tycho test使用起来会更简单。当然前提是测试由Tycho构建的OSGi应用。&lt;/p&gt;
&lt;p&gt;Tycho将一个"Fragment"工程包装成Maven工程，可以在其中编写测试代码，然后使用"JUnit Plug-in Test"执行测试。&lt;/p&gt;
&lt;h1 id="dui-bi-maven-bundle-plugin"&gt;对比Maven-Bundle-Plugin&lt;/h1&gt;
&lt;p&gt;Maven-Bundle-Plugin提供了与Tycho不同风格的另一种构建OSGi的maven插件。关于二者的对比，可以参考&lt;a href="/2014/01/21/tycho_vs_maven_bundle_plugin.html"&gt;这里&lt;/a&gt;&lt;/p&gt;</content><category term="OSGi"></category><category term="java"></category><category term="GUI"></category></entry><entry><title>Eclipse e4 概览</title><link href="http://holbrook.github.io/2014/01/07/eclipse_e4_RCP_quickstart.html" rel="alternate"></link><published>2014-01-07T00:00:00+08:00</published><updated>2014-01-07T00:00:00+08:00</updated><author><name>Holbrook</name></author><id>tag:holbrook.github.io,2014-01-07:/2014/01/07/eclipse_e4_RCP_quickstart.html</id><summary type="html">&lt;p&gt;尽管至今为止，仍然处于孵化器阶段(Incubation Phase)，但是e4代表了Eclipse的未来。e4提供的新特性包括：&lt;/p&gt;</summary><content type="html">&lt;p&gt;基于EMF的应用模型(Application Model)；依赖注入；基于CSS定义外观&lt;/p&gt;
&lt;p&gt;尽管至今为止，&lt;a href="http://www.eclipse.org/e4/"&gt;Eclipse e4&lt;/a&gt;仍然处于孵化器阶段(Incubation Phase)，但是e4代表了Eclipse的未来。&lt;/p&gt;
&lt;p&gt;e4是位于底层的Equinox、EMF、SWT/JFace和上层的Eclipse应用(Plugin、RCP、RAP等)之间的一个应用开发平台。
从RCP的角度来说，e4的一个主要目标就是更轻松地编写和重用组件。
为了实现这个目标，与之前的Eclipse平台相比，e4带来的新特性主要包括：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;基于EMF的应用模型(Application Model)&lt;/li&gt;
&lt;li&gt;依赖注入&lt;/li&gt;
&lt;li&gt;基于CSS定义外观&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id="kuai-su-kai-shi"&gt;快速开始&lt;/h1&gt;
&lt;p&gt;需要的环境和工具包括：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Java &amp;gt;= 1.7&lt;/li&gt;
&lt;li&gt;Eclipse &amp;gt;= 4.3&lt;/li&gt;
&lt;li&gt;&lt;a href="https://marketplace.eclipse.org/content/enide-eclipse-boostrap-e4"&gt;Enide - Eclipse bootstrap e4&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.eclipse.org/windowbuilder/"&gt;WindowBuilder&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;安装了Eclipse bootstrap e4插件之后，可以创建Eclipse 4 --&amp;gt; Eclipse 4 Application Project。&lt;/p&gt;
&lt;p&gt;生成的目录结构如下：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="images/e4/e4_project.png"/&gt;&lt;/p&gt;
&lt;p&gt;其中，&lt;code&gt;*.product&lt;/code&gt;文件是Eclipse插件项目的产品配置文件，可以以&amp;ldquo;E4Application&amp;rdquo;的方式运行：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="images/e4/e4_product.png"/&gt;&lt;/p&gt;
&lt;p&gt;在&lt;code&gt;*.product&lt;/code&gt;文件上右键--&amp;gt;Run As--&amp;gt;Eclipse Application，就可以启动一个e4应用：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="images/e4/e4_application.png"/&gt;&lt;/p&gt;
&lt;p&gt;整个工程可以导出(Export)为"Eclipse Product"，称为一个可以脱离Eclipse独立运行的、跨平台的RCP应用。&lt;/p&gt;
&lt;h1 id="ying-yong-mo-xing"&gt;应用模型&lt;/h1&gt;
&lt;p&gt;好吧，到目前为止，e4所表现出来的功能与Eclipse 3.x相比没什么区别。但是请关注一下上面生成的&lt;code&gt;Application.e4xmi&lt;/code&gt;文件。
该文件是e4中的应用模型文件。&lt;/p&gt;
&lt;p&gt;在 Eclipse 平台 UI 的早期版本中，workbench 被显式地硬编码来布局 workbench 窗口、workbench 页面、编辑器区域或视图堆栈。e4 引入了额外的一层，可将UI元素提取和抽象成一个模型。应用程序可以重新配置或扩展这个模型来制作不同的外观。这个模型也可被动态操纵；模型的改变可以立即反映出 UI 的变化。&lt;/p&gt;
&lt;p&gt;e4的模型的特性为：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;基于抽象描述&lt;/li&gt;
&lt;li&gt;可以在运行时(runtime)更改&lt;/li&gt;
&lt;li&gt;支持扩展&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="chou-xiang-miao-shu"&gt;抽象描述&lt;/h2&gt;
&lt;p&gt;e4的应用模型基于抽象描述&amp;mdash;&amp;mdash;应用模型只定义了需要哪些组件，而不关注这些组件是如何实现的。e4应用模型实现了应用模型和实际视图(Views)的分离。&lt;/p&gt;
&lt;p&gt;由于应用模型没有绑定的具体实现，这意味着一种可能：同一个应用模型可以用各种界面技术（如SWT/JFace, Swing甚至web，Flash）来实现。&lt;/p&gt;
&lt;p&gt;模型中即描述了可视的组件，如 windows, parts (views 和 editors), menus, toolbars等，也可以描述非可视化组件如handlers, commands , key bindings等。所有能够在模型中描述的组件（包括可视化组件和非可视化组件），都实现了MApplicationElement接口，如下图：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="images/e4/e4_MApplicationElement.png"/&gt;&lt;/p&gt;
&lt;p&gt;用Eclipse 4 model editor打开&lt;code&gt;Application.e4xmi&lt;/code&gt;，可以看到如下的视图：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="images/e4/e4_app_model.png"/&gt;&lt;/p&gt;
&lt;p&gt;&lt;code&gt;Application.e4xmi&lt;/code&gt;是基于EMF定义的。其定义文件(.ecore）位于 org.eclipse.e4.ui.model.workbench 插件的model文件夹中。&lt;/p&gt;
&lt;h2 id="chang-yong-de-ke-shi-hua-zu-jian"&gt;常用的可视化组件&lt;/h2&gt;
&lt;p&gt;e4中的可视化组件描述类都来自&lt;code&gt;MUIElement&lt;/code&gt;，该接口当然也继承了&lt;code&gt;MApplicationElement&lt;/code&gt;接口。
常用的可视化组件包括：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Window&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;窗口。一个Eclipse 应用可以包含一个或多个窗口。&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="images/e4/elements/window.png"/&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Parts&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;e4中不区分Views和editors，而是统一定义为Parts。Part能够放置在用户界面的任何位置，每个Part可以有自己的菜单、工具条，可以出来自己的模型数据。&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="images/e4/elements/part.png"/&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Perspective&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Perspective是Parts的容器，可以管理内部Part的布局。一个应用可以有多个不同的Perspective(不能同时出现)，以适应不同的应用场景。
  比如，Eclipse IDE提供了Java、Java EE、Debug等Perspective。&lt;/p&gt;
&lt;p&gt;在应用模型中，为了管理方便，还可以将Perspective放置到Perspective Stack中。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;PartStack 和 PartSashContainer&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Part可以直接用于Window或Perspective中，也可以将其分组。使用PartStack 和 PartSashContainer可以实现Part的分组和布局管理。&lt;/p&gt;
&lt;p&gt;PartStack可以容纳多个Part，每次只能显示其中一个Part，以页签(tab)的形式进行切换，而PartSashContainer以水平或竖直布局的方式同时显示多个Part。如下图：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="images/e4/elements/partstack.png"/&gt;&lt;/p&gt;
&lt;p&gt;通过PartStack和PartSashContainer的组合，能够创建出非常复杂的布局：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="images/e4/elements/partsashcontainer.png"/&gt;&lt;/p&gt;
&lt;p&gt;PartStack 和 PartSashContainer中的子组件，可以设置&amp;ldquo;容器数据(Container Data)&amp;rdquo;，作为决定自己在容器中布局的参数。&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="images/e4/elements/containerdata.png"/&gt;&lt;/p&gt;
&lt;p&gt;需要注意的是，容器中的所有元素要么都设置容器数据，要么都不设置，否则会出现异常。&lt;/p&gt;
&lt;h1 id="yi-lai-zhu-ru_1"&gt;依赖注入&lt;/h1&gt;
&lt;p&gt;基于上一节的内容，我们可以脱离UI组件的实现，直接定义出应用模型。&lt;/p&gt;
&lt;p&gt;同样的，当我们实现一个UI组件的时候，也完全无需考虑应用模型的存在。在e4中，View甚至无需实现任何接口，而是通过依赖注入的方式获取UI组件的上下文环境。可以使用&lt;a href="/2013/12/31/jsr330.html"&gt;JSR330&lt;/a&gt;中定义的&lt;code&gt;@Inject&lt;/code&gt;注解，也可以使用e4的&lt;code&gt;org.eclipse.e4.ui.di&lt;/code&gt;包中定义的&lt;code&gt;@Focus&lt;/code&gt;、&lt;code&gt;@Persist&lt;/code&gt;等注解。比如：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;public class SamplePart {
    private Text txtInput;
    private TableViewer tableViewer;

    @Inject
    private MDirtyable dirty;

    @PostConstruct
    public void createComposite(Composite parent) {
        parent.setLayout(new GridLayout(1, false));

        txtInput = new Text(parent, SWT.BORDER);
        txtInput.setMessage("Enter text to mark part as dirty");
        txtInput.addModifyListener(new ModifyListener() {
            @Override
            public void modifyText(ModifyEvent e) {
                dirty.setDirty(true);
            }
        });
        txtInput.setLayoutData(new GridData(GridData.FILL_HORIZONTAL));

        tableViewer = new TableViewer(parent);

        tableViewer.add("Sample item 1");
        tableViewer.add("Sample item 2");
        tableViewer.add("Sample item 3");
        tableViewer.add("Sample item 4");
        tableViewer.add("Sample item 5");
        tableViewer.getTable().setLayoutData(new GridData(GridData.FILL_BOTH));
    }

    @Focus
    public void setFocus() {
        tableViewer.getTable().setFocus();
    }

    @Persist
    public void save() {
        dirty.setDirty(false);
    }
}
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;由于UI组件与应用模型完全解耦，可以对UI组件单独进行测试：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;public static void main(String[] args) {
    Display display = new Display();
      Shell shell = new Shell(display);
      shell.setLayout(new FillLayout());
      SamplePart part = new SamplePart();
      part.createComposite(shell);
      shell.open();
      while( !shell.isDisposed() ) {
          if( ! display.readAndDispatch() ) {
            display.sleep();
          }
      }
}
&lt;/pre&gt;&lt;/div&gt;
&lt;h1 id="xiang-mo-xing-zhu-ru-zi-yuan"&gt;向模型注入资源&lt;/h1&gt;
&lt;p&gt;前面两节分别介绍了创建应用模型和UI组件，接下来就是将二者结合起来。&lt;/p&gt;
&lt;p&gt;在应用模型中，使用URI注入外部资源。比如，一个Part的Icon、Class都是通过URI注入的。这些资源是延迟加载(lazy loaded)的&amp;mdash;&amp;mdash;只有显示某个可视化组件时，才加载其需要的资源。&lt;/p&gt;
&lt;p&gt;模型使用的资源即可以在运行时注入或更改，也可以在Eclipse 4 model editor中指定初始的资源：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="images/e4/e4_app_model.png"/&gt;&lt;/p&gt;
&lt;p&gt;任何形式的URI都可以作为资源使用。比如：&lt;code&gt;http://thinkinside.tk/assets/ico/favicon.png&lt;/code&gt;。&lt;/p&gt;
&lt;p&gt;对于Eclipse的插件环境，可以使用应用模型所在的插件(bundle)或来自其他插件的资源，分别使用&lt;/p&gt;
&lt;p&gt;&lt;code&gt;bundleclass://Bundle-SymbolicName/ package.classname&lt;/code&gt; 和&lt;/p&gt;
&lt;p&gt;&lt;code&gt;platform:/plugin/Bundle-SymbolicName/ path/filename.extension&lt;/code&gt;的形式。&lt;/p&gt;
&lt;p&gt;比如：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;bundleclass://tangle-app/parts.SamplePart

platform:/plugin/test/icons/save_edit.gif
&lt;/pre&gt;&lt;/div&gt;
&lt;h1 id="ding-yi-xing-wei"&gt;定义行为&lt;/h1&gt;
&lt;p&gt;e4的应用模型中，通过&lt;code&gt;Handler&lt;/code&gt;定义行为。可视化组件和&lt;code&gt;Handler&lt;/code&gt;之间通过&lt;code&gt;Command&lt;/code&gt;关联。&lt;/p&gt;
&lt;p&gt;与GUI组件一样，Handler的定义和实现也是分离的。在应用模型中定义的&lt;code&gt;Handler&lt;/code&gt;通过Class URI关联到具体的实现类。我们可以单独编写一个&lt;code&gt;Handler&lt;/code&gt;，无需实现任何接口：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;public class MyHandler {
    @Execute
    public void execute(Shell shell) {
        MessageDialog.openInformation(shell, "", "Hello World!");
    }


    @CanExecute
    public boolean canExecute() {

        return true;
    }

}
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;其中，&lt;code&gt;canExecute()&lt;/code&gt;方法是可选的。该方法定义了&lt;code&gt;execute()&lt;/code&gt;方法是否可以被执行的一个开关。&lt;/p&gt;
&lt;p&gt;由于&lt;code&gt;Handler&lt;/code&gt;与应用模型完全解耦，可以单独对&lt;code&gt;Handler&lt;/code&gt;进行测试：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;public static void main(String[] args) {
  Display display = new Display();
  Shell shell = new Shell(display);
  shell.open();
  MyHandler.execute(shell);
  while( !shell.isDisposed() ) {
      if( ! display.readAndDispatch() ) {
        display.sleep();
      }
  }
}
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;最简单的事件处理是菜单/工具条的处理。使用模型编辑器，可以在图形界面中很容易的将&lt;code&gt;Handler&lt;/code&gt;和菜单项都关联到同一个&lt;code&gt;Commnad&lt;/code&gt;，
即实现了行为的定义。这里不做截图，定义好的&lt;code&gt;Application.e4xmi&lt;/code&gt;中相关内容可能是：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;    &lt;span class="c"&gt;&amp;lt;!--定义一个Command--&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;commands&lt;/span&gt; &lt;span class="na"&gt;xmi:id=&lt;/span&gt;&lt;span class="s"&gt;"_4mWoMHcyEeOYmvSF-9z33Q"&lt;/span&gt; &lt;span class="na"&gt;elementId=&lt;/span&gt;&lt;span class="s"&gt;"holbrook.tangle.demo.myCommand"&lt;/span&gt; &lt;span class="na"&gt;commandName=&lt;/span&gt;&lt;span class="s"&gt;"测试Cmd"&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;

    &lt;span class="c"&gt;&amp;lt;!--定义一个Handler，并关联到Command--&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;handlers&lt;/span&gt; &lt;span class="na"&gt;xmi:id=&lt;/span&gt;&lt;span class="s"&gt;"_J-fYsHczEeOYmvSF-9z33Q"&lt;/span&gt; &lt;span class="na"&gt;elementId=&lt;/span&gt;&lt;span class="s"&gt;"holbrook.tangle.demo.myHandler"&lt;/span&gt; &lt;span class="na"&gt;contributionURI=&lt;/span&gt;&lt;span class="s"&gt;"bundleclass://tangle-app/handlers.MyHandler"&lt;/span&gt; &lt;span class="na"&gt;command=&lt;/span&gt;&lt;span class="s"&gt;"_4mWoMHcyEeOYmvSF-9z33Q"&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;

    &lt;span class="c"&gt;&amp;lt;!--定义一个菜单项，也关联到Command--&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;mainMenu&lt;/span&gt; &lt;span class="na"&gt;xmi:id=&lt;/span&gt;&lt;span class="s"&gt;"_FfY8UHbUEeOYmvSF-9z33Q"&lt;/span&gt; &lt;span class="na"&gt;elementId=&lt;/span&gt;&lt;span class="s"&gt;"tangle-app.menu.0"&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
      &lt;span class="nt"&gt;&amp;lt;children&lt;/span&gt; &lt;span class="na"&gt;xsi:type=&lt;/span&gt;&lt;span class="s"&gt;"menu:Menu"&lt;/span&gt; &lt;span class="na"&gt;xmi:id=&lt;/span&gt;&lt;span class="s"&gt;"_OwboQHc0EeOYmvSF-9z33Q"&lt;/span&gt; &lt;span class="na"&gt;elementId=&lt;/span&gt;&lt;span class="s"&gt;"tangle-app.menu.1"&lt;/span&gt; &lt;span class="na"&gt;label=&lt;/span&gt;&lt;span class="s"&gt;"测试菜单"&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;children&lt;/span&gt; &lt;span class="na"&gt;xsi:type=&lt;/span&gt;&lt;span class="s"&gt;"menu:HandledMenuItem"&lt;/span&gt; &lt;span class="na"&gt;xmi:id=&lt;/span&gt;&lt;span class="s"&gt;"_TwOjEHc0EeOYmvSF-9z33Q"&lt;/span&gt; &lt;span class="na"&gt;elementId=&lt;/span&gt;&lt;span class="s"&gt;"tangle-app.handledmenuitem.0"&lt;/span&gt; &lt;span class="na"&gt;label=&lt;/span&gt;&lt;span class="s"&gt;"测试Cmd"&lt;/span&gt; &lt;span class="na"&gt;command=&lt;/span&gt;&lt;span class="s"&gt;"_4mWoMHcyEeOYmvSF-9z33Q"&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
      &lt;span class="nt"&gt;&amp;lt;/children&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;/mainMenu&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h1 id="cssyang-shi"&gt;CSS样式&lt;/h1&gt;
&lt;p&gt;e4将桌面应用和Web应用的一些特性融合在了一起，比如，可以通过CSS定义桌面应用的外观。&lt;/p&gt;
&lt;p&gt;使用Eclipse bootstrap e4创建的Eclipse 4 Application Project，会包含一个&lt;code&gt;css/default.css&lt;/code&gt;的空文件。
编辑这个文件就可以修改应用的外观。&lt;/p&gt;
&lt;p&gt;在e4中，CSS选择器使用&lt;code&gt;type#id.class&lt;/code&gt;的格式。其中：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;type：对应SWT组件类（如Button、Composite等）&lt;/li&gt;
&lt;li&gt;id：对应应用模型中的&lt;code&gt;elementId&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;一些映射关系可以参考&lt;a href="http://wiki.eclipse.org/E4/CSS/SWT_Mapping"&gt;这里&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;下面是一个CSS的例子：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nt"&gt;Text&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="nb"&gt;font&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="n"&gt;Verdana&lt;/span&gt; &lt;span class="m"&gt;15px&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="nb"&gt;color&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nb"&gt;red&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="nb"&gt;background-color&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="nb"&gt;green&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;默认情况下，该CSS就会生效。因为在&lt;code&gt;plugin.xml&lt;/code&gt;中，已经指定了CSS的扩展点：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="images/e4e4_css_extension.png"/&gt;&lt;/p&gt;
&lt;p&gt;更灵活的使用CSS是通过主题管理器。&lt;/p&gt;</content><category term="GUI"></category><category term="java"></category></entry><entry><title>交易策略的基本检验</title><link href="http://holbrook.github.io/2014/01/05/verificating_a_trade_system.html" rel="alternate"></link><published>2014-01-05T00:00:00+08:00</published><updated>2014-01-05T00:00:00+08:00</updated><author><name>Holbrook</name></author><id>tag:holbrook.github.io,2014-01-05:/2014/01/05/verificating_a_trade_system.html</id><summary type="html">&lt;p&gt;交易策略在其生命周期中要经历过多次检验。这些检验通常需要经过统计分析。最基本的检验是不考虑交易成本、指令类型、突发事件、涨跌停和跳空、回波效应等外部因素的影响，只考虑操作信号自身的统计分析指标。&lt;/p&gt;</summary><content type="html">&lt;h1 id="qian-ti-he-jia-she"&gt;前提和假设&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;信号发生时机&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;通常，交易系统无法实时获取分笔数据，而是获取某一个时间段的&lt;a href="/2013/12/18/quotation_model.html#menuIndex1"&gt;成交数据&lt;/a&gt;。每个时间段（比如5分钟，1天）作为一个成交周期。
   由于交易策略都是对成交数据进行事后分析，所以信号通常会滞后一个交易周期产生。&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;成交价格&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;基本检验暂时不考虑&amp;rdquo;无法成交&amp;ldquo;（比如涨跌停）的情况，但是为了检验的严格性，需要采取&amp;rdquo;最不利&amp;ldquo;的价格作为成交价格。即如果是买入信号，取交易周期内的最高价作为成交价格；如果是卖出信号取交易周期内的最低价作为成交价格。&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;样本量&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;为了减小随机误差的影响，每个样本至少要包含30对买入/卖出的交易，即至少要涵盖30个交易周期。&lt;/p&gt;
&lt;h1 id="ji-hui-de-du-liang"&gt;机会的度量&lt;/h1&gt;
&lt;p&gt;交易策略最根本的指标就是获利的机会。统计学中，用&lt;a href="/2013/06/07/statistics_intro_4.html"&gt;概率和分布&lt;/a&gt;来度量机会。相应的，对交易策略的获利机会的度量需要确定以下几个指标：&lt;/p&gt;
&lt;table border="2" cellpadding="6" cellspacing="0" frame="hsides" rules="groups" style="border-collapse: collapse;"&gt;
&lt;thead&gt;
&lt;tr&gt;&lt;th&gt;&lt;/th&gt;&lt;th&gt;总量&lt;/th&gt;&lt;th&gt;比率&lt;/th&gt;&lt;th&gt;分布&lt;/th&gt;&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;金额类&lt;/td&gt;
&lt;td&gt;净利，最大资本金损失程度&lt;/td&gt;
&lt;td&gt;平均盈利额/平均亏损额&lt;/td&gt;
&lt;td&gt;最大盈利/亏损额&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;次数类&lt;/td&gt;
&lt;td&gt;交易周期&lt;/td&gt;
&lt;td&gt;盈利（次数）比率&lt;/td&gt;
&lt;td&gt;盈利次数分布，最大连续盈利/亏损次数&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;ul&gt;
&lt;li&gt;净利&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;净利 = 获利额 - 亏损额 - 交易成本（在基本分析中交易成本=0）&lt;/p&gt;
&lt;p&gt;净利考察一个交易策略是否为盈利的策略。净利为负的策略一定不可用。但净利的大小不是最重要的指标。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;平均盈利额/平均亏损额&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;平均盈利额应大于平均亏损额，否则说明该策略不可用。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;盈利（次数）比率&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;盈利比率=盈利次数/交易周期数&lt;/p&gt;
&lt;p&gt;盈利比率也叫&amp;rdquo;信号成功率&amp;ldquo;，反映了策略所对应的投资理念：是依赖于偶然的巨额获利，还是依赖于多次小额获利。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;盈利次数分布&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;可以考察二项式分布、泊松(Poisson)分布或正态分布。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;盈利标准差&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;标准差越小，说明策略的稳定性越高，越不依赖于偶然的巨额获利。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;最大盈利/亏损额&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;如果最大盈利与平均盈利差距过大，则应视为偶然现象，去除该盈利后重新分析。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;如果最大亏损与平均亏损差距过大，则要慎重制定风险控制策略，避免突发事件风险（分析时 &lt;strong&gt;不&lt;/strong&gt; 去除！）&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;如果最大盈利/亏损所占比重过大，则应怀疑策略的盈利能力和稳定性&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;最大连续盈利/亏损次数&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;连续盈利/亏损会经常出现，这是因为策略是稳定的，但是市场会发生周期性的变化。
  最大连续盈利/亏损次数可以与市场的周期性进行比对。&lt;/p&gt;
&lt;p&gt;结合 &lt;strong&gt;当前&lt;/strong&gt; 盈利/亏损次数 和 &lt;strong&gt;最大&lt;/strong&gt; 盈利/亏损次数，可以决策某次交易的额度。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;最大资本金损失程度&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;是指资本波峰、波谷间的差额。决定了需要准备的资本金。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;交易周期&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;交易周期决定了交易的频繁程度。交易越频繁则交易成本越高。&lt;/p&gt;
&lt;h1 id="yang-ben-de-zhi-liang"&gt;样本的质量&lt;/h1&gt;
&lt;p&gt;对一个交易策略用不同的时间、不同的交易对象反复多次验证，并根据抽样分布（即各样本的统计量，如均值、中位数、标准差等的分布）的特征，剔除一些不合格的样本，重新对交易策略进行综合评价。&lt;/p&gt;
&lt;h1 id="bo-chang-wen-ding-xing"&gt;波长稳定性&lt;/h1&gt;
&lt;p&gt;理论上来说，在各波长下（日线，5分钟线等），信号成功率应该保持稳定。&lt;/p&gt;</content><category term="交易系统"></category></entry><entry><title>Java依赖注入规范：JSR330</title><link href="http://holbrook.github.io/2013/12/31/jsr330.html" rel="alternate"></link><published>2013-12-31T00:00:00+08:00</published><updated>2013-12-31T00:00:00+08:00</updated><author><name>Holbrook</name></author><id>tag:holbrook.github.io,2013-12-31:/2013/12/31/jsr330.html</id><summary type="html">&lt;p&gt;Java World似乎总会出现一些接口规范，这样做的好处是可以面向接口编程，可以在实现了该接口的产品/组件之间自由切换，避免被厂商绑架。 本文要介绍的JSR330:Dependency Injection for Java，Java依赖注入规范。&lt;/p&gt;</summary><content type="html">&lt;h1 id="yi-lai-guan-xi"&gt;依赖关系&lt;/h1&gt;
&lt;p&gt;在面向对象编程中，我们常常处理依赖。比如ClassA依赖ClassB，通常需要：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;ClassA a = new ClassA();
ClassB b = new ClassB();

a.setB(b);
a.xxx();
&amp;hellip;&amp;hellip;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;大量这样的依赖处理会导致高耦合度，并且由于通过硬编码组织对象和资源，代码不具有灵活性。&lt;/p&gt;
&lt;h1 id="dihe-ioc"&gt;DI和IoC&lt;/h1&gt;
&lt;p&gt;一种更好的处理方式是 &lt;strong&gt;依赖注入&lt;/strong&gt; 。比如上面的例子中：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;通过某种方式声明&amp;ldquo;ClassA &lt;strong&gt;依赖&lt;/strong&gt; ClassB&amp;rdquo;&lt;/li&gt;
&lt;li&gt;使用ClassA时，有某种机制自动创建ClassB并将其 &lt;strong&gt;注入&lt;/strong&gt; 到ClassA&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;这里面，&amp;ldquo;某种机制&amp;rdquo;需要一个容器来实现。这个容器叫做"IoC(Inversion of Control)容器"。
之所以叫做&amp;ldquo;控制反转&amp;rdquo;，是说不在对象中直接控制，而是由容器控制创建对象、为对象注入其他对象和资源等行为。&lt;/p&gt;
&lt;p&gt;IoC是一种思想，实际上我们遇到的大多数&amp;ldquo;容器&amp;rdquo;都有对其内容的控制功能。&lt;/p&gt;
&lt;p&gt;对于前一节的例子，IoC容器可能会有这样一个处理过程：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;创建ClassA&lt;/li&gt;
&lt;li&gt;分析ClassA的依赖项，得出其依赖ClassB&lt;/li&gt;
&lt;li&gt;创建ClassB&lt;/li&gt;
&lt;li&gt;将ClassB注入到ClassA&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;之后，我们可以直接从容器中获取创建并组装好的ClassA对象，无需任何处理即可使用。&lt;/p&gt;
&lt;p&gt;关于DI和IoC，可以参考Martin Fowler的经典文章：&lt;a href="http://www.martinfowler.com/articles/injection.html"&gt;《Inversion of Control Containers and the Dependency Injection pattern》&lt;/a&gt;&lt;/p&gt;
&lt;h1 id="yi-lai-de-miao-shu"&gt;依赖的描述&lt;/h1&gt;
&lt;p&gt;在DI和IoC的历史上，&lt;a href="http://spring.io/"&gt;Spring&lt;/a&gt;功不可没。可以说，Spring使得DI和IoC称为Java应用开发的主流方式。&lt;/p&gt;
&lt;p&gt;2004年3月，&lt;a href="https://spring.io/blog/2004/03/24/spring-framework-1-0-final-released"&gt;Spring 1.0&lt;/a&gt;
使用外部配置文件(xml)描述对象之间的依赖关系。&lt;/p&gt;
&lt;p&gt;2004年10月，JDK1.5开始支持注解(Annotations)语法。&lt;/p&gt;
&lt;p&gt;2007年3月， &lt;a href="https://code.google.com/p/google-guice/"&gt;Google Guice&lt;/a&gt; 1.0发布，使用annotations作为依赖描述的方式。&lt;/p&gt;
&lt;p&gt;2007年11月，&lt;a href="https://spring.io/blog/2007/11/19/spring-framework-2-5-released"&gt;Spring 2.5&lt;/a&gt;也开始支持annotation。&lt;/p&gt;
&lt;h1 id="jsr330"&gt;JSR330&lt;/h1&gt;
&lt;p&gt;随着各种IoC容器的出现，依赖的描述方式也五花八门。为了规范和统一，JCP(Java Community Process)于2009年10月发布了
&lt;a href="https://jcp.org/en/jsr/detail?id=330"&gt;JSR330&lt;/a&gt;。&lt;/p&gt;
&lt;p&gt;JSR330在javax.inject中规定了依赖注入的标准注解(Annotations)。包括：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;@Inject&lt;/code&gt; : 标记为&amp;ldquo;可注入&amp;rdquo;。可用于构造器(constructors), 方法(methods)或字段(fields)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;@Qualifier&lt;/code&gt; : 限定器&lt;/li&gt;
&lt;li&gt;&lt;code&gt;@Scope&lt;/code&gt; : 标记作用域&lt;/li&gt;
&lt;li&gt;&lt;code&gt;@Named&lt;/code&gt; : 基于 String 的限定器&lt;/li&gt;
&lt;li&gt;&lt;code&gt;@Singleton&lt;/code&gt; : 标记为单例&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;JSR330只规定了依赖注入的描述，对于容器实现未作要求。目前 Spring 、Guice 、Eclipse e4等常用框架已经开始兼容该规范。
JSR-299（Contexts and Dependency Injection for Java EE platform，参考实现 Weld ）在依赖注入上也使用该规范。&lt;/p&gt;
&lt;p&gt;比如，定义两个接口：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;interface MessageRenderer {
    public void render();

    public void setMessageProvider(MessageProvider provider);

    public MessageProvider getMessageProvider();
}

interface MessageProvider {
    public String getMessage();
}
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;很明显，一个MessageRenderer依赖一个MessageProvider。&lt;/p&gt;
&lt;p&gt;在实现类中，可以使用依赖注入：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="n"&gt;StandardOutMessageRenderer&lt;/span&gt; &lt;span class="n"&gt;implements&lt;/span&gt; &lt;span class="n"&gt;MessageRenderer&lt;/span&gt; {

    &lt;span class="nv"&gt;@Inject&lt;/span&gt;
    &lt;span class="nv"&gt;@Named&lt;/span&gt;(&lt;span class="s"&gt;"messageProvider"&lt;/span&gt;)
    &lt;span class="n"&gt;private&lt;/span&gt; &lt;span class="n"&gt;MessageProvider&lt;/span&gt; &lt;span class="n"&gt;messageProvider&lt;/span&gt; = &lt;span class="n"&gt;null&lt;/span&gt;;

        &lt;span class="n"&gt;public&lt;/span&gt; &lt;span class="nb"&gt;void&lt;/span&gt; &lt;span class="n"&gt;render&lt;/span&gt;() {
        &lt;span class="k"&gt;if&lt;/span&gt; (&lt;span class="n"&gt;messageProvider&lt;/span&gt; == &lt;span class="n"&gt;null&lt;/span&gt;) {
            &lt;span class="n"&gt;throw&lt;/span&gt; &lt;span class="nb"&gt;new&lt;/span&gt; &lt;span class="n"&gt;RuntimeException&lt;/span&gt;(
                    &lt;span class="s"&gt;"You must set the property messageProvider of class:"&lt;/span&gt;
                            + &lt;span class="n"&gt;StandardOutMessageRenderer&lt;/span&gt;.&lt;span class="k"&gt;class&lt;/span&gt;.&lt;span class="n"&gt;getName&lt;/span&gt;());
        }

        &lt;span class="n"&gt;System&lt;/span&gt;.&lt;span class="n"&gt;out&lt;/span&gt;.&lt;span class="n"&gt;println&lt;/span&gt;(&lt;span class="n"&gt;messageProvider&lt;/span&gt;.&lt;span class="n"&gt;getMessage&lt;/span&gt;());
        }

        &lt;span class="n"&gt;public&lt;/span&gt; &lt;span class="nb"&gt;void&lt;/span&gt; &lt;span class="n"&gt;setMessageProvider&lt;/span&gt;(&lt;span class="n"&gt;MessageProvider&lt;/span&gt; &lt;span class="n"&gt;provider&lt;/span&gt;) {
        &lt;span class="n"&gt;this&lt;/span&gt;.&lt;span class="n"&gt;messageProvider&lt;/span&gt; = &lt;span class="n"&gt;provider&lt;/span&gt;;
        }

        &lt;span class="n"&gt;public&lt;/span&gt; &lt;span class="n"&gt;MessageProvider&lt;/span&gt; &lt;span class="n"&gt;getMessageProvider&lt;/span&gt;() {
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;this&lt;/span&gt;.&lt;span class="n"&gt;messageProvider&lt;/span&gt;;
        }

}


&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="n"&gt;ConfigurableMessageProvider&lt;/span&gt; &lt;span class="n"&gt;implements&lt;/span&gt; &lt;span class="n"&gt;MessageProvider&lt;/span&gt; {

        &lt;span class="n"&gt;private&lt;/span&gt; &lt;span class="n"&gt;String&lt;/span&gt; &lt;span class="n"&gt;message&lt;/span&gt; = &lt;span class="s"&gt;"Default message"&lt;/span&gt;;

        &lt;span class="n"&gt;public&lt;/span&gt; &lt;span class="n"&gt;ConfigurableMessageProvider&lt;/span&gt;() {
        }

        &lt;span class="nv"&gt;@Inject&lt;/span&gt;
        &lt;span class="nv"&gt;@Named&lt;/span&gt;(&lt;span class="s"&gt;"message"&lt;/span&gt;)
        &lt;span class="n"&gt;public&lt;/span&gt; &lt;span class="n"&gt;ConfigurableMessageProvider&lt;/span&gt;(&lt;span class="n"&gt;String&lt;/span&gt; &lt;span class="n"&gt;message&lt;/span&gt;) {
                &lt;span class="n"&gt;this&lt;/span&gt;.&lt;span class="n"&gt;message&lt;/span&gt; = &lt;span class="n"&gt;message&lt;/span&gt;;
        }

        &lt;span class="n"&gt;public&lt;/span&gt; &lt;span class="nb"&gt;void&lt;/span&gt; &lt;span class="n"&gt;setMessage&lt;/span&gt;(&lt;span class="n"&gt;String&lt;/span&gt; &lt;span class="n"&gt;message&lt;/span&gt;) {
                &lt;span class="n"&gt;this&lt;/span&gt;.&lt;span class="n"&gt;message&lt;/span&gt; = &lt;span class="n"&gt;message&lt;/span&gt;;
        }

        &lt;span class="n"&gt;public&lt;/span&gt; &lt;span class="n"&gt;String&lt;/span&gt; &lt;span class="n"&gt;getMessage&lt;/span&gt;() {
                &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;message&lt;/span&gt;;
        }

}
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;其中，ConfigurableMessageProvider的构造函数中依赖一个&lt;code&gt;String&lt;/code&gt;类型的参数。&lt;/p&gt;
&lt;h1 id="springshi-xian"&gt;spring实现&lt;/h1&gt;
&lt;p&gt;Spring 3.0开始支持JSR330。下面的例子中，使用spring的classpath scanning功能
(&lt;a href="http://www.infoq.com/articles/spring-2.5-part-1"&gt;从spring2.5开始支持&lt;/a&gt;)，
会自动组装bean。&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="cp"&gt;&amp;lt;?xml version="1.0" encoding="UTF-8"?&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;beans&lt;/span&gt; &lt;span class="na"&gt;xmlns=&lt;/span&gt;&lt;span class="s"&gt;"http://www.springframework.org/schema/beans"&lt;/span&gt;
        &lt;span class="na"&gt;xmlns:xsi=&lt;/span&gt;&lt;span class="s"&gt;"http://www.w3.org/2001/XMLSchema-instance"&lt;/span&gt;
        &lt;span class="na"&gt;xmlns:context=&lt;/span&gt;&lt;span class="s"&gt;"http://www.springframework.org/schema/context"&lt;/span&gt;
        &lt;span class="na"&gt;xsi:schemaLocation=&lt;/span&gt;&lt;span class="s"&gt;"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.1.xsd&lt;/span&gt;
&lt;span class="s"&gt;                http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.1.xsd"&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;

    &lt;span class="nt"&gt;&amp;lt;context:component-scan&lt;/span&gt; &lt;span class="na"&gt;base-package=&lt;/span&gt;&lt;span class="s"&gt;"demo"&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;bean&lt;/span&gt; &lt;span class="na"&gt;id=&lt;/span&gt;&lt;span class="s"&gt;"message"&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;"java.lang.String"&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;constructor-arg&lt;/span&gt; &lt;span class="na"&gt;value=&lt;/span&gt;&lt;span class="s"&gt;"You are running JSR330!"&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;/bean&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;/beans&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nt"&gt;public&lt;/span&gt; &lt;span class="nt"&gt;static&lt;/span&gt; &lt;span class="nt"&gt;void&lt;/span&gt; &lt;span class="nt"&gt;main&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nt"&gt;String&lt;/span&gt;&lt;span class="cp"&gt;[]&lt;/span&gt; &lt;span class="nt"&gt;args&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;

    &lt;span class="n"&gt;GenericXmlApplicationContext&lt;/span&gt; &lt;span class="n"&gt;ctx&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;new&lt;/span&gt; &lt;span class="n"&gt;GenericXmlApplicationContext&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
    &lt;span class="n"&gt;ctx&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;load&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"classpath:jsr330.xml"&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="n"&gt;ctx&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;refresh&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
    &lt;span class="n"&gt;MessageRenderer&lt;/span&gt; &lt;span class="n"&gt;renderer&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;ctx&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;getBean&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"messageRenderer"&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt;
            &lt;span class="n"&gt;MessageRenderer&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;class&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="n"&gt;renderer&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;render&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
    &lt;span class="n"&gt;ctx&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;close&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</content><category term="Java"></category></entry><entry><title>从规则引擎到复杂事件处理(CEP)</title><link href="http://holbrook.github.io/2013/12/22/from_rule_to_cep.html" rel="alternate"></link><published>2013-12-22T00:00:00+08:00</published><updated>2013-12-22T00:00:00+08:00</updated><author><name>Holbrook</name></author><id>tag:holbrook.github.io,2013-12-22:/2013/12/22/from_rule_to_cep.html</id><summary type="html">&lt;p&gt;Drools Fusion既是规则引擎，又可以作为CEP。除了&lt;a href="/2013/12/21/event_in_CEP.html"&gt;事件定义&lt;/a&gt;和&lt;a href="/2013/12/21/Temporal_of_CEP.html"&gt;时间推理&lt;/a&gt;之外，对于引擎本身也会有一些不同的使用。主要体现在会话时钟、流模式、滑动窗口和对事件的内存管理。&lt;/p&gt;</summary><content type="html">&lt;p&gt;Drools Fusion既是规则引擎，又可以作为CEP。除了&lt;a href="/2013/12/21/event_in_CEP.html"&gt;事件定义&lt;/a&gt;和&lt;a href="/2013/12/21/Temporal_of_CEP.html"&gt;时间推理&lt;/a&gt;之外，对于引擎本身也会有一些不同的使用。主要体现在会话时钟、流模式、滑动窗口和对事件的内存管理。&lt;/p&gt;
&lt;h1 id="hui-hua-shi-zhong"&gt;会话时钟&lt;/h1&gt;
&lt;p&gt;由于事件的时间性，处理事件时需要一个参考时钟。
这个参考时钟在会话配置(KnowledgeSessionConfiguration)中指定，所以称为会话时钟(Session Clock)。&lt;/p&gt;
&lt;p&gt;有很多种场景需要对时钟进行控制，比如：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;规则测试&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;测试总是需要一个可控的环境,并且当测试包含了带有时间约束的 规则时,不仅需要控制输入规则和事实,而且也需要时间流。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;定期(regular)执行&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;通常,在运行生产规则时,应用程序需要一个实时时 钟,允许引擎对时间的行进立即作出反应。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;特殊环境&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;特殊环境可以对时间的控制有特殊的要求。群集环境可能需要在心 跳中的时钟同步,或 JEE 环境可能需要使用一个应用服务器提供的时钟,等 等。
- 规则重演或模拟&lt;/p&gt;
&lt;p&gt;要重演场景或模拟场景也需要应用程序控制时间流。&lt;/p&gt;
&lt;p&gt;Drools中默认使用基于系统时钟的实时时钟(realtime)，也可以使用能被应用程序控制的伪时钟(pseudo)。设置伪时钟的方法如下：&lt;/p&gt;
&lt;p&gt;{% highlight java %}
KnowledgeSessionConfiguration conf = KnowledgeBaseFactory.newKnowledgeSessionConfiguration();
conf.setOption( ClockTypeOption.get( "pseudo" ) );&lt;/p&gt;
&lt;p&gt;StatefulKnowledgeSession session =kbase.newStatefulKnowledgeSession( conf, null );&lt;/p&gt;
&lt;p&gt;SessionPseudoClock clock = session.getSessionClock();&lt;/p&gt;
&lt;p&gt;// then, while inserting facts, advance the clock as necessary:
FactHandle handle1 = session.insert( tick1 );
clock.advanceTime( 10, TimeUnit.SECONDS );
FactHandle handle2 = session.insert( tick2 );
clock.advanceTime( 30, TimeUnit.SECONDS );
FactHandle handle3 = session.insert( tick3 );&lt;/p&gt;
&lt;p&gt;{% endhighlight %}&lt;/p&gt;
&lt;h1 id="liu-mo-shi"&gt;流模式&lt;/h1&gt;
&lt;p&gt;Drools默认运行在云(Cloud)模式下。云模式下没有时间流的概念，引擎知道所有的事实(Fact)和事件(Event)。此时引擎将所有的事实/事件看做是一个无序的云。&lt;/p&gt;
&lt;p&gt;由于云模式下引擎没有&amp;ldquo;现在&amp;rdquo;的概念，尽管事件具有时间戳、期限等元数据，这些数据也仅仅作为事件的属性，
不代表事件发生的顺序，也不能进行&lt;a href="/2013/12/21/Temporal_of_CEP.html"&gt;时间推理&lt;/a&gt;。&lt;/p&gt;
&lt;p&gt;如果需要处理实时/准实时事件(Event)，需要&lt;a href="/2013/12/21/Temporal_of_CEP.html"&gt;时间推理&lt;/a&gt;，Drools必须工作在流(Stream)模式下。
此时要求每个流中的事件必须按照时间顺序插入。&lt;/p&gt;
&lt;h2 id="qi-yong-liu-mo-shi"&gt;启用流模式&lt;/h2&gt;
&lt;p&gt;Drools默认运行在云模式下，可以通过以下方式启用流模式：&lt;/p&gt;
&lt;p _="%" endhighlight=""&gt;{% highlight java %}
KnowledgeBaseConfiguration config =
KnowledgeBaseFactory.newKnowledgeBaseConfiguration();
config.setOption( EventProcessingOption.STREAM );&lt;/p&gt;
&lt;p&gt;也可以使用属性文件定义：&lt;code&gt;drools.eventProcessingMode = stream&lt;/code&gt;。&lt;/p&gt;
&lt;h2 id="ru-kou-dian"&gt;入口点&lt;/h2&gt;
&lt;p&gt;Drools定义了工作空间的多个入口点(WorkingMemoryEntryPoint)，每个入口点可以看做是一个事件流，可以将事件通过不同的入口点插入到工作空间中。&lt;/p&gt;
&lt;p&gt;来自同一个入口点的事件通过时间戳被排序。每个流既可以包含单一类型的事件，也可以包含多种类型的事件。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;声明入口点&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;入口点不需要显式声明，在规则中引用的入口点都会在规则编译期间被自动识别和创建。比如：&lt;/p&gt;
&lt;p&gt;&lt;code&gt;rule "authorize withdraw"
      when
          WithdrawRequest( $ai : accountId, $am : amount ) from entry-point "ATM Stream"
          CheckingAccount( accountId == $ai, balance &amp;gt; $am )
      then
          // authorize withdraw
  end&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;规则编译器会识别"ATM Stream"入口点，并在规则库中创建该入口点。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;使用入口点&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;举例如下：&lt;/p&gt;
&lt;p&gt;{% highlight java %}
    // create your rulebase and your session as usual
    StatefulKnowledgeSession session = ...
    // get a reference to the entry point
    WorkingMemoryEntryPoint atmStream =
    session.getWorkingMemoryEntryPoint( "ATM Stream" );
    // and start inserting your facts into the entry point
    atmStream.insert( aWithdrawRequest );&lt;/p&gt;
&lt;p&gt;{% endhighlight %}&lt;/p&gt;
&lt;p&gt;除了这种手工插入事实的方式之外，Drools还提供了一系列的管道API和适配器，可以将其他流(如JMS、IO流、Socket等)之间接入到入口点上。&lt;/p&gt;
&lt;h1 id="hua-dong-chuang-kou_1"&gt;滑动窗口&lt;/h1&gt;
&lt;p&gt;在流模式中，规则的&lt;a href="/2012/12/06/rule_language.html#menuIndex3"&gt;LHS部分&lt;/a&gt;
可以使用滑动窗口限定只关注一定范围内的事件。这个范围可以是时间或事件的个数，分别成为滑动时间窗口和滑动长度窗口。&lt;/p&gt;
&lt;p&gt;比如：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="x"&gt;StockTick() over window:time( 2m )&lt;/span&gt;

&lt;span class="x"&gt;Number( doubleValue &amp;gt; &lt;/span&gt;&lt;span class="p"&gt;$&lt;/span&gt;&lt;span class="nv"&gt;max&lt;/span&gt;&lt;span class="x"&gt; ) from accumulate(&lt;/span&gt;
&lt;span class="x"&gt;    SensorReading( &lt;/span&gt;&lt;span class="p"&gt;$&lt;/span&gt;&lt;span class="nv"&gt;temp&lt;/span&gt;&lt;span class="x"&gt; : temperature ) over window:time( 10m ), average( &lt;/span&gt;&lt;span class="p"&gt;$&lt;/span&gt;&lt;span class="nv"&gt;temp&lt;/span&gt;&lt;span class="x"&gt; )&lt;/span&gt;
&lt;span class="x"&gt;)&lt;/span&gt;

&lt;span class="x"&gt;StockTick( company == "IBM" ) over window:length( 10 )&lt;/span&gt;

&lt;span class="x"&gt;Number( doubleValue &amp;gt; &lt;/span&gt;&lt;span class="p"&gt;$&lt;/span&gt;&lt;span class="nv"&gt;max&lt;/span&gt;&lt;span class="x"&gt; ) from accumulate(&lt;/span&gt;
&lt;span class="x"&gt;    SensorReading( &lt;/span&gt;&lt;span class="p"&gt;$&lt;/span&gt;&lt;span class="nv"&gt;temp&lt;/span&gt;&lt;span class="x"&gt; : temperature ) over window:length( 100 ), average( &lt;/span&gt;&lt;span class="p"&gt;$&lt;/span&gt;&lt;span class="nv"&gt;temp&lt;/span&gt;&lt;span class="x"&gt; )&lt;/span&gt;
&lt;span class="x"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h1 id="nei-cun-guan-li"&gt;内存管理&lt;/h1&gt;
&lt;p&gt;在流模式下，引擎自动执行事件的内存管理。对于不可能再被匹配的事件自动释放。&lt;/p&gt;
&lt;p&gt;引擎会关注事件的@expires中指定的到期时间，并分析规则中隐含的到期时间，进行自动释放。&lt;/p&gt;</content><category term="CEP"></category></entry><entry><title>CEP中的时间推理(Temporal)</title><link href="http://holbrook.github.io/2013/12/21/Temporal_of_CEP.html" rel="alternate"></link><published>2013-12-21T00:00:00+08:00</published><updated>2013-12-21T00:00:00+08:00</updated><author><name>Holbrook</name></author><id>tag:holbrook.github.io,2013-12-21:/2013/12/21/Temporal_of_CEP.html</id><summary type="html">&lt;p&gt;时间推理(Temporal)是CEP中特有的条件判断(LHS)。本文介绍13种时间推理运算符及其DRL表示&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;a href="/2012/11/06/about_cep.html"&gt;CEP&lt;/a&gt;中的&lt;a href="/2013/12/21/event_in_CEP.html"&gt;事件(Event)&lt;/a&gt;具有两个与时间相关的属性。一个是timestamp，标记事件发生的时间；另一个是duration，标记事件持续的时间间隔。&lt;/p&gt;
&lt;p&gt;由这两个时间属性，还可以计算出事件结束的事件。&lt;/p&gt;
&lt;p&gt;时间推理(Temporal)是CEP中特有的条件判断(&lt;a href="/2012/12/06/rule_language.html#menuIndex3"&gt;LHS&lt;/a&gt;)，其判断的要素正是基于事件的上述时间属性。&lt;/p&gt;
&lt;p&gt;Allen在《An Interval-based Representation of Temporal Knowledge》中描述了13种时间推理的运算符。&lt;/p&gt;
&lt;p&gt;下面用DRL语言介绍这13种运算符。其中，运算符的参数格式均为&lt;code&gt;[#d][#h][#m][#s][#[ms]]&lt;/code&gt;。比如&lt;code&gt;3m30s&lt;/code&gt;、&lt;code&gt;4m&lt;/code&gt;等。&lt;/p&gt;
&lt;h1 id="after-he-beforezhi-qian-he-zhi-hou"&gt;After 和 Before(之前和之后)&lt;/h1&gt;
&lt;p&gt;&lt;img alt="After 和 Before" src="images/rule-engine/temporal-after_and_before.png"/&gt;&lt;/p&gt;
&lt;p&gt;```
  // x&amp;isin;[a,b]时，满足以下条件
  //A发生在B之前
  $eventA : EventA( this before[a,b] $eventB )
  //B发生在A之后
  $eventB : EventB( this after[a,b] $eventA )&lt;/p&gt;
&lt;p&gt;```&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;如果没有给出参数，则a=1ms, b=+&amp;infin;&lt;/li&gt;
&lt;li&gt;如果只给出一个参数a,则b=+&amp;infin;&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id="coincidestong-shi-fa-sheng"&gt;Coincides（同时发生）&lt;/h1&gt;
&lt;p&gt;&lt;img alt="Coincides" src="images/rule-engine/temporal-coincides.png"/&gt;&lt;/p&gt;
&lt;p&gt;```
  // x&amp;isin;[0,a]，且y&amp;isin;[0,b]时，满足以下条件
  $eventA : EventA( this coincides[a,b] $eventB )
  $eventB : EventB( this coincides[a,b] $eventA )&lt;/p&gt;
&lt;p&gt;```&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;如果只给出一个参数a,则b=a&lt;/li&gt;
&lt;li&gt;如果不给出参数，则a=0,b=0&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id="during-he-includesbao-han"&gt;During 和 Includes（包含）&lt;/h1&gt;
&lt;p&gt;&lt;img alt="During 和 Includes" src="images/rule-engine/temporal-during.png"/&gt;&lt;/p&gt;
&lt;p&gt;```
  // x&amp;isin;[a,b]，且y&amp;isin;[c,d]时，满足以下条件
  //A在B期间发生
  $eventA : EventA( this during[a,b,c,d] $eventB )
  //B包含A
  $eventB : EventB( this includes[a,b,c,d] $eventA )&lt;/p&gt;
&lt;p&gt;```&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;如果只给出二个参数a,b,则c=a,d=b&lt;/li&gt;
&lt;li&gt;如果只给出一个参数b,则a=0,c=0,d=b&lt;/li&gt;
&lt;li&gt;如果不给出参数，则a=0,b=+&amp;infin;, c=0,d=+&amp;infin;&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id="finishes-he-finished-bytong-shi-jie-shu"&gt;Finishes 和 Finished by（同时结束）&lt;/h1&gt;
&lt;p&gt;&lt;img alt="Finishes 和 Finished by" src="images/rule-engine/temporal-finishes.png"/&gt;&lt;/p&gt;
&lt;p&gt;```
  // x&amp;isin;[0,a]时，满足以下条件
  //A在B之后开始，和B同时结束
  $eventA : EventA( this finishes[a] $eventB )
  //B在A之前开始，和B同时结束
  $eventB : EventB( this finishedby[a] $eventA )&lt;/p&gt;
&lt;p&gt;```&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;如果不给出参数，则a=0&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id="meets-he-met-byxiang-lin"&gt;Meets 和 Met by（相邻）&lt;/h1&gt;
&lt;p&gt;&lt;img alt="Meets 和 Met by" src="images/rule-engine/temporal-after_and_before.png"/&gt;&lt;/p&gt;
&lt;p&gt;```
  // x&amp;isin;[0,a]时，满足以下条件
  //A结束时B开始
  $eventA : EventA( this meets[a] $eventB )
  //A结束时B开始
  $eventB : EventB( this metby[a] $eventA )&lt;/p&gt;
&lt;p&gt;```&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;如果没有给出参数，则a=0&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id="overlaps-he-overlappd-byxiang-jiao"&gt;Overlaps 和 Overlappd by（相交）&lt;/h1&gt;
&lt;p&gt;&lt;img alt="Overlaps 和 Overlappd by" src="images/rule-engine/temporal-overlaps.png"/&gt;&lt;/p&gt;
&lt;p&gt;```
  // x&amp;isin;[a,b]时，满足以下条件
  //A在B之前开始，在B之后结束
  $eventA : EventA( this overlaps[a,b] $eventB )
  //B在A之后开始，在A之前结束
  $eventB : EventB( this overlappedby[a,b] $eventA )&lt;/p&gt;
&lt;p&gt;```&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;如果只给出一个参数b,则a=0&lt;/li&gt;
&lt;li&gt;如果不给出参数，则a=0,b=0&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id="starts-he-started-bytong-shi-kai-shi"&gt;Starts 和 Started by（同时开始）&lt;/h1&gt;
&lt;p&gt;&lt;img alt="Starts 和 Started by" src="images/rule-engine/temporal-starts.png"/&gt;&lt;/p&gt;
&lt;p&gt;```
  // x&amp;isin;[0,a]时，满足以下条件
  //A和B同时开始，A先结束
  $eventA : EventA( this starts[a] $eventB )
  //B和A同时开始，B后结束
  $eventB : EventB( this startedby[a] $eventA )&lt;/p&gt;
&lt;p&gt;```&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;如果不给出参数，则a=+&amp;infin;&lt;/li&gt;
&lt;/ul&gt;</content><category term="CEP"></category></entry><entry><title>CEP中的事件(Event)</title><link href="http://holbrook.github.io/2013/12/21/event_in_CEP.html" rel="alternate"></link><published>2013-12-21T00:00:00+08:00</published><updated>2013-12-21T00:00:00+08:00</updated><author><name>Holbrook</name></author><id>tag:holbrook.github.io,2013-12-21:/2013/12/21/event_in_CEP.html</id><summary type="html">&lt;p&gt;&lt;a href="/2012/11/06/about_cep.html"&gt;CEP&lt;/a&gt;处理复杂事件。宽泛的事件，是指在应用程序域中的状态的一个有意义改变的一条记录。
而复杂事件处理关注&lt;a href="/2013/12/21/Temporal_of_CEP.html"&gt;事件之间的相关性&lt;/a&gt;,以及原子事件组合成的复杂(复合)事件。&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;a href="/2012/11/06/about_cep.html"&gt;CEP&lt;/a&gt;处理复杂事件。宽泛的事件，是指在应用程序域中的状态的一个有意义改变的一条记录。
而复杂事件处理关注&lt;a href="/2013/12/21/Temporal_of_CEP.html"&gt;事件之间的相关性&lt;/a&gt;,以及原子事件组合成的复杂(复合)事件。&lt;/p&gt;
&lt;p&gt;CEP与规则引擎有类似之处，但CEP中的事件(Event)是一种特殊类型的事实(Fact)。其特殊性在于：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;不可改变&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;事件记录了已经发生的事情，而&amp;ldquo;过去&amp;rdquo;是不可改变的。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;强时间约束&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;事件有发生的时点，事件之间通常基于事件发生的时点进行关联。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;被管理的生命周期&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;有效时间窗口之外的事件不再有意义，可以被引擎自动回收。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;可以通过时间聚合&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;因为所有的事件都有与它们关联的时间戳,所以,对它们可以 定义和使用滑动窗口,允许在一个时间段上根据值的聚合创建规则,
  例如, 整个 60 分钟的一个事件的值的平均值。&lt;/p&gt;
&lt;p&gt;复杂事件处理(CEP),本质上是一个事件处理概念,涉及处理多个事件的任务与在事件云内部识别有意义事件的目标。&lt;/p&gt;
&lt;p&gt;或者说，CEP从事件云/事件流中检测和选择感兴趣的事件, 找出它们之间的关系,根据它们和它们之间的关系推断新的数据。&lt;/p&gt;
&lt;p&gt;由于CEP与规则引擎类似之处，CEP通常基于规则引擎。比如，Drools Fusion即是规则引擎，也可以作为CEP。&lt;/p&gt;
&lt;h1 id="shi-jian-sheng-ming"&gt;事件声明&lt;/h1&gt;
&lt;p&gt;DRL中的&lt;a href="/2012/12/06/rule_language.html#menuIndex7"&gt;declare&lt;/a&gt;可以用于声明事件，只需要在declare中增加一条&lt;code&gt;@role(event)&lt;/code&gt;
的元数据。实际上，declare默认隐含了&lt;code&gt;@role(fact)&lt;/code&gt;的元数据，表面声明的是事实(Fact)。&lt;/p&gt;
&lt;p&gt;比如：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;some.package.StockTick&lt;/span&gt;
&lt;span class="n"&gt;declare&lt;/span&gt; &lt;span class="n"&gt;StockTick&lt;/span&gt;
    &lt;span class="nd"&gt;@role&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="n"&gt;event&lt;/span&gt; &lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;end&lt;/span&gt;

&lt;span class="o"&gt;//&lt;/span&gt;&lt;span class="err"&gt;或者使用内嵌的事件声明&lt;/span&gt;
&lt;span class="n"&gt;declare&lt;/span&gt; &lt;span class="n"&gt;StockTick&lt;/span&gt;
    &lt;span class="nd"&gt;@role&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="n"&gt;event&lt;/span&gt; &lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;datetime&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;java&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;util&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Date&lt;/span&gt;
    &lt;span class="n"&gt;symbol&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;String&lt;/span&gt;
    &lt;span class="n"&gt;price&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;double&lt;/span&gt;
&lt;span class="n"&gt;end&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h1 id="shi-jian-yuan-shu-ju"&gt;事件元数据&lt;/h1&gt;
&lt;p&gt;除了&lt;code&gt;@role&lt;/code&gt;之外，事件还有一些Fact不具备的元数据。可以在declare中指定。&lt;/p&gt;
&lt;h2 id="timestamp"&gt;@timestamp&lt;/h2&gt;
&lt;p&gt;事件默认的时间戳是在insert到工作空间时，由引擎从Session Clock 获取并分配给事件。如果要指定使用事件的某一个属性作为时间戳，
  可以用&lt;code&gt;@timestamp&lt;/code&gt;元数据指定。比如：&lt;/p&gt;
&lt;p&gt;&lt;code&gt;declare StockTick
      @role( event )
      @timestamp( datetime )
      datetime : java.util.Date
      symbol : String
      price : double
  end&lt;/code&gt;&lt;/p&gt;
&lt;h2 id="duration"&gt;@duration&lt;/h2&gt;
&lt;p&gt;默认事件的期限为0，称为point-in-time 事件。有些事件具有期限性，称为interval-based 事件。&lt;/p&gt;
&lt;p&gt;要声明事件的期限，通过&lt;code&gt;@duration&lt;/code&gt;指定事件的一个属性，该属性以 &lt;strong&gt;毫秒数&lt;/strong&gt; 记录了事件的期限。&lt;/p&gt;
&lt;h2 id="expires"&gt;@expires&lt;/h2&gt;
&lt;p&gt;当引擎运行在流(STREAM)模式时，指定一个过期时间可以用于内存管理。其格式为&lt;code&gt;[#d][#h][#m][#s][#[ms]]&lt;/code&gt;，比如：&lt;code&gt;@expires( 1h35m )&lt;/code&gt;&lt;/p&gt;</content><category term="CEP"></category></entry><entry><title>Drools规则引擎API概述</title><link href="http://holbrook.github.io/2013/12/20/drools_API.html" rel="alternate"></link><published>2013-12-20T00:00:00+08:00</published><updated>2013-12-20T00:00:00+08:00</updated><author><name>Holbrook</name></author><id>tag:holbrook.github.io,2013-12-20:/2013/12/20/drools_API.html</id><summary type="html">&lt;p&gt;规则引擎中，将知识表达为规则（rules），要分析的情况定义为事实（facts）。二者在内存中的存储分别称为Production Memory和Working Memory。在外围，还会有一个执行引擎（Execution Engine）。
与此对应，规则引擎API也分成三个部分。在Drools中，分别叫做Knowledge API，Fact API和Execution API。&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;a href="/2012/03/20/rule_engine_1.html"&gt;如前所述&lt;/a&gt;，
规则引擎中，将知识表达为规则（rules），要分析的情况定义为事实（facts）。二者在内存中的存储分别称为Production Memory和Working Memory。在外围，还会有一个执行引擎（Execution Engine）。&lt;/p&gt;
&lt;p&gt;与此对应，规则引擎API也分成三个部分。在Drools中，分别叫做Knowledge API，Fact API和Execution API。&lt;/p&gt;
&lt;h1 id="knowledge-api"&gt;Knowledge API&lt;/h1&gt;
&lt;p&gt;Drools将知识库(KnowledgeBase)作为&lt;a href="/2012/12/07/jsr94.html"&gt;JSR94&lt;/a&gt;中的规则执行集(RuleExecutionSet)。知识库中的知识以包(KnowledgePackage)为单位组合而成。每个包中聚合多个规则(Rule)。&lt;/p&gt;
&lt;p&gt;通常，一个包中的内容会在一个或多个资源(Resource)中保存。资源的类型可以有很多种,如.drl 文件、.dslr 文件或 xls 文件等。&lt;/p&gt;
&lt;p&gt;规则包还可以从规则流(rule flow) 文件中获取。&lt;/p&gt;
&lt;p&gt;&lt;img alt="KnowledgeBase" src="images/rule-engine/KnowledgeBase.png"/&gt;&lt;/p&gt;
&lt;p&gt;与此对应，Drools定义了一组Knowledge API来操作知识库。&lt;/p&gt;
&lt;p&gt;&lt;img alt="KnowledgeBase" src="images/rule-engine/KnowledgeAPI.png"/&gt;&lt;/p&gt;
&lt;p&gt;构建知识库的一般过程为：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;通过ResourceFactory获取资源。可以从Classpath、URL、File、ByteArray、Reader等输入源中获取&lt;/li&gt;
&lt;li&gt;构建KnowledgeBuilder，将资源添加到KnowledgeBuilder中。KnowledgeBuilder通常由KnowledgeBuilderFactory创建&lt;/li&gt;
&lt;li&gt;从KnowledgeBuilder中获取规则包&lt;/li&gt;
&lt;li&gt;创建KnowledgeBase，可以通过KnowledgeBaseConfiguration定义KnowledgeBase的一些属性，默认的配置位于drools-core-VERSION.jar 包下 META-INF/drools.default.rulebase.conf 文件中&lt;/li&gt;
&lt;li&gt;将规则包添加到KnowledgeBase&lt;/li&gt;
&lt;li&gt;为KnowledgeBase添加KnowledgeBaseEventListener，可以监控KnowledgeBase中的事件&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;代码示例：&lt;/p&gt;
&lt;p&gt;{% highlight java %}&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nt"&gt;KnowledgeBase&lt;/span&gt; &lt;span class="nt"&gt;buildKBase&lt;/span&gt;&lt;span class="o"&gt;()&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;

    &lt;span class="n"&gt;Resource&lt;/span&gt; &lt;span class="n"&gt;res&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;ResourceFactory&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;newClassPathResource&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"hello.drl"&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="n"&gt;Demo&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;class&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

    &lt;span class="n"&gt;KnowledgeBuilder&lt;/span&gt; &lt;span class="n"&gt;kbuilder&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;KnowledgeBuilderFactory&lt;/span&gt;
            &lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;newKnowledgeBuilder&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;

    &lt;span class="n"&gt;kbuilder&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;add&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;res&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt;&lt;span class="n"&gt;ResourceType&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;DRL&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

    &lt;span class="o"&gt;//&lt;/span&gt;&lt;span class="n"&gt;validate&lt;/span&gt;
    &lt;span class="n"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;kbuilder&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;hasErrors&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt; &lt;span class="err"&gt;{&lt;/span&gt;
        &lt;span class="n"&gt;System&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;out&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;println&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"规则中存在错误,错误消息如下:"&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
        &lt;span class="n"&gt;KnowledgeBuilderErrors&lt;/span&gt; &lt;span class="n"&gt;kbuidlerErrors&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;kbuilder&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;getErrors&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
        &lt;span class="n"&gt;for&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Iterator&lt;/span&gt; &lt;span class="n"&gt;iter&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;kbuidlerErrors&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;iterator&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt; &lt;span class="n"&gt;iter&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;hasNext&lt;/span&gt;&lt;span class="p"&gt;();)&lt;/span&gt; &lt;span class="err"&gt;{&lt;/span&gt;
            &lt;span class="n"&gt;System&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;out&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;println&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;iter&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;next&lt;/span&gt;&lt;span class="p"&gt;());&lt;/span&gt;
        &lt;span class="p"&gt;}&lt;/span&gt;
    &lt;span class="err"&gt;}&lt;/span&gt;

    &lt;span class="nt"&gt;Collection&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;KnowledgePackage&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="nt"&gt;kpackages&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nt"&gt;kbuilder&lt;/span&gt;&lt;span class="nc"&gt;.getKnowledgePackages&lt;/span&gt;&lt;span class="o"&gt;();&lt;/span&gt;

    &lt;span class="nt"&gt;KnowledgeBaseConfiguration&lt;/span&gt; &lt;span class="nt"&gt;kbConf&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt;
            &lt;span class="nt"&gt;KnowledgeBaseFactory&lt;/span&gt;&lt;span class="nc"&gt;.newKnowledgeBaseConfiguration&lt;/span&gt;&lt;span class="o"&gt;();&lt;/span&gt;
    &lt;span class="nt"&gt;kbConf&lt;/span&gt;&lt;span class="nc"&gt;.setProperty&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt; &lt;span class="s2"&gt;"org.drools.sequential"&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;"true"&lt;/span&gt;&lt;span class="o"&gt;);&lt;/span&gt;

    &lt;span class="o"&gt;//&lt;/span&gt;&lt;span class="nt"&gt;KnowledgeBase&lt;/span&gt; &lt;span class="nt"&gt;kbase&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nt"&gt;KnowledgeBaseFactory&lt;/span&gt;&lt;span class="nc"&gt;.newKnowledgeBase&lt;/span&gt;&lt;span class="o"&gt;();&lt;/span&gt;
    &lt;span class="nt"&gt;KnowledgeBase&lt;/span&gt; &lt;span class="nt"&gt;kbase&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt;
            &lt;span class="nt"&gt;KnowledgeBaseFactory&lt;/span&gt;&lt;span class="nc"&gt;.newKnowledgeBase&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nt"&gt;kbConf&lt;/span&gt;&lt;span class="o"&gt;);&lt;/span&gt;

    &lt;span class="nt"&gt;kbase&lt;/span&gt;&lt;span class="nc"&gt;.addKnowledgePackages&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nt"&gt;kpackages&lt;/span&gt;&lt;span class="o"&gt;);&lt;/span&gt;

    &lt;span class="nt"&gt;return&lt;/span&gt; &lt;span class="nt"&gt;kbase&lt;/span&gt;&lt;span class="o"&gt;;&lt;/span&gt;
&lt;span class="err"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;{% endhighlight %}&lt;/p&gt;
&lt;h1 id="fact-api"&gt;Fact API&lt;/h1&gt;
&lt;p&gt;要操作Working Memory，首先要建立规则引擎的一个会话。Drools中的有状态会话和无状态会话分别为StatefulKnowledgeSession和StatelessKnowledgeSession，都可以由KnowledgeBase建立。&lt;/p&gt;
&lt;p&gt;通过会话可以进行操作Fact对象，执行规则等交互，例如：&lt;/p&gt;
&lt;p&gt;{% highlight java %}&lt;/p&gt;
&lt;p&gt;KnowledgeBase kbase = buildKBase();&lt;/p&gt;
&lt;p&gt;StatefulKnowledgeSession statefulKSession=kbase.newStatefulKnowledgeSession();
statefulKSession.setGlobal("globalTest", new Object());&lt;/p&gt;
&lt;p&gt;statefulKSession.insert(new Object());
statefulKSession.fireAllRules();
statefulKSession.dispose();&lt;/p&gt;
&lt;p&gt;{% endhighlight %}&lt;/p&gt;
&lt;p&gt;StatefulKnowledgeSession中，insert()方法、fireAllRules()方法和 dispose()方法是分开执行的，这个过程中可以进行一定的控制，
而StatelessKnowledgeSession不同，在无状态会话中，上述三个方法被合并为execute()方法，不能分开调用。如果要插入多个Fact对象，只能使用集合，比如：&lt;/p&gt;
&lt;p&gt;{% highlight java %}
StatelessKnowledgeSession statelessKSession=kbase.newStatelessKnowledgeSession();
ArrayList list=new ArrayList();
list.add(new Object());
list.add(new Object());
statelessKSession.execute(list);&lt;/p&gt;
&lt;p&gt;{% endhighlight %}&lt;/p&gt;
&lt;p&gt;这样的特点决定了，无状态会话适合推演和分析，需要事先知道所有的事实(Fact)；而有状态会话可以随时增加事实并进行批评，适合实际应用。&lt;/p&gt;
&lt;p&gt;无状态会话中还可以使用execute(Command cmd)方法。比如，如果要在无状态会话中插入一个List，可以用CommandFactory生成一个关于List的Command:&lt;/p&gt;
&lt;p _="%" endhighlight=""&gt;{% highlight java %}
statelessKSession.execute(CommandFactory.newInsert(list));&lt;/p&gt;
&lt;p&gt;同样，无状态会话中如果要设置global，也需要使用Command:&lt;/p&gt;
&lt;p&gt;{% highlight java %}
ArrayList&lt;command&gt; list=new ArrayList&lt;command&gt;();&lt;/command&gt;&lt;/command&gt;&lt;/p&gt;
&lt;p&gt;list.add(CommandFactory.newInsert(new Object()));
list.add(CommandFactory.newInsert(new Object()));&lt;/p&gt;
&lt;p&gt;list.add(CommandFactory.newSetGlobal("key1", new Object()));
list.add(CommandFactory.newSetGlobal("key2", new Object()));&lt;/p&gt;
&lt;p _="%" endhighlight=""&gt;statelessKSession.execute(CommandFactory.newBatchExecution(list)) ;&lt;/p&gt;
&lt;h1 id="execution-api"&gt;Execution API&lt;/h1&gt;
&lt;p&gt;插入到WorkingMemory中的对象，并不是克隆，而是对原对象的引用。这就意味着引擎中可以改变外部的对象，这是引擎与外部数据交互的一个通道。&lt;/p&gt;
&lt;p&gt;此外，insert()方法还会返回一个FactHandler，作为引擎中该Fact对象的一个句柄。&lt;/p&gt;
&lt;p&gt;最后，session上可以注册AgendaEventListener、ProcessEventListener和WorkingMemoryEventListener，这也是常用的交互方式。
比如WorkingMemoryEventListener可以监听Fact对象变化的事件：&lt;/p&gt;
&lt;p&gt;{% highlight java %}
public interface WorkingMemoryEventListener
    extends
    EventListener {
    void objectInserted(ObjectInsertedEvent event);&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;void objectUpdated(ObjectUpdatedEvent event);

void objectRetracted(ObjectRetractedEvent event);
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;}&lt;/p&gt;
&lt;p&gt;{% endhighlight %}&lt;/p&gt;</content><category term="规则引擎"></category></entry><entry><title>使用Oracle Berkeley DB持久化股票行情数据</title><link href="http://holbrook.github.io/2013/12/19/Berkeley_DB.html" rel="alternate"></link><published>2013-12-19T00:00:00+08:00</published><updated>2013-12-19T00:00:00+08:00</updated><author><name>Holbrook</name></author><id>tag:holbrook.github.io,2013-12-19:/2013/12/19/Berkeley_DB.html</id><summary type="html"></summary><content type="html">&lt;h1 id="guan-xi-shu-ju-ku-shu-ju-wen-jian-huan-shi-nosql"&gt;关系数据库，数据文件 还是 NoSQL&lt;/h1&gt;
&lt;p&gt;股票行情数据具有如下特点：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;数据量大&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;对于分析来说，至少需要5分钟数据。如果每天交易时间为4小时，每年250个交易日，则一支股票一年的行情数据量为60/5&lt;em&gt;4&lt;/em&gt;250= 12k。20年则为240k。如果是1分钟数据，则20年的数据量为240k*5 = 1.2M。&lt;/p&gt;
&lt;p&gt;所以，如果用于分析，行情数据将是百万量级。如果记录3000只股票/指数的数据，数据量会非常大。&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;数据很少变化&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;由于都是历史数据，行情数据很少需要修改。主要的操作是查询和增加。&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;数据结构简单&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;主要考虑&lt;a href="/2013/12/18/quotation_model.html#menuIndex2"&gt;成交数据&lt;/a&gt;，是一种简单的一维结构。价格数据只在发生交易信号时有一定的参考意义，不需要保留所有的历史记录。&lt;/p&gt;
&lt;p&gt;由于行情数据的这些特点，通常不适合使用关系数据库。传统上一般采用数据文件进行存储。&lt;/p&gt;
&lt;p&gt;但是用数据文件需要自己处理写入锁，随机读写，序列化等问题，比较麻烦。于是&lt;a href="/2013/12/18/nosql_list.html#menuIndex1"&gt;NoSQL&lt;/a&gt;成了比较好的一种选择。&lt;/p&gt;
&lt;p&gt;对于单机的分析软件，&lt;a href="/2013/12/18/nosql_list.html#menuIndex2"&gt;NoSQL选型要素&lt;/a&gt;为：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;key/value儲存&lt;/li&gt;
&lt;li&gt;支持持久化&lt;/li&gt;
&lt;li&gt;支持嵌入式&lt;/li&gt;
&lt;li&gt;接口方便&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id="oracle-berkeley-db"&gt;Oracle Berkeley DB&lt;/h1&gt;
&lt;p&gt;&lt;a href="http://www.oracle.com/technetwork/cn/products/berkeleydb/overview/index.html"&gt;Berkeley DB&lt;/a&gt;是满足上述4点要求的比较好的一款产品。Berkeley DB分为BDB、BDB Java版和BDB XML版。其总体架构如下图：&lt;/p&gt;
&lt;p&gt;&lt;img alt="Berkeley DB" src="images/trade-system/berkeley-db.png"/&gt;&lt;/p&gt;
&lt;p&gt;BDB的三个版本的功能不完全相同。&lt;/p&gt;
&lt;p&gt;我选择BDB Java版，不支持SQL API和XQuery API，可以使用底层的键/值API、Java 直接持久层 (DPL) API和Java 集合 API。三种API的应用场景如下：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;当 Java 类是用来代表应用中的域对象(domain objects),也就是说,该模式是相对 稳定的,建议用直接持久层。&lt;/li&gt;
&lt;li&gt;当在Berkeley DB和Berkeley DB Java 版之间移植应用程序时,或当实现自己的 动态模式(举例来说,一个 LDAP 服务器),那么建议用基础 API。您也可能喜欢使用这 个基础API如果您有极少数域类(domain class)。&lt;/li&gt;
&lt;li&gt;集合API有利于和外部组件交互,因为它遵从Java集合框架标准。继而,和基础API 以及直接持久层结合后会很有用。您可能会喜欢这个 API,因为它提供了熟悉的 Java 集 合接口。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;在行情数据的持久化中，可以选用直接持久层（DPL）。直接持久层API 可以持久化以及还原相互关联的 Java 对象，但是比ORM更加简单高效。&lt;/p&gt;
&lt;h1 id="shi-xian-guo-cheng"&gt;实现过程&lt;/h1&gt;
&lt;h2 id="huo-qu-kai-fa-bao"&gt;获取开发包&lt;/h2&gt;
&lt;p&gt;可以从&lt;a href="http://www.oracle.com/technetwork/cn/products/berkeleydb/downloads/index.html"&gt;这里&lt;/a&gt;下载需要的jar包，也可以使用maven：&lt;/p&gt;
&lt;p&gt;{% highlight xml %}&lt;/p&gt;
&lt;p&gt;&lt;dependency&gt;
&lt;groupid&gt;com.sleepycat&lt;/groupid&gt;
&lt;artifactid&gt;je&lt;/artifactid&gt;
&lt;version&gt;5.0.73&lt;/version&gt;
&lt;/dependency&gt;&lt;/p&gt;
&lt;p&gt;{% endhighlight %}&lt;/p&gt;
&lt;p&gt;如果要使用最新版（目前的最新版是5.0.97），需要引入oracle的maven库：&lt;/p&gt;
&lt;p _="%" endhighlight=""&gt;{% highlight xml %}
&lt;repositories&gt;
&lt;repository&gt;
&lt;id&gt;oracleReleases&lt;/id&gt;
&lt;name&gt;Oracle Released Java Packages&lt;/name&gt;
&lt;url&gt;http://download.oracle.com/maven&lt;/url&gt;
&lt;layout&gt;default&lt;/layout&gt;
&lt;/repository&gt;
&lt;/repositories&gt;&lt;/p&gt;
&lt;h2 id="ding-yi-chi-jiu-hua-mo-xing"&gt;定义持久化模型&lt;/h2&gt;
&lt;h3 id="shi-ti-he-zhi-dui-xiang"&gt;实体和值对象&lt;/h3&gt;
&lt;p&gt;Berkeley DB支持DDD(领域驱动设计)中的实体和值对象的持久化。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;实体：拥有长期不变的标识符,可以被跟踪的对象。&lt;/li&gt;
&lt;li&gt;值对象：没有标识符，主要关注其属性的对象。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;在BDB中，分别使用 &lt;strong&gt;@Entity&lt;/strong&gt; 和 &lt;strong&gt;@Persistent&lt;/strong&gt; 来声明实体和值对象。
声明了 &lt;strong&gt;@Persistent&lt;/strong&gt; 的对象可以直接作为 &lt;strong&gt;@Entity&lt;/strong&gt; 对象中的属性使用。&lt;/p&gt;
&lt;p&gt;任何Java类一旦增加了持久化声明，其所有字段（任何作用域）都会被持久化。需要持久化的类需要缺省的无参数构造函数。&lt;/p&gt;
&lt;p&gt;比如：&lt;/p&gt;
&lt;p&gt;{% highlight java %}&lt;/p&gt;
&lt;p&gt;@Entity
public class Transaction {
    &amp;hellip;&amp;hellip;
    public OHLC ohlc;
    &amp;hellip;&amp;hellip;
}&lt;/p&gt;
&lt;p&gt;@Persistent
public class OHLC {
    public float open,high,low,close;
}&lt;/p&gt;
&lt;p&gt;{% endhighlight %}&lt;/p&gt;
&lt;h3 id="zhu-jian-he-ci-jian-sheng-ming"&gt;主键和&amp;ldquo;次键&amp;rdquo;声明&lt;/h3&gt;
&lt;p&gt;每个实体类(@Entity)可以定义一个主键(PrimaryKey)和多个次键(SecondaryKey)，从而可以按照主键或次键进行索引。例如：&lt;/p&gt;
&lt;p&gt;{% highlight java %}&lt;/p&gt;
&lt;p&gt;@Entity
public class Security implements Instrument{
    @PrimaryKey
    private String code;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;@SecondaryKey(relate=Relationship.ONE_TO_ONE)
private String name;
&amp;hellip;&amp;hellip;
&lt;/pre&gt;&lt;/div&gt;
&lt;p _="%" endhighlight=""&gt;}&lt;/p&gt;
&lt;h3 id="guan-lian-guan-xi"&gt;关联关系&lt;/h3&gt;
&lt;p&gt;关联关系也是通过次键(SecondaryKey)声明的。需要同时指定多重性（relate）和关联到的实体（relatedEntity）。
relate可以是ONE_TO_ONE,ONE_TO_MANY,MANY_TO_ONE或MANY_TO_MANY(在com.sleepycat.persist.model.Relationship中定义)。&lt;/p&gt;
&lt;p&gt;需要注意的是，次键的属性类型需要是relatedEntity指定的对端实体的主键类型，而不能直接使用对端实体。&lt;/p&gt;
&lt;p&gt;如果relate是ONE_TO_MANY或MANY_TO_MANY，可以使用集合类型。比如（不属于股票行情数据模型，而是BDB官方例子）：&lt;/p&gt;
&lt;p&gt;{% highlight java %}&lt;/p&gt;
&lt;p&gt;@Entity
class Employer {
    @PrimaryKey(sequence="ID")
    long id;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;@SecondaryKey(relate=ONE_TO_ONE) String name;
&amp;hellip;&amp;hellip;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;}&lt;/p&gt;
&lt;p&gt;@Entity
class Person {
    @PrimaryKey
    String ssn;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;@SecondaryKey(relate=MANY_TO_ONE, relatedEntity=Person.class)
String parentSsn;

@SecondaryKey(relate=ONE_TO_MANY)
Set&amp;lt;String&amp;gt; emailAddresses = new HashSet&amp;lt;String&amp;gt;();

@SecondaryKey(relate=MANY_TO_MANY, relatedEntity=Employer.class, onRelatedEntityDelete=NULLIFY)
Set&amp;lt;Long&amp;gt; employerIds = new HashSet&amp;lt;Long&amp;gt;();
&amp;hellip;&amp;hellip;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;}&lt;/p&gt;
&lt;p&gt;{% endhighlight %}&lt;/p&gt;
&lt;h2 id="shi-yong-dpl-api_1"&gt;使用DPL API&lt;/h2&gt;
&lt;h3 id="she-ji-accessortodo"&gt;设计Accessor(TODO)&lt;/h3&gt;
&lt;p&gt;类似于DAO，BDB中通常将对实体的访问封装到Accessor中。例如：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;EntityStore&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;获取索引&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;CRUD&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;访问关联对象&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;通过索引可以得到关联的对象，无论是单个关联对象还是集合。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;关联到单个对象&lt;/li&gt;
&lt;li&gt;关联到集合&lt;/li&gt;
&lt;/ul&gt;
&lt;p _="%" endhighlight=""&gt;{% highlight java %}
EntityCursor&lt;person&gt; employees = dao.personByEmployerIds.subIndex(gizmoInc.id).entities();
try {
    for (Person employee : employees) {
System.out.println(employee.ssn + ' ' + employee.name); }
} finally {
    employees.close();
}&lt;/person&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;等值连接&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;通过 EntityJoin 类可以进行等值连 接(equality join)操作。&lt;/p&gt;
&lt;p&gt;比如，以下代码查询所有Bob的孩子中为gizmo公司工作的 员工:&lt;/p&gt;
&lt;p _="%" endhighlight=""&gt;{% highlight java %}
EntityJoin&lt;string,person&gt; join = new EntityJoin(dao.personBySsn);
join.addCondition(dao.personByParentSsn, "111-11-1111"); join.addCondition(dao.personByEmployerIds, gizmoInc.id);
ForwardCursor&lt;person&gt; results = join.entities(); try {
for (Person person : results) { System.out.println(person.ssn + ' ' + person.name);
}
} finally {
    results.close();
}&lt;/person&gt;&lt;/string,person&gt;&lt;/p&gt;
&lt;h3 id="jian-li-lian-jie"&gt;建立连接&lt;/h3&gt;
&lt;h3 id="shi-wu-zhi-chi"&gt;事务支持&lt;/h3&gt;
&lt;p _="%" endhighlight=""&gt;{% highlight java %}
Transaction txn = env.beginTransaction(null, null); dao.employerById.put(txn, gizmoInc); dao.employerById.put(txn, gadgetInc);
txn.commit();&lt;/p&gt;
&lt;h3 id="mo-xing-bian-hua"&gt;模型变化&lt;/h3&gt;
&lt;p&gt;对于增加实体或值对象的属性，改变属性类型等变化，一般不需要对BDB进行额外的处理，而是会自动适应。&lt;/p&gt;
&lt;p&gt;对于一些特殊的、无法自动适应的变化，比如重命名字段或优化单个的类(如:使用通用类型,模块复用等改变),可以使用Mutations。&lt;/p&gt;
&lt;p&gt;Mutations 操作是延迟的:只在存取数据时自动改变,故避免了软件升级时大型数据库转换导致的长时间停机。
复杂的类优化可能涉及到多个类,使用 ConversionStore 进行。因而,无论持久化类作出何种 改变,直接持久层都始终提供可靠数据存取。&lt;/p&gt;
&lt;h3 id="xing-neng-xuan-xiang"&gt;性能选项&lt;/h3&gt;
&lt;p&gt;Berkeley DB在API的很多地方提供了性能调优的选项。常见的包括：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;DatabaseConfig参数&lt;/li&gt;
&lt;/ul&gt;
&lt;p _="%" endhighlight=""&gt;通过DatabaseConfig参数可以用来调整Berkeley DB引擎的性能。
  比如,可指定内部B树节点的大小来调整性能,通过如下方式来指定:
{% highlight java %}
    DatabaseConfig config = store.getPrimaryConfig(Employer.class);
    config.setNodeMaxEntries(64);
    store.setPrimaryConfig(config);&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;CRUD操作参数&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;例如, &amp;ldquo;脏读&amp;rdquo;可通过LockMode参数实现:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;Employer employer = employerByName.get(null, "Gizmo Inc", LockMode.READ_UNCOMMITTED);
&lt;/pre&gt;&lt;/div&gt;</content><category term="交易系统"></category></entry><entry><title>交易策略与规则引擎</title><link href="http://holbrook.github.io/2013/12/19/trading_strategy.html" rel="alternate"></link><published>2013-12-19T00:00:00+08:00</published><updated>2013-12-19T00:00:00+08:00</updated><author><name>Holbrook</name></author><id>tag:holbrook.github.io,2013-12-19:/2013/12/19/trading_strategy.html</id><summary type="html"></summary><content type="html">&lt;h1 id="jiao-yi-ce-lue-de-yao-dian"&gt;交易策略的要点&lt;/h1&gt;
&lt;p&gt;&lt;a href="/2013/12/16/trade_system.html"&gt;前面&lt;/a&gt;提到，交易策略是系统化交易的核心。但是要注意的是，风险管理比交易策略要重要10倍。&lt;/p&gt;
&lt;p&gt;交易策略的一些要点整理如下：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;交易策略是一套完整的交易规则体系&lt;/li&gt;
&lt;li&gt;这些规则对投资决策的各个环节做出明确规定&lt;/li&gt;
&lt;li&gt;这些规则必须客观、唯一&lt;/li&gt;
&lt;li&gt;所谓完整，至少要包括入场和出场两个规则&amp;mdash;&amp;mdash;完成一个完整的交易周期，入场和出场信号必须确定会发生&lt;/li&gt;
&lt;li&gt;出场策略比入场策略要重要10倍&lt;/li&gt;
&lt;li&gt;越简单的策略越可靠&lt;/li&gt;
&lt;li&gt;要有错误处理机制&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id="jiao-yi-ce-lue-de-chong-lei"&gt;交易策略的种类&lt;/h1&gt;
&lt;p&gt;所谓&lt;a href="/2012/03/20/rule_engine_1.html"&gt;规则，规定了一组确定的条件和此条件所产生的结果&lt;/a&gt;。根据条件的类别不同，可以把交易策略分成以下几种：&lt;/p&gt;
&lt;h2 id="ji-yu-ji-zhu-zhi-biao"&gt;基于技术指标&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;例1&lt;/li&gt;
&lt;li&gt;规则定义&lt;ul&gt;
&lt;li&gt;入场规则：短期均线上穿长期均线&lt;/li&gt;
&lt;li&gt;出场规则：短期均线下穿长期均线&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;评价&lt;/p&gt;
&lt;p&gt;简单但完整的交易策略&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;例2&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;规则定义&lt;ul&gt;
&lt;li&gt;入场规则：RSI&amp;lt;10&lt;/li&gt;
&lt;li&gt;出场规则：RSI&amp;gt;90&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;评价&lt;/p&gt;
&lt;p&gt;有严重的设计缺陷。因为RSI可能长期不能趋近于某一极值，从而得不到对应的操作信号，长期无法完成完整的买卖周期。&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="ji-yu-tong-ji-fen-xi"&gt;基于统计分析&lt;/h2&gt;
&lt;p&gt;此类策略要研究市场数据的统计分布特征，需要较强的数学功底&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;例1&lt;/li&gt;
&lt;li&gt;规则定义&lt;ul&gt;
&lt;li&gt;入场规则：跳空高开若干&lt;/li&gt;
&lt;li&gt;出场规则：利润达到x值或收盘价，或者损失达到y止损&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;评价&lt;/p&gt;
&lt;p&gt;其思想是捕捉跳空开盘对后市的影响&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;例2&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;规则定义&lt;ul&gt;
&lt;li&gt;入场规则：突破跳空&lt;/li&gt;
&lt;li&gt;出场规则：衰竭跳空&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;评价
     两个问题：1）跳空不一定会出现，从而导致交易周期不完整；2）过于主观随意&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;例3&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;规则定义&lt;ul&gt;
&lt;li&gt;入场规则：迪马克波动系数终点&lt;/li&gt;
&lt;li&gt;出场规则：反向迪马克波动系数终点&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;评价&lt;/p&gt;
&lt;p&gt;交易周期不完整&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="ji-yu-tu-xing-fen-xi"&gt;基于图形分析&lt;/h2&gt;
&lt;p&gt;这类是最传统、最常见的交易策略&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;例1&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;规则定义&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;入场规则：维克多突破&lt;/li&gt;
&lt;li&gt;出场规则：反向维克多突破&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;评价&lt;/p&gt;
&lt;p&gt;简单但完整&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;例2&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;规则定义&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;入场规则：罗斯钩式突破&lt;/li&gt;
&lt;li&gt;出场规则：反向罗斯钩式突破&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;评价&lt;/p&gt;
&lt;p&gt;完整&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;例3&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;规则定义&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;入场规则：卡尔汉数突破&lt;/li&gt;
&lt;li&gt;出场规则：反向卡尔汉数突破&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;评价&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;例4&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;规则定义&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;入场规则：W型反转&lt;/li&gt;
&lt;li&gt;出场规则：M型反转&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;评价&lt;/p&gt;
&lt;p&gt;不一定会发生，交易周期不完整&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;例5&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;规则定义&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;入场规则：晨星式&lt;/li&gt;
&lt;li&gt;出场规则：昏星式&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;评价&lt;/p&gt;
&lt;p&gt;不一定会发生，交易周期不完整&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="ji-yu-shu-xue-li-lun"&gt;基于数学理论&lt;/h2&gt;
&lt;p&gt;需要较强的金融投资理论背景&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;例1：飞镖系统&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;规则定义&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;入场规则：飞镖击中的股票&lt;/li&gt;
&lt;li&gt;出场规则：持有至规定期限&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;评价&lt;/p&gt;
&lt;p&gt;其收益战胜了华尔街股票分析家，验证了投资学术界的随机行走理论&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;例2：以满月为买入信号，以新月为卖出信号。&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;这是一个以金融占星术理论为基础的交易系统。该方法以月球引力场的变化来解释地球生态系统的周期性变比。&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;例3：硬币法&amp;mdash;&amp;mdash;以随机选择过程为基础&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;（略）&lt;/p&gt;
&lt;h2 id="ji-yu-ji-ben-fen-xi"&gt;基于基本分析&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;P/E小于某一值时买入，P/E大于某一值时卖出&lt;/li&gt;
&lt;li&gt;收益增长率大于某一值时买入，收益增长率小于某一值时卖出&lt;/li&gt;
&lt;li&gt;每年某月买入白糖合约，若干月后平仓（季节波动）&lt;/li&gt;
&lt;li&gt;新建住房开工率持续上升若干月买入铜合约，若干月后平仓（因果关系）&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="ji-yu-xin-li-fen-xi"&gt;基于心理分析&lt;/h2&gt;
&lt;p&gt;例： 传言开始是进场，传言证实后出场&lt;/p&gt;
&lt;h2 id="qi-ta"&gt;其他&lt;/h2&gt;
&lt;p&gt;基于人工智能、神经网络、混沌理论（Chaos)等&lt;/p&gt;
&lt;h1 id="yong-gui-ze-yin-qing-qu-dong-jiao-yi-ce-lue_1"&gt;用规则引擎驱动交易策略&lt;/h1&gt;
&lt;p&gt;尽管要求交易策略要尽可能简单，但是交易信号产生的条件可能五花八门。为了使交易系统具备更好的适应性，还是应该使用&lt;a href="/2012/03/20/rule_engine_1.html"&gt;规则引擎&lt;/a&gt;来驱动。这就需要将交易策略规则化。&lt;/p&gt;
&lt;p&gt;一般来说，交易策略的规则化需要经过确定规则（定性）、确定参数（定量）以及用规则语言描述（实现）三个步骤。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;策略定性&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;将交易策略表示为条件与交易信号。对于最简单的交易策略，可能只有入场信号和出场信号。但也会有一些稍复杂的情况需要处理：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;对于期货交易，入场信号可以区分为&amp;ldquo;做多&amp;rdquo;和&amp;ldquo;做空&amp;rdquo;，出场信号均为&amp;ldquo;平仓&amp;rdquo;&lt;/li&gt;
&lt;li&gt;有些交易策略的入场、出场信号可能会划分出不同的风险级别&amp;mdash;&amp;mdash;风险越高的信号，产生的时间越早，可能的获利越大，但判断失误的风险也更大&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;完善的交易系统，对于(正确入场,正确出场)、(正确入场,错误出场)、(错误入场,正确出场)、(错误入场,错误出场)  等情况都要考虑到，针对这些情况都要及时给出交易信号&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;确定参数&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;将策略中可变的部分定义为参数。这些参数可以在引擎中进行设置，以调整策略的具体行为。&lt;/p&gt;
&lt;p&gt;参数可能要经过实际检验，才能得出最优的参数。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;定义事件&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;交易信号都是由某些数据触发，&lt;a href="#menuIndex1"&gt;如前&lt;/a&gt;所述，这些数据可能是行情、指标、基本面等。&lt;/p&gt;
&lt;p&gt;不管是哪种数据，从规则引擎的角度，都需要定义为&lt;a href="/2013/12/21/event_in_CEP.html"&gt;事件(Event)&lt;/a&gt;。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;定义操作&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;规则匹配的结果就是产生某种&lt;a href="/2012/12/06/rule_language.html#menuIndex4"&gt;操作&lt;/a&gt;。
  考虑到交易策略要与后续的&lt;a href=""&gt;资金管理&lt;/a&gt;等策略结合，这里将操作也定义为事件，作为资金管理策略的输入。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;描述规则&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;使用前面定义好的参数、事件和操作，用&lt;a href="http://thinkinside.tk/2012/12/06/rule_language.html"&gt;规则描述语言&lt;/a&gt;将定性的策略描述为定量的规则。&lt;/p&gt;
&lt;h1 id="shi-li"&gt;实例&lt;/h1&gt;
&lt;p&gt;以&amp;ldquo;简单算术平均线&amp;rdquo;策略为例，其实现过程如下：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;规则定性&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;规则1：当短期平均线向上穿越长期平均线时，买入&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;规则2：当短期平均线向下穿越长期平均线时，卖出&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;确定参数&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;这个策略中，可以作为参数的变量包括：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;选用哪种价格，比如开盘价、收盘价、最高价、最低价等&lt;/li&gt;
&lt;li&gt;短期和长期均线的长度&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;为简单起见，这里只把均线的长度作为参数。&lt;/p&gt;
&lt;p&gt;可以在DRL的global部分用全局变量定义规则的参数。这些参数将用于事件属性或规则条件中，用于调整策略的具体行为。如下：&lt;/p&gt;
&lt;p&gt;&lt;code&gt;global java.lang.Integer SHORT_LENGTH;
  global java.lang.Integer LONG_LENGTH;&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;global参数可以使用在规则引擎会话中，使用&lt;a href="/2013/12/20/drools_API.html#menuIndex1"&gt;KnowledgeSession&lt;/a&gt;的&lt;code&gt;setGlobal()&lt;/code&gt;方法进行设置。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;事件定义&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;定义一个&amp;ldquo;均线事件&amp;rdquo;(MAEvent):&lt;/p&gt;
&lt;p&gt;```
  public class MAEvent {&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;public Date datetime;
public long duration;

public int length;
public double average;
public double price;



public String toString(){
  return ""+this.getDatetime().toLocaleString()+":MA"+this.length+"="+average+"\t("+price+")";
}
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;}
  ```&lt;/p&gt;
&lt;p&gt;并在规则文件中进行声明：&lt;/p&gt;
&lt;p&gt;&lt;code&gt;import my.package.MAEvent
  &amp;hellip;&amp;hellip;
  declare MAEvent
    @role(event)
    @timestamp( datetime )
    @duration( duration )
  end&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;定义操作&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;这里使用一个&amp;ldquo;操作信号事件&amp;rdquo;(SingalEvent)作为操作，符合条件时将该事件&lt;a href="/2012/12/06/rule_language.html#menuIndex4"&gt;insert&lt;/a&gt;到规则引擎：&lt;/p&gt;
&lt;p&gt;```
  public class SignalEvent extends AbstractEvent{&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;public enum SignalType{LONG,SHORT}

public Date datetime;
public long duration;


public SignalType type;
public String strategyName;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;}
  ```&lt;/p&gt;
&lt;p&gt;在规则文件中声明：&lt;/p&gt;
&lt;p&gt;&lt;code&gt;declare SignalEvent
    @role(event)
    @timestamp(datetime)
    @duration(duration)
  end&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;描述规则&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;```
  rule "LONG SIGNAL"
      when
          $MA5_1:MAEvent(length==SHORT_LENGTH);
          $MA5_0:MAEvent(length==SHORT_LENGTH,this meets[1d] $MA5_1);
          $MA20_1:MAEvent(length==LONG_LENGTH,this coincides $MA5_1,average&amp;gt;=$MA5_1.average);
          $MA20_0:MAEvent(length==LONG_LENGTH,this meets[1d] $MA20_1,this coincides $MA5_0,
            average&amp;lt;=$MA5_0.average
          );&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="x"&gt;  then&lt;/span&gt;

&lt;span class="x"&gt;    SignalEvent e = new SignalEvent();&lt;/span&gt;
&lt;span class="x"&gt;    e.datetime = &lt;/span&gt;&lt;span class="p"&gt;$&lt;/span&gt;&lt;span class="nv"&gt;MA5_1&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nv"&gt;datetime&lt;/span&gt;&lt;span class="x"&gt;;&lt;/span&gt;
&lt;span class="x"&gt;    e.strategyName = "简单移动平均线策略";&lt;/span&gt;
&lt;span class="x"&gt;    e.type = SignalEvent.SignalType.LONG;&lt;/span&gt;
&lt;span class="x"&gt;    e.price = &lt;/span&gt;&lt;span class="p"&gt;$&lt;/span&gt;&lt;span class="nv"&gt;MA5_1&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nv"&gt;price&lt;/span&gt;&lt;span class="x"&gt;;&lt;/span&gt;
&lt;span class="x"&gt;      insert(e);&lt;/span&gt;

&lt;span class="x"&gt;  System.out.println(e);&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;end&lt;/p&gt;
&lt;p&gt;rule "SHORT SIGNAL"
      when
          $MA5_1:MAEvent(length==SHORT_LENGTH);
          $MA5_0:MAEvent(length==SHORT_LENGTH,this meets[1d] $MA5_1);
          $MA20_1:MAEvent(length==LONG_LENGTH,this coincides $MA5_1,average&amp;lt;=$MA5_1.average);
          $MA20_0:MAEvent(length==LONG_LENGTH,this meets[1d] $MA20_1, this coincides $MA5_0,
            average&amp;gt;=$MA5_0.average
          );&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="x"&gt;  then&lt;/span&gt;
&lt;span class="x"&gt;      SignalEvent e = new SignalEvent();&lt;/span&gt;
&lt;span class="x"&gt;    e.datetime = &lt;/span&gt;&lt;span class="p"&gt;$&lt;/span&gt;&lt;span class="nv"&gt;MA5_1&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nv"&gt;datetime&lt;/span&gt;&lt;span class="x"&gt;;&lt;/span&gt;
&lt;span class="x"&gt;    e.strategyName = "简单移动平均线策略";&lt;/span&gt;
&lt;span class="x"&gt;    e.type = SignalEvent.SignalType.SHORT;&lt;/span&gt;
&lt;span class="x"&gt;    e.price = &lt;/span&gt;&lt;span class="p"&gt;$&lt;/span&gt;&lt;span class="nv"&gt;MA5_1&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="nv"&gt;price&lt;/span&gt;&lt;span class="x"&gt;;&lt;/span&gt;
&lt;span class="x"&gt;      insert(e);&lt;/span&gt;

&lt;span class="x"&gt;      System.out.println(e);&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;end
```&lt;/p&gt;</content><category term="交易系统"></category><category term="规则引擎"></category></entry><entry><title>证券行情数据模型</title><link href="http://holbrook.github.io/2013/12/18/quotation_model.html" rel="alternate"></link><published>2013-12-18T00:00:00+08:00</published><updated>2013-12-18T00:00:00+08:00</updated><author><name>Holbrook</name></author><id>tag:holbrook.github.io,2013-12-18:/2013/12/18/quotation_model.html</id><summary type="html"></summary><content type="html">&lt;h1 id="xing-qing-shu-ju-ju-li"&gt;行情数据举例&lt;/h1&gt;
&lt;p&gt;交易系统离不开行情数据。比如，如果访问新浪的股票数据接口：&lt;/p&gt;
&lt;p&gt;http://hq.sinajs.cn/list=sh600133,sh601005&lt;/p&gt;
&lt;p&gt;可能会得到如下的数据：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nt"&gt;var&lt;/span&gt; &lt;span class="nt"&gt;hq_str_sh600133&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;"东湖高新,6.01,6.01,5.91,6.07,5.80,5.92,5.93,8947052,52872049,2000,5.92,57704,5.91,191500,5.90,75000,5.89,142800,5.88,19700,5.93,43750,5.94,51600,5.95,17299,5.96,11445,5.97,2013-12-18,13:56:49,00"&lt;/span&gt;&lt;span class="o"&gt;;&lt;/span&gt;
&lt;span class="nt"&gt;var&lt;/span&gt; &lt;span class="nt"&gt;hq_str_sh601005&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;"重庆钢铁,2.50,2.50,2.49,2.51,2.48,2.49,2.50,1505600,3764816,448800,2.49,110600,2.48,132500,2.47,206500,2.46,150300,2.45,95501,2.50,447100,2.51,110600,2.52,110800,2.53,136400,2.54,2013-12-18,13:56:49,00"&lt;/span&gt;&lt;span class="o"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;每只股票返回一组数据。以第一组数据为例，各数据项的含义如下：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;东湖高新     股票名称&lt;/li&gt;
&lt;li&gt;6.01         今日开盘价（元）&lt;/li&gt;
&lt;li&gt;6.01         昨日收盘价（元）&lt;/li&gt;
&lt;li&gt;5.91         当前价格（元）&lt;/li&gt;
&lt;li&gt;6.07         今日最高价（元）&lt;/li&gt;
&lt;li&gt;5.80         今日最低价（元）&lt;/li&gt;
&lt;li&gt;5.92         买一（元）&lt;/li&gt;
&lt;li&gt;5.93         卖一（元）&lt;/li&gt;
&lt;li&gt;8947052      成交量（股）&lt;/li&gt;
&lt;li&gt;52872049    成交金额（元）&lt;/li&gt;
&lt;li&gt;2000        买一申报量（股）&lt;/li&gt;
&lt;li&gt;5.92        买一出价（元）&lt;/li&gt;
&lt;li&gt;57704       买二申报量（股）&lt;/li&gt;
&lt;li&gt;5.91        买二出价（元）&lt;/li&gt;
&lt;li&gt;191500      买三申报量（股）&lt;/li&gt;
&lt;li&gt;5.90        买三出价（元）&lt;/li&gt;
&lt;li&gt;75000       买四申报量（股）&lt;/li&gt;
&lt;li&gt;5.89        买四出价（元）&lt;/li&gt;
&lt;li&gt;142800      买五申报量（股）&lt;/li&gt;
&lt;li&gt;5.88        买五出价（元）&lt;/li&gt;
&lt;li&gt;19700       卖一申报量（股）&lt;/li&gt;
&lt;li&gt;5.93        卖一报价（元）&lt;/li&gt;
&lt;li&gt;43750       卖二申报量（股）&lt;/li&gt;
&lt;li&gt;5.94        卖二报价（元）&lt;/li&gt;
&lt;li&gt;51600       卖三申报量（股）&lt;/li&gt;
&lt;li&gt;5.95        卖三报价（元）&lt;/li&gt;
&lt;li&gt;17299       卖四申报量（股）&lt;/li&gt;
&lt;li&gt;5.96        卖四报价（元）&lt;/li&gt;
&lt;li&gt;11445       卖五申报量（股）&lt;/li&gt;
&lt;li&gt;5.97        卖五报价（元）&lt;/li&gt;
&lt;li&gt;2013-12-18  日期&lt;/li&gt;
&lt;li&gt;13:56:49,00 时间&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id="jie-ge-he-cheng-jiao"&gt;价格和成交&lt;/h1&gt;
&lt;p&gt;上述的查询结果包含了两种不同的数据：价格(Price)和成交（Transaction)。&lt;/p&gt;
&lt;p&gt;价格是实时数据，记录了某一时点的当前价格（price）和一系列（上面的例子中是五组）的报价(Quote)数据；其中报价又包含了买方的出价（bid)和卖方的要价（offer），通常可能表示为&amp;ldquo;0.6712/5&amp;rdquo;、&amp;ldquo;0.2345/&amp;rdquo;，&amp;ldquo;/0.4352&amp;rdquo;等。&lt;/p&gt;
&lt;p&gt;成交是阶段数据，记录了某一个时段（上面的例子中是一天）内的开盘价(open)，收盘价（close）,最高价（high），最低价（low）；
以及该段时间内总的成交量（volume）和成交价格（amount）。由于(开盘价,收盘价,最高价,最低价）是很常用的一种结构，比如画蜡烛图时就会使用这种结构，所以将其封装为一个&lt;a href="/2013/01/01/money.html#menuIndex6"&gt;值对象&lt;/a&gt;： &lt;strong&gt;OHLC&lt;/strong&gt; 。&lt;/p&gt;
&lt;p&gt;不管是价格信息还是成交信息，都关联到某一证券（Security）。&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="images/analysis-pattern/price_and_transaction.png"/&gt;&lt;/p&gt;
&lt;h1 id="chang-jing"&gt;场景&lt;/h1&gt;
&lt;p&gt;在上面的模型中，价格和成交直接关联到时点。&lt;/p&gt;
&lt;p&gt;实际应用中，经常会需要将一些价格或成交聚合在一起。比如，某个市场、某个板块的所有股票的价格。而这种聚合通常要指定到某个时间点才有意义。&lt;/p&gt;
&lt;p&gt;可以把这种聚合叫做场景（Scenario），场景关联到某一时间点（TimePoint)。一个场景可以有多个场景元素（ScenarioElement），场景元素作为证券和其他因素之间的关联，聚合到与时点相关的场景中。&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="images/analysis-pattern/scenario.png"/&gt;&lt;/p&gt;
&lt;p&gt;场景提供了一个把所有因素综合在一起的基础，从而可以很方便的在不同的情况之间进行比较。这就有较高的实用性。&lt;/p&gt;
&lt;p&gt;比如，在跨市场套利中，可以针对不同的市场定义不同的场景，并将场景关联到指定的市场，从而在不同市场之间进行比较。&lt;/p&gt;
&lt;p&gt;在比如在交易系统的风险管理中，可以在多种可能的情况之间进行对比分析。&lt;/p&gt;
&lt;p&gt;有了场景和场景元素的定义，则价格和成交都是场景元素的一种实现：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="images/analysis-pattern/quotation.png"/&gt;&lt;/p&gt;
&lt;h1 id="duo-shu-ju-yuan"&gt;多数据源&lt;/h1&gt;
&lt;p&gt;实际应用中，可能需要从多个数据源获取数据。&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="images/analysis-pattern/multi_source.png"/&gt;&lt;/p&gt;
&lt;h1 id="jie-ge-zhi-biao"&gt;价格指标&lt;/h1&gt;
&lt;p&gt;通过其他场景元素计算获取&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="images/analysis-pattern/indicator.png"/&gt;&lt;/p&gt;</content><category term="交易系统"></category></entry><entry><title>系统交易和交易系统</title><link href="http://holbrook.github.io/2013/12/16/trade_system.html" rel="alternate"></link><published>2013-12-16T00:00:00+08:00</published><updated>2013-12-16T00:00:00+08:00</updated><author><name>Holbrook</name></author><id>tag:holbrook.github.io,2013-12-16:/2013/12/16/trade_system.html</id><summary type="html"></summary><content type="html">&lt;h1 id="zheng-quan-jie-ge-de-sui-ji-xing"&gt;证券价格的随机性&lt;/h1&gt;
&lt;p&gt;很多人都从股票投机中赚过钱，但是绝少人能够长期赚钱。甚至这些长期赚钱的人中，绝大部分人的成功次数少于50%。这意味着，证券价格的波动具有随机性。&lt;/p&gt;
&lt;p&gt;投资理论界认为，价格的波动具备高度随机性；而投资实务界认为只是部分随机性。&lt;/p&gt;
&lt;p&gt;如果价格的波动具备完全随机性，则意味着数据没有任何记忆性，完全无法通过过去的数据预测未来。就好像抛硬币，即使之前抛出了一千次正面，第一千零一次抛出正、反面的概率依然是各占50%。&lt;/p&gt;
&lt;p&gt;不可否认，证券价格的变化比抛硬币游戏要复杂得多，目前无法证明其具备完全随机性，但是也无法准确发现其变化规律。&lt;/p&gt;
&lt;p&gt;从实践来看，总有人能够从证券投资中稳定获利。尤其近几年一些量化投资方法的成功，又让人看到了通过数学模型获取稳定收益的希望。&lt;/p&gt;
&lt;h1 id="du-bo-huan-shi-tou-zi"&gt;赌博还是投资？&lt;/h1&gt;
&lt;p&gt;尽管人的天性中都厌恶风险（不确定性），但是又都或多或少喜欢赌博。&lt;/p&gt;
&lt;p&gt;对于证券投机，可以说本质上也是一种赌博。区别在于大多数人仅仅是赌博，而少数人以数学家的方式参与赌博。&lt;/p&gt;
&lt;p&gt;赌博之所以吸引人，在于其概率性。数学家经过思考和技术能够赢得赌博游戏，是因为其对概率和统计学的把握。&lt;/p&gt;
&lt;p&gt;要进行科学的投资/投机，而不是以赌博的心态去进行交易，一定要明确以下几点：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;投资的目标是持续稳定获利&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;不要期望每次交易都是正确的，甚至不要期望成功交易的次数要大于失败的次数。据说，华尔街的顶尖交易员在十年中的平均正确率仅仅是35%左右&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;成功的交易，其收益率不一定高，不要追求单次交易的高回报率&amp;mdash;&amp;mdash;这种事情发生的概率太小&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;失败的交易，一定要将其损失控制在合理的范围。失败是常态，但是一定不要把一次失败演变成灾难&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;符合上述行为的投资，就可以称为科学投资，而不是赌博。&lt;/p&gt;
&lt;p&gt;科学投资的精髓就是捕捉高度随机变化中的非随机性。&lt;/p&gt;
&lt;h1 id="xi-tong-hua-jiao-yi"&gt;系统化交易&lt;/h1&gt;
&lt;p&gt;要实现科学投资，需要将一段时间内的所有交易看做一系列整体性、系统化的行为，而不是一次次的&amp;ldquo;率性而为&amp;rdquo;。这就要求：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;首先要有一个交易策略，这个交易策略经过一系列的统计验证，期望值为正。并且明确知道其成功率、最高收益率、最大损失率等一系列关键性的指标&lt;/li&gt;
&lt;li&gt;根据该交易策略的关键指标，结合自身资金情况，制定一个资金管理策略。资金管理策略保证你有足够的筹码将这个游戏玩下去，而不是中途出局&lt;/li&gt;
&lt;li&gt;严格基于交易策略和资金管理策略，进行一系列的选股、择时、执行等操作&lt;/li&gt;
&lt;li&gt;对于每一笔交易，分析其成功或失败的原因是由于概率、心理因素还是模型的缺陷。在一定的时间后根据最新的统计结果修正模型参数。&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;能够做到这些，就可以称之为&amp;ldquo;系统化交易&amp;rdquo;。&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="images/trade-system/trade.png"/&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;选股：筛选交易对象&lt;/li&gt;
&lt;li&gt;择时：对行情进行判断，选择合适的操作时机&lt;/li&gt;
&lt;li&gt;战术：生成正向或反向交易指令&lt;/li&gt;
&lt;li&gt;执行：记录交易结果&lt;/li&gt;
&lt;li&gt;反馈：核算、评估&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id="xin-li-yin-su"&gt;心理因素&lt;/h1&gt;
&lt;p&gt;系统化交易中，最难克服的是心理障碍。请将手放在心口，听我说：&lt;/p&gt;
&lt;p&gt;你能否承认交易策略和资金管理策略是指引你交易行为的唯一准则，爱他、安慰他、尊重他、保护他，像你爱自己一样，无论每次交易是成功、是失败，也无论你听到了市场上多么动听的传言，亦或你的交易遭到了何种的嘲讽？&lt;/p&gt;
&lt;p&gt;先不要急着回答。人性是如此脆弱，以至于你很快就会释放心中的魔鬼，从而将上面的誓言抛之脑后。请问：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;两个选择：1）有75%的机会得到1000美元，但有25%的机会什么都得不到。2）确定可以得到700美元。 你会如何选择？&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;还是两个选择：1）75%的机会付出1000美元，但有25%的机会什么也不用付出。2）确定付出700美元。 你会如何选择？&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;可能多数人会在第1个问题中选择2），第二个问题中选择1）。实际上，如果计算了期望值，这两个选择都是错的。这就是你心中的魔鬼。&lt;/p&gt;
&lt;p&gt;传言巴菲特有一次打高尔夫的时候球友们跟他打赌：在三天内如果巴菲特打出一次一杆进洞，就给他20000美元，否则巴菲特要付出10美元。但是巴菲特拒绝了。&lt;/p&gt;
&lt;p&gt;关住内心的魔鬼，从概率的角度进行思考，绝不要心存侥幸。这才是科学交易的精神。&lt;/p&gt;
&lt;p&gt;无论成败，恪守交易策略，才能从大量单个交易的偶然中获取总体期望值的必然；无原则，或者有原则而不遵守，就只能停留在一个个的偶然，并且总体结果也是偶然。&lt;/p&gt;
&lt;h1 id="jiao-yi-xi-tong-de-zuo-yong"&gt;交易系统的作用&lt;/h1&gt;
&lt;p&gt;除了心理控制的难关，系统化交易过程中需要进行信息收集、信息处理、交易决策、交易计划、交易执行等大量琐碎耗时的事情，这些事情很可能影响你的心态，甚至由于信息的干扰影响决策的正确性。&lt;/p&gt;
&lt;p&gt;此外，系统化交易需要不断对交易策略和资金管理策略不断进行统计分析、优化和参数调整，对于大多数人来说这也是一个难以胜任的工作。&lt;/p&gt;
&lt;p&gt;上述种种，需要某种工具来辅助，姑且称之为&amp;ldquo;交易系统&amp;rdquo;。&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="images/trade-system/goal.png"/&gt;&lt;/p&gt;
&lt;p&gt;如上图，交易的&amp;ldquo;铁三角&amp;rdquo;是交易者、交易资本和交易对象，而交易系统的主要作用是：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;管理交易策略的生命周期，按照交易策略实施交易&lt;/li&gt;
&lt;li&gt;根据风险控制策略进行资金管理&lt;/li&gt;
&lt;li&gt;辅助交易者进行心理控制&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id="jiao-yi-xi-tong-de-zhu-yao-gong-neng"&gt;交易系统的主要功能&lt;/h1&gt;
&lt;h2 id="jiao-yi-ce-lue-de-sheng-ming-zhou-qi-guan-li"&gt;交易策略的生命周期管理&lt;/h2&gt;
&lt;p&gt;交易系统最重要的功能应该是对交易策略的整个生命周期进行管理。&lt;/p&gt;
&lt;p&gt;一个交易策略提出后，要经过一系列的阶段，直到最终被废弃。交易策略的生命周期如下图所示：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="images/trade-system/lifecycle.png"/&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;公式化&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;交易策略中的所有规则，既包括买卖点的生成规则，也包括交易对象筛选的规则等，必须能够用公式/程序语言客观、准确的表示。&lt;/p&gt;
&lt;p&gt;并提取出所有的变量/事件和参数。变量/事件用于客观事实的输入，参数用于优化。&lt;/p&gt;
&lt;p&gt;当然，对于一些共性的规则，如检查交易对象的流动性和价格波动程度等规则，可以提取出公共的规则，在交易策略中进行引用。&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;统计检验&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;使用历史数据对交易策略进行检验，得出交易策略的统计学参数和关键指标&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;外推检验&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;使用真实的外部数据，进行模拟盘的操作，检验效果，验证参数和指标的变化&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;实战检验&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;使用真实的外部数据，进行实盘操作，检验效果，验证交易策略与交易者之间是否契合&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;监控与维护&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;经过上述步骤的交易策略，可以用于实战。在实战过程中要不断监控策略的统计学参数和指标是否已经偏离&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;优化&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;在任一环节，如果发现交易策略不能满足要求，可以对参数进行优化&lt;/p&gt;
&lt;h2 id="fu-zhu-jue-ce"&gt;辅助决策&lt;/h2&gt;
&lt;p&gt;经过验证的交易策略只是给出合适的交易信号：买入信号或卖出信号。根据交易信号、资金状况、策略的统计指标等因素来决定是否要交易、交易量是多少等等这些交易要素，是一个决策的过程。&lt;/p&gt;
&lt;p&gt;交易系统应该能够为交易决策提供辅助。&lt;/p&gt;
&lt;h2 id="zhi-chi-gong-neng"&gt;支持功能&lt;/h2&gt;
&lt;p&gt;前面提到的交易过程中的其他环节，如信息收集、信息处理、交易日志、结果分析、指标计算等，也需要交易系统进行支持。&lt;/p&gt;
&lt;h1 id="jiao-yi-ce-lue-yu-jiao-yi-zhe_1"&gt;交易策略与交易者&lt;/h1&gt;
&lt;p&gt;同一套交易策略，在不同的交易员手中，效果截然不同。这里面没有对错，而是一个是否适合的问题。&lt;/p&gt;
&lt;p&gt;交易策略仅仅规定了交易信号产生的规则，但是不同的交易员具有不同的交易周期长短、风险承受水平、投资理念等偏好，所以会适合不同的交易策略。&lt;/p&gt;
&lt;p&gt;所谓最适合的就是最好的，对交易员来说，最重要的时期不是妄图找到&amp;ldquo;最好&amp;rdquo;的交易策略，而是应该找到最适合自己投资理念的交易策略。&lt;/p&gt;
&lt;p&gt;在符合自己投资理念的前提下，交易过程中要尽量排除不必要的主观性。对于每对交易，不要关注是成功还是失败，而要关注是对的还是错的：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;符合策略的成功交易是对的；更重要的是符合策略的失败交易也是对的&lt;/li&gt;
&lt;li&gt;偏离策略的失败交易是错的；更重要的是偏离策略的成功交易也是错的&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id="zui-hou-de-mi-si"&gt;最后的迷思&lt;/h1&gt;
&lt;p&gt;尽管我们希望在有限的条件下建立一个科学的模型，从而获得一个正的&amp;ldquo;预期收益率&amp;rdquo;（该死的银行理财产品？），但是，我们还是将命运交给了未知：那冥冥中的概率。&lt;/p&gt;
&lt;p&gt;尽管根据&lt;a href="http://wiki.mbalib.com/wiki/%E5%A4%A7%E6%95%B0%E5%AE%9A%E5%BE%8B"&gt;大数定律&lt;/a&gt;，随着交易次数的增多，总体结果会越来越接近事先计算出的期望值，但是&lt;a href="http://wiki.mbalib.com/wiki/%E4%B8%AD%E5%BF%83%E6%9E%81%E9%99%90%E5%AE%9A%E7%90%86"&gt;中心极限定理&lt;/a&gt;指出，大量独立随机变量的平均数近似正态分布。&lt;/p&gt;
&lt;p&gt;就我们有限而短暂的生命来说，我们不可能让交易次数达到无穷，去逼近那个理论中的&amp;ldquo;期望值&amp;ldquo;，而只能进行有限次数的交易。如果说一套交易策略，由不同的交易者去实践，则每个交易者的最终结果可以看做中心极限定理中的一个样本。&lt;/p&gt;
&lt;p&gt;很遗憾，中心极限定理告诉我们，最终结果是近似正态分布的，也就是说：有限次的策略交易，最终的统计结果仍然是一个概率分布&amp;mdash;&amp;mdash;正所谓谋事在人，成事在天。&lt;/p&gt;</content><category term="交易系统"></category></entry><entry><title>《统计学》读书笔记(9/17:方差分析)</title><link href="http://holbrook.github.io/2013/12/11/statistics_intro_9.html" rel="alternate"></link><published>2013-12-11T00:00:00+08:00</published><updated>2013-12-11T00:00:00+08:00</updated><author><name>Holbrook</name></author><id>tag:holbrook.github.io,2013-12-11:/2013/12/11/statistics_intro_9.html</id><summary type="html">&lt;p&gt;统计学：从数据到结论，ISBN：9787503749964，作者：吴喜之 @&lt;a href="http://book.douban.com/subject/2193810/"&gt;豆瓣&lt;/a&gt;&lt;/p&gt;</summary><content type="html">&lt;h1 id="wen-ti-de-ti-chu"&gt;问题的提出&lt;/h1&gt;
&lt;p&gt;对于一个模型，需要调整其各个因子(factor)，以使模型达到最好的效果。&lt;/p&gt;
&lt;p&gt;每个因子的取值是离散的，称为该因子的水平(level)&lt;/p&gt;
&lt;p&gt;需要对各个因子的不同水平进行组合实验，才能得出一组最佳的因子水平&lt;/p&gt;
&lt;p&gt;如何设置因子的不同水平，以及如何进行组合实验，属于实验设计的范畴，实验设计模型可以说是回归模型的一种。&lt;/p&gt;
&lt;p&gt;这里探讨的不是如何设计实验，而是如何对实验的结果进行分析&lt;/p&gt;
&lt;h1 id="fang-chai-fen-xi-gai-shu"&gt;方差分析概述&lt;/h1&gt;
&lt;p&gt;方差分析（analysis of variance, ANOVA），分析各个自变量对因变量的影响的一种方法。&lt;/p&gt;
&lt;p&gt;自变量包括：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;因子&amp;mdash;&amp;mdash;定性变量&lt;/li&gt;
&lt;li&gt;协变量（convariate）&amp;mdash;&amp;mdash;定量变量&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;分析的结果是一个方差分析表&lt;/p&gt;
&lt;p&gt;原理：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;因变量的值随着自变量的变化而变化&lt;/li&gt;
&lt;li&gt;将因变量的变化按照自变量进行分解，每个自变量对因变量的变化有一份贡献&lt;/li&gt;
&lt;li&gt;无法用已知因素解释的因变量的变化，看做随机误差的贡献&lt;/li&gt;
&lt;li&gt;然后用每一个自变量的贡献与随机误差的贡献进行比较(F检验)&lt;/li&gt;
&lt;li&gt;判断出自变量的不同水平/值是否对因变量的变化有显著贡献&lt;/li&gt;
&lt;li&gt;最终结果：F检验的一些p-值&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id="zhi-kao-lu-zhu-xiao-ying-de-fang-chai-fen-xi"&gt;只考虑主效应的方差分析&lt;/h1&gt;
&lt;p&gt;对因变量的影响包括各个因素的主效应(main effect)、交互效应(interaction)和协变量&lt;/p&gt;
&lt;p&gt;对于两个自变量（水平分别为3个和4个）的一个模型，如果只考虑主效应，其线性模型为：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="images/statistics/9-1.png"/&gt;&lt;/p&gt;
&lt;p&gt;其中：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;i,j分别为两个自变量的各个水平&lt;/li&gt;
&lt;li&gt;k为每个(i,j)组合的多个观测值的编号&lt;/li&gt;
&lt;li&gt;最后一项为误差项，方差分析中假定误差项是独立的，并且符合正态分布&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id="kao-lu-zhu-xiao-ying-he-jiao-hu-xiao-ying"&gt;考虑主效应和交互效应&lt;/h1&gt;
&lt;p&gt;此时的线性模型增加了交叉项：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="images/statistics/9-2.png"/&gt;&lt;/p&gt;
&lt;h1 id="kao-lu-xie-bian-liang"&gt;考虑协变量&lt;/h1&gt;
&lt;p&gt;此时的模型变成：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="images/statistics/9-3.png"/&gt;&lt;/p&gt;
&lt;p&gt;加上了一个自变量x，及其相关系数。&lt;/p&gt;</content><category term="读书笔记"></category><category term="统计学"></category></entry><entry><title>《统计学》读书笔记(8/17:列连表，x^2检验和对数线性模型)</title><link href="http://holbrook.github.io/2013/09/05/statistics_intro_8.html" rel="alternate"></link><published>2013-09-05T00:00:00+08:00</published><updated>2013-09-05T00:00:00+08:00</updated><author><name>Holbrook</name></author><id>tag:holbrook.github.io,2013-09-05:/2013/09/05/statistics_intro_8.html</id><summary type="html">&lt;p&gt;统计学：从数据到结论，ISBN：9787503749964，作者：吴喜之 @&lt;a href="http://book.douban.com/subject/2193810/"&gt;豆瓣&lt;/a&gt;&lt;/p&gt;</summary><content type="html">&lt;h1 id="lie-lian-biao-shu-ju"&gt;列连表数据&lt;/h1&gt;
&lt;p&gt;列连表研究2个或以上的变量，每个变量的取值是离散的，取值的总数量称为该变量的&amp;ldquo;水平&amp;rdquo;。&lt;/p&gt;
&lt;p&gt;列连表记录这些变量的各种取值组合出现的次数，以研究这些变量之间的相关性。&lt;/p&gt;
&lt;p&gt;比如：&lt;/p&gt;
&lt;p&gt;&lt;img alt="sample-contingency-table" src="images/2013/statistics_intro/sample-contingency-table.png"/&gt;&lt;/p&gt;
&lt;p&gt;上图记录了一个3x2x2的列连表，三个变量分别为收入（高、中、低）、观点（同意、反对）、性别（男，女）。&lt;/p&gt;
&lt;p&gt;软件处理时通常将列连表处理成二维表格，比如：&lt;/p&gt;
&lt;p&gt;&lt;img alt="sample-contingency-table1" src="images/2013/statistics_intro/sample-contingency-table1.png"/&gt;&lt;/p&gt;
&lt;h1 id="er-wei-lie-lian-biao-de-jian-yan"&gt;二维列连表的检验&lt;/h1&gt;
&lt;p&gt;比如以下的二维列连表：&lt;/p&gt;
&lt;p&gt;&lt;img alt="sample-contingency-table2" src="images/2013/statistics_intro/sample-contingency-table2.png"/&gt;&lt;/p&gt;
&lt;p&gt;设定零假设和备选假设：&lt;/p&gt;
&lt;p&gt;H0:观点和收入不相关&amp;lt;=&amp;gt;H1:相关&lt;/p&gt;
&lt;p&gt;检验逻辑:&lt;/p&gt;
&lt;p&gt;检验统计量在零假设下有（大样本时）近似的x&lt;sup&gt;2&lt;/sup&gt;分布。&lt;/p&gt;
&lt;p&gt;当该统计量很大时或p-值很小时，就可以拒绝零假设，认为两个变量相关。&lt;/p&gt;
&lt;p&gt;x&lt;sup&gt;2&lt;/sup&gt;检验量还可以使用Pearson x^2统计量和似然比（likelihood ratio) x&lt;sup&gt;2&lt;/sup&gt; 统计量&lt;/p&gt;
&lt;p&gt;(公式：略）&lt;/p&gt;
&lt;h1 id="gao-wei-lie-lian-biao-he-duo-xiang-fen-bu-dui-shu-xian-xing-mo-xing"&gt;高维列联表和(多项分布)对数线性模型&lt;/h1&gt;
&lt;p&gt;高维列联表的检验和两维类似&lt;/p&gt;
&lt;p&gt;但高维列联表可以构造一个(多项分布)对数线性模型(loglinear model)来进行分析。&lt;/p&gt;
&lt;p&gt;好处：不仅可以直接进行预测，而且可以增加定量变量作为模型自变量的一部分。&lt;/p&gt;
&lt;h2 id="dui-shu-xian-xing-mo-xing"&gt;对数线性模型&lt;/h2&gt;
&lt;p&gt;ln(m&lt;sub&gt;ij&lt;/sub&gt;)= a&lt;sub&gt;i&lt;/sub&gt; + b&lt;sub&gt;j&lt;/sub&gt; + e&lt;sub&gt;ij&lt;/sub&gt;&lt;/p&gt;
&lt;p&gt;其中：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;a&lt;sub&gt;i&lt;/sub&gt;： 行变量的第i个水平对ln(m&lt;sub&gt;ij&lt;/sub&gt;)的影响&lt;/li&gt;
&lt;li&gt;b&lt;sub&gt;j&lt;/sub&gt;：列变量的第j个水平对ln(m&lt;sub&gt;ij&lt;/sub&gt;)的影响&lt;/li&gt;
&lt;li&gt;e&lt;sub&gt;ij&lt;/sub&gt;: 随机误差。&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="duo-xiang-fen-bu-dui-shu-xian-xing-mo-xing"&gt;（多项分布）对数线性模型&lt;/h2&gt;
&lt;p&gt;ln(m&lt;sub&gt;ij&lt;/sub&gt;)= a&lt;sub&gt;i&lt;/sub&gt; + b&lt;sub&gt;j&lt;/sub&gt; + (ab)&lt;sub&gt;ij&lt;/sub&gt; + e&lt;sub&gt;ij&lt;/sub&gt;&lt;/p&gt;
&lt;p&gt;增加了交叉效应(ab)&lt;sub&gt;ij&lt;/sub&gt;，代表第一个变量的第i个水平和第二个变量的第j个水平对ln(m&lt;sub&gt;ij&lt;/sub&gt;)的共同影响&lt;/p&gt;
&lt;h1 id="poissondui-shu-xian-xing-mo-xing_1"&gt;Poisson对数线性模型&lt;/h1&gt;
&lt;p&gt;很多事件符合Poisson分布，需要使用 Poisson对数线性模型进行分析。&lt;/p&gt;
&lt;p&gt;ln(l) = u + a&lt;sub&gt;i&lt;/sub&gt; + b&lt;sub&gt;j&lt;/sub&gt; + gx&lt;/p&gt;
&lt;p&gt;其中：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;u: 常数项&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&amp;hellip;&amp;hellip;&lt;/p&gt;</content><category term="读书笔记"></category><category term="统计学"></category></entry><entry><title>《统计学》读书笔记(7/17:相关和回归分析)</title><link href="http://holbrook.github.io/2013/08/05/statistics_intro_7.html" rel="alternate"></link><published>2013-08-05T00:00:00+08:00</published><updated>2013-08-05T00:00:00+08:00</updated><author><name>Holbrook</name></author><id>tag:holbrook.github.io,2013-08-05:/2013/08/05/statistics_intro_7.html</id><summary type="html">&lt;p&gt;统计学：从数据到结论，ISBN：9787503749964，作者：吴喜之 @&lt;a href="http://book.douban.com/subject/2193810/"&gt;豆瓣&lt;/a&gt;&lt;/p&gt;</summary><content type="html">&lt;h1 id="71-wen-ti-de-ti-chu"&gt;7.1 问题的提出&lt;/h1&gt;
&lt;p&gt;统计实践的最终目的：发现变量之间的统计关系并帮助决策&lt;/p&gt;
&lt;p&gt;变量关系的模型：Y=f(x)&lt;/p&gt;
&lt;p&gt;则：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Y: 因变量&lt;/li&gt;
&lt;li&gt;x: 自变量&lt;/li&gt;
&lt;li&gt;建立f的过程成为回归(regression)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;回归模型的作用：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;对相关性进行定量&lt;/li&gt;
&lt;li&gt;根据自变量预测因变量&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;注意：自变量和因变量不一定有因果关系&lt;/p&gt;
&lt;h1 id="72-ding-liang-bian-liang-de-xiang-guan"&gt;7.2 定量变量的相关&lt;/h1&gt;
&lt;p&gt;确定两个定量变量是否有关系：最简单的办法是散点图&lt;/p&gt;
&lt;p&gt;对于相关程度的度量：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Pearson相关系数r, 取值区间为 [-1,1]。适合描述线性相关程度&lt;/li&gt;
&lt;li&gt;Kendall 相关系数&lt;/li&gt;
&lt;li&gt;Spearman秩相关系数&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id="73-ding-liang-bian-liang-de-xian-xing-hui-gui-fen-xi-lue"&gt;7.3 定量变量的线性回归分析（略）&lt;/h1&gt;
&lt;h1 id="74-zi-bian-liang-zhong-you-ding-xing-bian-liang-de-hui-gui"&gt;7.4 自变量中有定性变量的回归&lt;/h1&gt;
&lt;p&gt;将相关模型表示为分段函数&lt;/p&gt;
&lt;h1 id="75-logistichui-gui"&gt;7.5 Logistic回归&lt;/h1&gt;
&lt;p&gt;适合因变量为定性变量的相关性分析&lt;/p&gt;
&lt;h1 id="76-xiao-jie"&gt;7.6 小结&lt;/h1&gt;</content><category term="读书笔记"></category><category term="统计学"></category></entry><entry><title>《统计学》读书笔记(6/17:简单统计推断：总体参数的假设检验)</title><link href="http://holbrook.github.io/2013/08/02/statistics_intro_6.html" rel="alternate"></link><published>2013-08-02T00:00:00+08:00</published><updated>2013-08-02T00:00:00+08:00</updated><author><name>Holbrook</name></author><id>tag:holbrook.github.io,2013-08-02:/2013/08/02/statistics_intro_6.html</id><summary type="html">&lt;p&gt;统计学：从数据到结论，ISBN：9787503749964，作者：吴喜之 @&lt;a href="http://book.douban.com/subject/2193810/"&gt;豆瓣&lt;/a&gt;&lt;/p&gt;</summary><content type="html">&lt;h1 id="jia-she-jian-yan"&gt;假设检验&lt;/h1&gt;
&lt;p&gt;证明一件事情比较难，证伪一件事情比较容易&lt;/p&gt;
&lt;p&gt;科学研究的一个基本方法就是假设检验：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;提出一个可以被推翻的假设；&lt;/li&gt;
&lt;li&gt;如果还没有发现不符合该假设的实例，则该假设成为猜想；&lt;/li&gt;
&lt;li&gt;如果该猜想能够从理论上推导证明，则该猜想也成为定理/定律&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;统计学中的假设检验方法也是一样，只不过关注点是统计量之间关系的假设&lt;/p&gt;
&lt;p&gt;注意：假设不能被推翻，也仅仅是假设。因为无法证明其能覆盖所有的情况。对于统计学领域尤其如此&lt;/p&gt;
&lt;h1 id="61-jia-she-jian-yan-de-guo-cheng-he-luo-ji"&gt;6.1 假设检验的过程和逻辑&lt;/h1&gt;
&lt;p&gt;比如检查商品的份量是否充足：进行抽样后检验。单个商品的称量结果有多有少，
如何判断总体的份量是否足够？仅用样本的平价重量进行评价是不科学的！&lt;/p&gt;
&lt;h2 id="ti-chu-jia-she"&gt;提出假设&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;首先提出假设，比如总体的平价质量充足（u&amp;gt;=u0），称为零假设（null hypothesis)，记为&lt;code&gt;H0&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;同时提出备选假设(alternative hypothesis)，总体的平价质量不充足（u&amp;lt;u0)，记为&lt;code&gt;H1&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;命题： &lt;code&gt;H0:u&amp;gt;=u0 &amp;lt;=&amp;gt; H1:u&amp;lt;u0&lt;/code&gt; 。其中&lt;code&gt;&amp;lt;=&amp;gt;&lt;/code&gt;相当于&amp;ldquo;versus&amp;rdquo;&lt;/li&gt;
&lt;li&gt;通常，选择更接近实际情况的假设作为备选假设，相反的作为零假设。检验的目地就是判断H1是否显著。所以假设检验也成为&amp;ldquo;显著性检验（significant test）&amp;rdquo;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="pan-duan-luo-ji"&gt;判断逻辑&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;被检验的统计量成为&amp;ldquo;检验统计量（test statistic）&amp;rdquo;&lt;/li&gt;
&lt;li&gt;根据 &lt;em&gt;H0(注意，不是H1)&lt;/em&gt; 得到检验统计量的分布&lt;/li&gt;
&lt;li&gt;看看该统计量的数据实现值（realization)是否为小概率事件&lt;/li&gt;
&lt;li&gt;如果是小概率事件，则拒绝零假设（检验显著）&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;该逻辑中，H0和H1的地位不对称：按照H0推导分布，只要不符合就可以推翻H0&lt;/p&gt;
&lt;h2 id="pan-duan-jie-guo"&gt;判断结果&lt;/h2&gt;
&lt;p&gt;上面的逻辑并不严谨：&lt;/p&gt;
&lt;p&gt;小概率事件也有可能真实发生！&lt;/p&gt;
&lt;p&gt;所以统计结论也有可能犯错误。两种错误情况：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;第一类错误（type I error)： 按照H0假设，样本数据为小概率事件，于是拒绝H0。但总体的真实情况是符合H0&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;第二类错误（type II error）：按照H0假设，样本数据的概率很大，于是接受H0。但总体的真实情况是不符合H0&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="shi-powerhe-lin-jie-zhi-critical-value-todo"&gt;势(power）和临界值（critical value) （TODO)&lt;/h2&gt;
&lt;h1 id="62-dui-yu-zheng-tai-zong-ti-jun-zhi-de-jian-yan_1"&gt;6.2 对于正态总体均值的检验&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;单个总体单个样本：单边检验&lt;/li&gt;
&lt;li&gt;两个总体两个样本：双边检验&lt;/li&gt;
&lt;li&gt;一个总体一对样本（如事件发生前后的对照）：单边、双边相结合&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id="63-dui-yu-bi-li-de-jian-yan"&gt;6.3 对于比例的检验&lt;/h1&gt;
&lt;p&gt;(略）&lt;/p&gt;
&lt;h1 id="64-cong-yi-ge-li-zi-shuo-ming-jie-shou-ling-jia-she-de-shuo-fa-bu-tuo"&gt;6.4 从一个例子说明&amp;ldquo;接受零假设&amp;rdquo;的说法不妥&lt;/h1&gt;
&lt;p&gt;结论：不能说&amp;ldquo;接受零假设&amp;rdquo;，更严谨的说法是&amp;ldquo;不拒绝零假设&amp;rdquo;&lt;/p&gt;
&lt;h1 id="65-xiao-jie"&gt;6.5 小结&lt;/h1&gt;</content><category term="读书笔记"></category><category term="统计学"></category></entry><entry><title>用Ganglia监控集群的性能</title><link href="http://holbrook.github.io/2013/07/30/ganglia.html" rel="alternate"></link><published>2013-07-30T00:00:00+08:00</published><updated>2013-07-30T00:00:00+08:00</updated><author><name>Holbrook</name></author><id>tag:holbrook.github.io,2013-07-30:/2013/07/30/ganglia.html</id><summary type="html">&lt;p&gt;对基础设施的监控主要包括三个方面：状态，性能和可用性。通俗的讲就是：是否在干活，干了多少活，还能干多少。与Cacti、Nagios、Zabbix等工具相比，Ganglia更关注整个集群的性能和可用性。可以用于集群的性能监控、分析和优化。&lt;/p&gt;</summary><content type="html">&lt;h1 id="gangliajian-jie"&gt;Ganglia简介&lt;/h1&gt;
&lt;p&gt;对基础设施的监控主要包括三个方面：状态，性能和可用性。通俗的讲就是：是否在干活，干了多少活，还能干多少。&lt;/p&gt;
&lt;p&gt;有很多开源的强大工具可以用于监控，比如
&lt;a href="http://www.cacti.net/"&gt;Cacti&lt;/a&gt;，
&lt;a href="http://www.nagios.org"&gt;Nagios&lt;/a&gt;
以及比较新的
&lt;a href="http://www.shinken-monitoring.org/"&gt;Shinken&lt;/a&gt;和
&lt;a href="http://www.zabbix.com"&gt;Zabbix&lt;/a&gt;。
这些工具的主要功能是状态监控和报警&amp;mdash;&amp;mdash;就像一个合格的监工，随时掌握基础设施是否在干活，发现谁没干活马上报告。&lt;/p&gt;
&lt;p&gt;如果是传统的运维工作，有这些工具就足够强大了。但是对于分布式系统的开发+运维人员（DevOps?），更关心的是掌握分布式系统的性能和可用性，根据数据做出性能调整、升级、扩容等的决策，从而保证基础设施服务能够满足不断增长的业务需求。&lt;/p&gt;
&lt;p&gt;&lt;a href="http://ganglia.sourceforge.net/"&gt;Ganglia&lt;/a&gt;就是这样一种工具。Ganglia 是 UC Berkeley 发起的一个开源监视项目，设计用于测量数以千计的节点。Ganglia主要监控集群的性能指标，如cpu 、mem、硬盘利用率， I/O负载、网络流量情况等，
也可以监控自定义的性能指标。通过Ganglia绘制的曲线很容易见到每个节点的工作状态，对合理调整、分配系统资源，提高系统整体性能起到重要作用。&lt;/p&gt;
&lt;p&gt;gmond 带来的系统负载非常少，这使得它成为在集群中各台计算机上运行的一段代码，而不会影响用户性能。&lt;/p&gt;
&lt;h1 id="gangliajia-gou"&gt;Ganglia架构&lt;/h1&gt;
&lt;p&gt;Ganglia的整体架构如下图所示：&lt;/p&gt;
&lt;p&gt;&lt;img alt="Ganglia-architecture" src="images/2013/ganglia/ganglia_architecture.gif"/&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;每个被检测的节点或集群运行一个gmond进程，进行监控数据的收集、汇总和发送。gmond即可以作为发送者（收集本机数据），也可以作为接收者（汇总多个节点的数据）。&lt;/li&gt;
&lt;li&gt;通常在整个监控体系中只有一个gmetad进程。该进程定期检查所有的gmonds，主动收集数据，并存储在RRD存储引擎中。&lt;/li&gt;
&lt;li&gt;ganglia-web是使用php编写的web界面，以图表的方式展现存储在RRD中的数据。通常与gmetad进程运行在一起。&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;其中，&lt;a href="http://oss.oetiker.ch/rrdtool/"&gt;RRDtool&lt;/a&gt;(Round Robin Database tool,环状数据库工具)是一组操作RRD数据的API，支持数据图形化。RRD是一种环状数据库技术，只存储固定数量的数据，新的数据会覆盖最旧的数据。
更多信息可以参考&lt;a href="http://bbs.chinaunix.net/forum.php?mod=viewthread&amp;amp;tid=864861&amp;amp;page=1"&gt;RRDtool简体中文教程 v1.01&lt;/a&gt;。&lt;/p&gt;
&lt;h1 id="gangliagui-hua"&gt;Ganglia规划&lt;/h1&gt;
&lt;p&gt;在动手部署Ganglia之前，首先要对监控体系进行初步的规划。主要考虑两方面的问题：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;单集群 or 多集群&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;如果节点较少，使用单集群配置起来更容易；
   如果节点很多，使用多集群可以避免广播风暴。但是需要为每个集群配置不同的组播通道（通过端口区分），同时要配置gmetad同时监听这多个通道。&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;组播模式 or 单播模式&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;组播模式是ganglia的默认模式，同一集群的多个gmond之间互相交换数据，gmetad中可以指定集群中的任意一个或多个节点作为"data_source"；&lt;/p&gt;
&lt;p&gt;组播模式可能会带来网络的 &amp;ldquo;抖动（Jitter）&amp;rdquo;。据说设置节点的时钟同步可以避免抖动的问题； 但如果网络环境不支持组播（比如Amazon&amp;rsquo;s AWS EC2），就需要使用单播模式。单播模式时，将大部分节点的gmond.conf中,global的deaf设置改为"yes"，则这些节点只发生数据，不接收其他节点的数据，同样也不能作为gmetad中的"data_source"。&lt;/p&gt;
&lt;p&gt;单播模式中还需要设置&amp;ldquo;send_metadata_interval&amp;rdquo;，比如30秒。以强制发送元数据。&lt;/p&gt;
&lt;p&gt;ganglia将一个gmetad覆盖的所有集群/节点称为一个grid。可以在/etc/ganglia/gmetad.conf中通过&lt;code&gt;gridname&lt;/code&gt;指定其名称。多个grid的数据也可以聚合到一个上级gmetad中。&lt;/p&gt;
&lt;h1 id="an-zhuang-he-pei-zhi"&gt;安装和配置&lt;/h1&gt;
&lt;h2 id="an-zhuang"&gt;安装&lt;/h2&gt;
&lt;p&gt;在RHEL/CentOS上如果配置了EPEL源，则安装变得非常简单。用yum可以查到如下软件包：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ganglia.i686 : Ganglia Distributed Monitoring System&lt;/li&gt;
&lt;li&gt;ganglia.x86_64 : Ganglia Distributed Monitoring System&lt;/li&gt;
&lt;li&gt;ganglia-devel.i686 : Ganglia Library&lt;/li&gt;
&lt;li&gt;ganglia-devel.x86_64 : Ganglia Library&lt;/li&gt;
&lt;li&gt;ganglia-gmetad.x86_64 : Ganglia Metadata collection daemon&lt;/li&gt;
&lt;li&gt;ganglia-gmond.x86_64 : Ganglia Monitoring daemon&lt;/li&gt;
&lt;li&gt;ganglia-gmond-python.x86_64 : Ganglia Monitor daemon python DSO and metric modules&lt;/li&gt;
&lt;li&gt;ganglia-web.x86_64 : Ganglia Web Frontend&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;在不同的节点选择对应的软件包安装即可。&lt;/p&gt;
&lt;h2 id="pei-zhi-fang-huo-qiang-gui-ze"&gt;配置防火墙规则&lt;/h2&gt;
&lt;p&gt;gmond和gmetad之间默认使用UDP的8649端口进行通信，如果配置多个集群，还会有其他端口。要保证这些端口畅通。&lt;/p&gt;
&lt;h2 id="pei-zhi-bei-jian-kong-jie-dian-etcgangliagmondconf"&gt;配置被监控节点(/etc/ganglia/gmond.conf)&lt;/h2&gt;
&lt;p&gt;最重要的配置是集群名称(cluster.name)。&lt;/p&gt;
&lt;p&gt;如果要配置多个集群，每个集群要使用不同的端口。共三个地方：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;udp_send_channel.port&lt;/li&gt;
&lt;li&gt;udp_recv_channel.port&lt;/li&gt;
&lt;li&gt;tcp_accept_channel.port&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="pei-zhi-zhong-xin-jie-dian-etcgangliagmetadconf"&gt;配置中心节点(/etc/ganglia/gmetad.conf)&lt;/h2&gt;
&lt;p&gt;最重要的是配置数据源。比如：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;data_source "NginX" a.a.a.101:8661 a.a.a.102:8661
data_source "LVS"   b.b.b.101 b.b.b.102
&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id="pei-zhi-web"&gt;配置web&lt;/h2&gt;
&lt;p&gt;默认启动httpd服务后，就可以通过&lt;code&gt;http://IP/ganglia&lt;/code&gt;访问。如果提示权限问题，需要检查：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;selinux设置&lt;/li&gt;
&lt;li&gt;防火墙设置&lt;/li&gt;
&lt;li&gt;/etc/httpd/conf.d/ganglia.conf中的&lt;code&gt;Deny from all&lt;/code&gt;限制&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id="kuo-zhan-jian-kong-gong-neng_1"&gt;扩展监控功能&lt;/h1&gt;
&lt;p&gt;Ganglia默认只监控一些通用的性能指标，如果要监控自定义的指标，就需要对Ganglia进行扩展。&lt;/p&gt;
&lt;h2 id="cha-jian-ji-zhi"&gt;插件机制&lt;/h2&gt;
&lt;p&gt;从Ganglia 3.1开始，可以使用python开发的插件对Ganglia进行扩展。&lt;/p&gt;
&lt;p&gt;&lt;code&gt;/etc/ganglia/gmond.conf&lt;/code&gt;配置中通常会包含：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;include ('/etc/ganglia/conf.d/*.conf')
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;如果安装了&lt;code&gt;ganglia-gmond-python&lt;/code&gt;软件包，会创建一个&lt;code&gt;/etc/ganglia/conf.d/modpython.conf&lt;/code&gt;文件：&lt;/p&gt;
&lt;p&gt;{% highlight nginx %}
modules {
  module {
    name = "python_module"
    path = "modpython.so"
    params = "/usr/lib64/ganglia/python_modules"
  }
}&lt;/p&gt;
&lt;p _="%" endhighlight=""&gt;include ('/etc/ganglia/conf.d/*.pyconf')&lt;/p&gt;
&lt;p&gt;这样，就可以用python编写自定义的插件。&lt;/p&gt;
&lt;p&gt;Ganglia 在 GitHub 上已经收集了一些&lt;a href="https://github.com/ganglia/gmond_python_modules"&gt;常用的python插件&lt;/a&gt;。&lt;/p&gt;
&lt;h2 id="bu-shu-nginxcha-jian"&gt;部署NginX插件&lt;/h2&gt;
&lt;p&gt;在&lt;a href="https://github.com/ganglia/gmond_python_modules"&gt;常用的python插件&lt;/a&gt;中包含了
&lt;a href="https://github.com/ganglia/gmond_python_modules/tree/master/nginx_status"&gt;nginx_status插件&lt;/a&gt;，
该插件利用&lt;a href="/nginx_keepalived.html#menuIndex9"&gt;NginX的状态监控功能&lt;/a&gt;获取数据。&lt;/p&gt;
&lt;p&gt;在确保nginx_status可以访问的前提下，只需要做如下配置：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;将python_modules/目录下的文件复制到gmond节点的&lt;code&gt;/usr/lib64/ganglia/python_modules&lt;/code&gt;目录。这是执行数据采集的脚本&lt;/li&gt;
&lt;li&gt;将conf.d/目录下的文件复制到gmond节点的&lt;code&gt;/etc/ganglia/conf.d/&lt;/code&gt;目录。这些文件定义了collection_group以及metric&lt;/li&gt;
&lt;li&gt;重启gmond&lt;/li&gt;
&lt;li&gt;将graph.d/目录下的文件复制到gmetad节点的&lt;code&gt;/usr/share/ganglia/graph.d&lt;/code&gt;目录。这些文件定义了如何绘制metric的图形&lt;/li&gt;
&lt;li&gt;重启gmetad，在对应的nginx节点详细信息中可以看到nginx metric对应的7个图表。&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img alt="Ganglia-nginx" src="images/2013/ganglia/ganglia_nginx.png"/&gt;&lt;/p&gt;
&lt;p&gt;理解了NginX插件，基本上能够自己开发Ganglia插件了。&lt;/p&gt;
&lt;h1 id="todoyu-nagiosjie-he-shi-yong_1"&gt;TODO：与Nagios结合使用&lt;/h1&gt;
&lt;p&gt;Nagios提供了很好的报警机制，将Ganglia与Nagios结合使用是常见的方式。&lt;/p&gt;</content><category term="运维"></category><category term="cluster"></category></entry><entry><title>keepalived实现双机互备</title><link href="http://holbrook.github.io/2013/07/16/ha_keepalived.html" rel="alternate"></link><published>2013-07-16T00:00:00+08:00</published><updated>2013-07-16T00:00:00+08:00</updated><author><name>Holbrook</name></author><id>tag:holbrook.github.io,2013-07-16:/2013/07/16/ha_keepalived.html</id><summary type="html"></summary><content type="html">&lt;h1 id="mu-biao-gao-ke-yong"&gt;目标：高可用&lt;/h1&gt;
&lt;p&gt;&amp;ldquo;高可用性&amp;rdquo;（High Availability）通常来描述一个系统经过专门的设计，从而减少停工时间，而保持其服务的高度可用性。&lt;/p&gt;
&lt;p&gt;通过高可用性设计，可以提高系统的平均无故障时间(MTTF)，
对于重要的系统或系统中重要的节点，必须有高可用性的设计来保证系统的平均无故障时间达到预期的要求。&lt;/p&gt;
&lt;p&gt;前面的&lt;a href="/2013/05/27/nginx_keepalived.html"&gt;NginX负载均衡方案&lt;/a&gt;中就使用了keepalived实现NginX节点的高可用，但那只是高可用性设计中的一种工作方式。
通常来说，高可用设计中多个冗余设备可以采用以下三种工作方式：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;主从方式 （非对称方式）&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;主机工作，备机处于监控准备状况；当主机宕机时，备机接管主机的一切工作，待主机恢复正常后，按使用者的设定以自动或手动方式将服务切换到主机上运行，数据的一致性通过共享存储系统解决。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;双机双工方式（互备互援）&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;两台主机同时运行各自的服务工作且相互监测情况，当任一台主机宕机时，另一台主机立即接管它的一切工作，保证工作实时，应用服务系统的关键数据存放在共享存储系统中。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;集群工作方式（多服务器互备方式）&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;多台主机一起工作，各自运行一个或几个服务，各为服务定义一个或多个备用主机，当某个主机故障时，运行在其上的服务就可以被其它主机接管。&lt;/p&gt;
&lt;p&gt;显然，主从方式最简单但存在资源浪费的情况；双工方式可以充分利用资源，但配置较复杂，两个节点之间要进行心跳监测；集群工作方式与双工方式并没有本质的区别，但复杂度急剧增加，除了健康状态要多播外，还需要考虑脑裂、仲裁、法定人数等问题。&lt;/p&gt;
&lt;p&gt;本文只讨论双机互备的工作方式。&lt;/p&gt;
&lt;h1 id="keepalivedjian-jie"&gt;keepalived简介&lt;/h1&gt;
&lt;p&gt;&lt;a href="http://www.keepalived.org/"&gt;keepalived&lt;/a&gt;是&lt;a href="/2013/07/04/lvs_intro.html"&gt;LVS&lt;/a&gt;的扩展项目，最初是为了解决LVS负载调度器的单点故障问题，但由于其适用性较强，配置简洁，也被用在许多其他场合，比如NginX负载均衡的高可用设计。&lt;/p&gt;
&lt;p&gt;keepalived的设计如下图：&lt;/p&gt;
&lt;p&gt;&lt;img alt="keepalived_architecture" src="images/2013/lvs/keepalived_architecture.jpg"/&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;WatchDog：监控checkers和vrrp 进程&lt;/li&gt;
&lt;li&gt;Checkers：服务器健康状态检查(healthchecking)。可以编写自定义的健康检查脚本。&lt;/li&gt;
&lt;li&gt;VRRP STACK：当健康检查失败（服务不可用）时，在节点见进行切换。使用&lt;a href="http://en.wikipedia.org/wiki/Virtual_Router_Redundancy_Protocol"&gt;VRRP(Virtual Router Redundancy Protocol, 虚拟路由器冗余协议）&lt;/a&gt;的组播实现。&lt;/li&gt;
&lt;li&gt;IPVS wrappers：生成ipvs规则。专门为LVS所用。&lt;/li&gt;
&lt;li&gt;Netlink Reflector：设定vrpp的vip地址。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;keepalived可以在每个节点配置相同的VRRP实例(vrrp_instance)，并指定状态为MASTER或BACKUP。&lt;/p&gt;
&lt;p&gt;当Checkers监测到本节点的服务不可用时，使本机的VRRP实例停止工作，并通知另外节点的VRRP STACK接管VRRP实例，从而对外保证服务继续可用。&lt;/p&gt;
&lt;h1 id="shuang-ji-hu-bei-fang-shi-de-shi-xian"&gt;双机互备方式的实现&lt;/h1&gt;
&lt;p&gt;keepalived实现主备工作的资料到处都有，我这里也有一个&lt;a href="/2013/05/27/nginx_keepalived.html"&gt;NginX主备机制的例子&lt;/a&gt;，这里就不再重复了。&lt;/p&gt;
&lt;p&gt;其实，只要稍微动点脑筋，在主备的基础上就可以实现双机互备甚至集群的工作方式。因为有两个前提：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;keepalived并没有限定节点的个数只能是2个&lt;/li&gt;
&lt;li&gt;keepalived没有限定每个节点只能有一个VRRP实例&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;那么，双机互备的实现原理就是：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;在每个节点配置两个VRRP实例&lt;/li&gt;
&lt;li&gt;两个实例分别以一个节点为主(MASTER)，另一个节点为备(BACKUP)&lt;/li&gt;
&lt;li&gt;通过外部的其他机制，如DNS轮询，使得两个VRRP实例同时对外提供服务&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id="pei-zhi-shi-li"&gt;配置实例&lt;/h1&gt;
&lt;p&gt;keepalived的配置文件（&lt;code&gt;/etc/keepalived/keepalived.conf&lt;/code&gt;)中包含3部分内容：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;global_defs： 全局配置&lt;/li&gt;
&lt;li&gt;vrrp_instance：vrrp实例，用来定义虚拟路由组&lt;/li&gt;
&lt;li&gt;virtual_server：定义LVS虚拟服务器&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;这里面只例举一下vrrp实例的配置。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;节点1&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;{% highlight nginx %}&lt;/p&gt;
&lt;p&gt;vrrp_instance VI_1 {
    state MASTER
    interface eth0
    virtual_router_id 51
    priority 100
    advert_int 1
    authentication {
        auth_type PASS
        auth_pass password
    }
    virtual_ipaddress {
        192.168.1.8
    }
}
vrrp_instance VI_2 {
    state BACKUP
    interface eth0
    virtual_router_id 52
    priority 99
    advert_int 1
    authentication {
        auth_type PASS
        auth_pass password
    }
    virtual_ipaddress {
        192.168.1.9
    }
}&lt;/p&gt;
&lt;p&gt;{% endhighlight %}&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;节点2&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;{% highlight nginx %}&lt;/p&gt;
&lt;p&gt;vrrp_instance VI_1 {
    state BACKUP
    interface eth0
    virtual_router_id 51
    priority 99
    advert_int 1
    authentication {
        auth_type PASS
        auth_pass password
    }
    virtual_ipaddress {
        192.168.1.8
    }
}
vrrp_instance VI_2 {
    state MASTER
    interface eth0
    virtual_router_id 52
    priority 100
    advert_int 1
    authentication {
        auth_type PASS
        auth_pass password
    }
    virtual_ipaddress {
        192.168.1.9
    }
}&lt;/p&gt;
&lt;p&gt;{% endhighlight nginx %}&lt;/p&gt;</content><category term="cluster"></category></entry><entry><title>《统计学》读书笔记(5/17:简单统计推断：总体参数的估计)</title><link href="http://holbrook.github.io/2013/07/09/statistics_intro_5.html" rel="alternate"></link><published>2013-07-09T00:00:00+08:00</published><updated>2013-07-09T00:00:00+08:00</updated><author><name>Holbrook</name></author><id>tag:holbrook.github.io,2013-07-09:/2013/07/09/statistics_intro_5.html</id><summary type="html">&lt;p&gt;统计学：从数据到结论，ISBN：9787503749964，作者：吴喜之 @&lt;a href="http://book.douban.com/subject/2193810/"&gt;豆瓣&lt;/a&gt;&lt;/p&gt;</summary><content type="html">&lt;p&gt;统计推断(statistical inference)：从数据得到关于现实世界的结论的过程。&lt;/p&gt;
&lt;p&gt;由于统计学的研究对象是不可能穷举的大量个体，通常需要通过抽样方法得到样本，再用样本去推断总体的情况，
所以统计推断得出的不是一个精确的结论，而是近似结果。&lt;/p&gt;
&lt;p&gt;统计推断的两个重要的方法是：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;估计(estimation)&lt;/li&gt;
&lt;li&gt;假设检验(hypothesis testing)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;本章介绍估计，下一章介绍假设检验&lt;/p&gt;
&lt;h1 id="51-yong-gu-ji-liang-gu-ji-zong-ti-can-shu"&gt;5.1 用估计量估计总体参数&lt;/h1&gt;
&lt;h2 id="jia-ding-fen-bu-zu"&gt;假定分布族&lt;/h2&gt;
&lt;p&gt;在通过样本信息推断总体情况之前，先假设总体的属性复合某种分布特征（分布族）。比如：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;假设身高符合正态分布族&lt;/li&gt;
&lt;li&gt;假设对某个观点的认同与否符合二项分布族&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;这些假设一半是通过经验获得，无法明确的证明。&lt;/p&gt;
&lt;h2 id="que-ding-ju-ti-fen-bu"&gt;确定具体分布&lt;/h2&gt;
&lt;p&gt;一个分布族下面的各种分布只是参数不同，通过研究样本确定这些参数，也就确定了具体分布。&lt;/p&gt;
&lt;p&gt;常见的分布参数：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;总体均值&lt;/li&gt;
&lt;li&gt;总体标准差&lt;/li&gt;
&lt;li&gt;成功概率&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;正态分布由总体均值和标准差两个参数决定；
Bernoulli分布由概率一个参数决定&lt;/p&gt;
&lt;p&gt;确定参数的过程是一个估计的过程，来源于样本数据。&lt;/p&gt;
&lt;p&gt;通过样本计算的各种统计量中，用于估计的统计量称为估计量（estimator)。&lt;/p&gt;
&lt;p&gt;估计量随样本的不同具有随机分布；对于给定的样本有一个给定的值，称为估计值(estimate)。&lt;/p&gt;
&lt;p&gt;两种估计：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;点估计(point estimation)：用一个估计值来近似总体参数&lt;/li&gt;
&lt;li&gt;区间估计(interval estimation)：用一个包括估计值在内的区间表示总体参数很可能处于的范围&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id="52-dian-gu-ji_1"&gt;5.2 点估计&lt;/h1&gt;
&lt;p&gt;任何统计量都可以作为估计量。&lt;/p&gt;
&lt;p&gt;估计量的命名可以来自：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;衡量一个估计量的好坏的某个标准&lt;/li&gt;
&lt;li&gt;估计量的计算方式&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;常见的估计量：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;样本均值：用于估计总体均值&lt;/li&gt;
&lt;li&gt;样本标准差(s)：用于估计总体标准差&lt;/li&gt;
&lt;li&gt;成功比例(x/n)：用于估计成功概率p&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;无偏估计量(unblased estimator)：多个样本产生的估计量的期望等于要估计的总体参数，这样的估计量称为无偏估计量。&lt;/p&gt;
&lt;p&gt;上述三种估计量都是无偏估计量。&lt;/p&gt;
&lt;h1 id="53-qu-jian-gu-ji"&gt;5.3 区间估计&lt;/h1&gt;
&lt;p&gt;为了更准确的表达估算量，通常采用点估计和区间估计结合的说法。比如：&lt;/p&gt;
&lt;p&gt;估计值+置信区间+置信度&lt;/p&gt;
&lt;p&gt;其中：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;估计值是对总体量的点估计&lt;/li&gt;
&lt;li&gt;置信区间(confidence interval)是以估计值为中心的区间估计，包括上限(upper bound)和下限(lower bound)&lt;/li&gt;
&lt;li&gt;置信度（confidence level）是抽取大量样本时，该区间会覆盖样本估计值的比例&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id="54-guan-yu-zhi-xin-qu-jian-de-zhu-yi-dian"&gt;5.4 关于置信区间的注意点&lt;/h1&gt;
&lt;p&gt;置信度描述的是统计量覆盖总体参数的概率，而不是置信区间覆盖总体参数的概率&lt;/p&gt;
&lt;p&gt;置信度越低，则置信区间越窄&lt;/p&gt;
&lt;h1 id="55-xiao-jie-lue"&gt;5.5 小结（略）&lt;/h1&gt;</content><category term="读书笔记"></category><category term="统计学"></category></entry><entry><title>Pillar：定义Salt配置管理的数据</title><link href="http://holbrook.github.io/2013/07/07/salt_pillar.html" rel="alternate"></link><published>2013-07-07T00:00:00+08:00</published><updated>2013-07-07T00:00:00+08:00</updated><author><name>Holbrook</name></author><id>tag:holbrook.github.io,2013-07-07:/2013/07/07/salt_pillar.html</id><summary type="html">&lt;p&gt;State定义了Salt配置管理的内容，Pillar则定义了Salt配置管理的数据。Pillar使得同一个配置项在各个minion中可以使用不同的数据，从而不需要在State中定义大量的include, extend等关系。&lt;/p&gt;</summary><content type="html">&lt;h1 id="wei-shi-yao-xu-yao-pillar"&gt;为什么需要Pillar&lt;/h1&gt;
&lt;p&gt;看了&lt;a href="/2013/06/30/salt_sls_sample.html"&gt;这篇文档&lt;/a&gt;，你可能已经被Salt State的强大所折服。&lt;/p&gt;
&lt;p&gt;是的，Salt State能够解决很多配置管理的问题，但是如下两个场景，如果只用state进行配置就会比较麻烦：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;让&lt;code&gt;apache&lt;/code&gt;配置项适应不同的OS&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;a href="/2013/06/30/salt_sls_sample.html#menuIndex1"&gt;这个例子&lt;/a&gt;中的apache配置中通过pkg模块验证&lt;code&gt;apache&lt;/code&gt;软件包是否安装。但是在RedHat系统的yum包管理器和Debian系统的apt包管理器中，apache的包名字分别为&lt;code&gt;httpd&lt;/code&gt;和&lt;code&gt;apache2&lt;/code&gt;。如何避免为apache配置项针对不同的包管理器定义不同的state？&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;同一个应用在不同环境中的数据库连接&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;假如你开发了一个Django应用，数据库连接信息在应用的settings.py中定义：&lt;/p&gt;
&lt;p&gt;{% highlight python %}
   DATABASES = {
    'default': {
        'ENGINE': 'django.db.backends.mysql',
        'NAME': 'test',
        'USER': 'root',
        'PASSWORD': 'password',
        'HOST': 'localhost',
        'PORT': '3306',
    }
   }&lt;/p&gt;
&lt;p&gt;{% endhighlight %}&lt;/p&gt;
&lt;p&gt;显然，数据库连接信息在开发环境、测试环境、生成环境中各不相同。如果把该应用作为一个state，如何实现在不同环境中的自动部署？&lt;/p&gt;
&lt;p&gt;Salt Pillar就是为了解决类似上述的问题而提供的组件。&lt;/p&gt;
&lt;h1 id="pillarshi-shi-yao"&gt;Pillar是什么？&lt;/h1&gt;
&lt;p&gt;如&lt;a href="/2013/07/02/salt_state_config_structure.html"&gt;这篇文章&lt;/a&gt;所述，Salt Sate定义了配置项以及minion和配置项直接的映射关系；与此类似，Pillar定义了数据以及minion和数据的映射关系。Pillar中定义的数据可以在Salt的其他组件中引用，当然最常见的情况是在State中引用Pillar数据。&lt;/p&gt;
&lt;p&gt;比如，在上一节的第一个问题中，我们可以这样定义State:&lt;/p&gt;
&lt;p&gt;{% highlight yaml %}&lt;/p&gt;
&lt;p&gt;apache:
    pkg.installed:
      - name: {{ pillar['apache'] }}&lt;/p&gt;
&lt;p&gt;{% endhighlight %}&lt;/p&gt;
&lt;p&gt;其中，&lt;code&gt;salt.states.pkg.installed&lt;/code&gt;函数的&lt;code&gt;name&lt;/code&gt;参数就是引用了Pillar中定义的变量&lt;code&gt;apache&lt;/code&gt;。&lt;/p&gt;
&lt;p&gt;而该变量在Pillar中的定义如下：&lt;/p&gt;
&lt;p&gt;{% highlight yaml %}&lt;/p&gt;
&lt;p _="%" endif=""&gt;{ % if grains['os_family'] == 'RedHat' % }
apache: httpd
{ % elif grains['os_family'] == 'Debian' % }
apache: apache2&lt;/p&gt;
&lt;p&gt;{% endhighlight %}&lt;/p&gt;
&lt;h1 id="pillarde-pei-zhi-jie-gou"&gt;Pillar的配置结构&lt;/h1&gt;
&lt;p&gt;Pillar与State就像是配置管理的左右手，所以Pillar的配置结构与&lt;a href="/2013/07/02/salt_state_config_structure.html"&gt;State的配置结构&lt;/a&gt;几乎完全一样。&lt;/p&gt;
&lt;h2 id="pillar-treehe-environment"&gt;Pillar Tree和Environment&lt;/h2&gt;
&lt;p&gt;与&lt;a href="/2013/07/02/salt_state_config_structure.html#menuIndex0"&gt;State Tree&lt;/a&gt;一样，Salt中可以定义一棵Pillar Tree，并且将Pillar按照环境进行分组管理。&lt;/p&gt;
&lt;p&gt;Pillar Tree定义在salt master的配置文件&lt;code&gt;/etc/salt/master&lt;/code&gt;的&lt;code&gt;pillar_roots&lt;/code&gt;变量中：&lt;/p&gt;
&lt;p&gt;{% highlight yaml %}&lt;/p&gt;
&lt;p&gt;pillar_roots:
   base:
     - /srv/pillar&lt;/p&gt;
&lt;p&gt;ext_pillar:
     - hiera: /etc/hiera.yaml
     - cmd_yaml: cat /etc/salt/yaml&lt;/p&gt;
&lt;p&gt;{% endhighlight %}&lt;/p&gt;
&lt;h2 id="pillarding-yi"&gt;Pillar定义&lt;/h2&gt;
&lt;p&gt;Pillar是一组key-value，使用yaml的语法格式。&lt;/p&gt;
&lt;p&gt;简单的定义比如：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;foo&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="n"&gt;bar&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;可以使用&lt;code&gt;{ { pillar['foo'] } }&lt;/code&gt;的形式进行引用；&lt;/p&gt;
&lt;p&gt;复杂的定义比如：&lt;/p&gt;
&lt;p&gt;{% highlight yaml %}
users:
  thatch: 1000
  shouse: 1001
  utahdave: 1002
  redbeard: 1003&lt;/p&gt;
&lt;p&gt;{% endhighlight %}&lt;/p&gt;
&lt;p&gt;可以使用包含jinja语法的yaml进行引用：&lt;/p&gt;
&lt;p&gt;{% highlight yaml %}&lt;/p&gt;
&lt;p _="%" endfor=""&gt;{ % for user, uid in pillar.get('users', {}).items() % }
   { {user} }:
     user.present:
       - uid: { {uid} }&lt;/p&gt;
&lt;p&gt;{% endhighlight %}&lt;/p&gt;
&lt;p&gt;定义好的pillar数据保存在Pillar Tree下面的某个&lt;code&gt;sls&lt;/code&gt;文件中。为了能够在State中引用Pillar数据，
Pillar的目录结构和文件名需要与State能够对应。&lt;/p&gt;
&lt;p&gt;Pillar可以用于任何数据的定义，比如ssh key、证书、密码口令等敏感数据，minion的模块、状态、信息反馈，以及要传递给minion的任何变量的值等等。
这些数据都会以加密通道安全的分发到minion上面。&lt;/p&gt;
&lt;p&gt;Pillar的数据不仅仅可以来自SLS文件，还可以从其他数据源获取数据。相关内容可以自行查阅&lt;a href="http://docs.saltstack.com/topics/pillar/index.html"&gt;官方文档&lt;/a&gt;。&lt;/p&gt;
&lt;h2 id="minionyu-pillarzhi-jian-de-ying-she"&gt;minion与Pillar之间的映射&lt;/h2&gt;
&lt;p&gt;与&lt;a href="/2013/07/02/salt_state_config_structure.html#menuIndex2"&gt;minion与state之间的映射&lt;/a&gt;一样，
在Pillar的base目录中也存在一个名为&lt;code&gt;top.sls&lt;/code&gt;的入口文件，定义minion与Pillar的映射关系，例如：&lt;/p&gt;
&lt;p&gt;{% highlight yaml %}&lt;/p&gt;
&lt;p&gt;base:
  '*':
    - packages
  'alpha':
    - database&lt;/p&gt;
&lt;p&gt;{% endhighlight %}&lt;/p&gt;
&lt;p&gt;上边的例子定义了packages对所有的minion有效，database只对名字为'alpha'的minion有效.&lt;/p&gt;
&lt;h1 id="pillarshu-ju-de-cha-xun-he-shi-yong_1"&gt;Pillar数据的查询和使用&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;查询pillar数据&lt;/li&gt;
&lt;/ol&gt;
&lt;p _="%" endhighlight=""&gt;{% highlight yaml %}
    salt 'client2' pillar.data
    salt '&lt;em&gt;' pillar.data
    salt '&lt;/em&gt;' pillar.raw key='roles'&lt;/p&gt;
&lt;p&gt;更多的函数可以参考&lt;a href="https://salt.readthedocs.org/en/latest/ref/modules/all/salt.modules.pillar.html"&gt;pillar模块的文档&lt;/a&gt;。&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;刷新pillar数据&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;在master上修改Pilla文件后，需要用以下命令刷新minion上的数据（同步到minion）：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;   salt '*' saltutil.refresh_pillar
&lt;/pre&gt;&lt;/div&gt;
&lt;ol&gt;
&lt;li&gt;在其他sls文件中引用数据&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Pillar解析后是dict对象，直接使用Python语法，可以用索引（&lt;code&gt;pillar['pkgs']['apache']&lt;/code&gt;）或get方法（&lt;code&gt;pillar.get('users', {})&lt;/code&gt;）获取到需要的数据。&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;在Targetting中使用Pillar&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Targetting中可以用&lt;code&gt;-I&lt;/code&gt;选项指定用Pillar数据选择minion。&lt;/p&gt;
&lt;h1 id="can-kao-zi-liao"&gt;参考资料&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://docs.saltstack.com/topics/tutorials/pillar.html"&gt;《Pillar Walkthrough》&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://docs.saltstack.com/topics/pillar/index.html"&gt;《Pillar of Salt》&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><category term="运维"></category></entry><entry><title>ZeroMQ简介</title><link href="http://holbrook.github.io/2013/07/03/zeromq_intro.html" rel="alternate"></link><published>2013-07-03T00:00:00+08:00</published><updated>2013-07-03T00:00:00+08:00</updated><author><name>Holbrook</name></author><id>tag:holbrook.github.io,2013-07-03:/2013/07/03/zeromq_intro.html</id><summary type="html">&lt;p&gt;zeroMQ不是TCP，不是socket，也不是消息队列，而是这些的综合体。&lt;/p&gt;</summary><content type="html">&lt;p&gt;zeroMQ不是TCP，不是socket，也不是消息队列，而是这些的综合体。&lt;/p&gt;
&lt;p&gt;&lt;img alt="ZeroMQ" src="images/2013/zeromq/logo.gif"/&gt;&lt;/p&gt;
&lt;h1 id="zeromqshi-shi-yao"&gt;ZeroMQ是什么&lt;/h1&gt;
&lt;p&gt;&lt;a href="http://www.zeromq.org/"&gt;ZeroMQ&lt;/a&gt;以嵌入式网络编程库的形式实现了一个并行开发框架（concurrency framework），
能够提供进程内(inproc)、进程间(IPC)、网络(TCP)和广播方式的消息信道，
并支持扇出(fan-out)、发布-订阅(pub-sub)、任务分发（task distribution）、请求/响应（request-reply）等通信模式。
ZeroMQ的性能足以用来构建集群产品，
其异步I/O模型能够为多核消息系统提供足够的扩展性。
ZeroMQ支持30多种语言的API，可以用于绝大多数操作系统。
在提供这些优秀特性的同时，ZeroMQ是开源的，遵循LGPLv3许可。&lt;/p&gt;
&lt;p&gt;ZeroMQ的明确目标是&amp;ldquo;成为标准网络协议栈的一部分，之后进入Linux内核&amp;rdquo;。&lt;/p&gt;
&lt;h1 id="zero-zhi-shan-the-zen-of-zero"&gt;Zero 之禅（The Zen of Zero）&lt;/h1&gt;
&lt;p&gt;ZeroMQ是一个很有个性的项目，其名称也暗合禅意：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&amp;Oslash; 是一种权衡：让一些丹麦人恼火，但是&amp;ldquo;&amp;Oslash;&amp;rdquo;本身也降低了google搜索的命中率以及twitter上的关注度&lt;/li&gt;
&lt;li&gt;&amp;Oslash; 暗合&amp;ldquo;零代理(broker)&amp;rdquo;、&amp;ldquo;零延迟&amp;rdquo;&lt;/li&gt;
&lt;li&gt;&amp;Oslash; 的目标是&amp;ldquo;零管理、零消耗、零浪费&amp;rdquo;&lt;/li&gt;
&lt;li&gt;&amp;Oslash; 符合简约主义：力量的源泉是降低复杂度，而不是增加新功能&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id="zeromqdui-socket-apide-feng-zhuang"&gt;ZeroMQ对socket API的封装&lt;/h1&gt;
&lt;p&gt;与libevent, ACE等项目不同，使用ZeroMQ时可以不关注网络细节。
ZeroMQ的API提供了对于传统socket API的封装，对于套接字类型、连接处理、帧、甚至路由的底层细节都进行了抽象，
使得一套API可以用于进程内通讯、IPC、TCP和广播等多种消息信道。&lt;/p&gt;
&lt;p&gt;ZeroMQ自己定位为&amp;ldquo;智能传输层&amp;rdquo;（The Intelligent Transport Layer），位于网络层和应用层之间。
ZeroMQ使得构建大型并发应用时，可以将基本单元随意的&amp;ldquo;组装&amp;rdquo;，由ZeroMQ解决通信的弹性伸缩，&lt;/p&gt;
&lt;p&gt;ZeroMQ的这种设计大大简化了应用程序消息通信的实现，使得在多种场景下重用相同的交互模式成为可能。
使用ZeroMQ可以让编写高性能网络应用程序极为简单和有趣。&lt;/p&gt;
&lt;p&gt;与socket相比，ZeroMQ API的特征如下：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;在后台线程中异步地处理IO。后台线程使用无需锁的数据结构与应用线程通信，所以ZeroMQ应用程序不需要锁、信号量，或者其他等待状态。&lt;/li&gt;
&lt;li&gt;组件可以动态地加入和退出，ZeroMQ会自动重新连接。这意味着可以以任何次序启动组件。可以创建&amp;ldquo;面向服务架构（service-oriented architectures)&amp;rdquo;，其中的服务可以在任何时候加入或者退出网络。&lt;/li&gt;
&lt;li&gt;在需要的时候自动对消息排队。这种处理是智能的，在排队前会尽量让消息靠近接收者。&lt;/li&gt;
&lt;li&gt;有处理队列溢出的方法（&amp;ldquo;高水位标记&amp;rdquo;）。队列满的时候，ZeroMQ会自动阻塞发送者，或者丢弃消息，取决于你正在使用的消息传递类型（模式）。&lt;/li&gt;
&lt;li&gt;ZeroMQ让应用程序可以使用传输端点相互交流：TCP、多播、进程内、进程间。使用不同的传输端点时不用修改代码。&lt;/li&gt;
&lt;li&gt;根据消息传递模式的不同，使用不同的策略来安全地处理慢速/阻塞的接收者。&lt;/li&gt;
&lt;li&gt;使用请求-应答、发布-订阅等多种模式来路由消息。这些模式定义了如何创建网络拓扑结构。&lt;/li&gt;
&lt;li&gt;需要降低互联的各部分间的复杂性的时候，可以在网络中放置模式扩展的&amp;ldquo;设备&amp;rdquo;（小的代理）。&lt;/li&gt;
&lt;li&gt;通过在线路中使用简单的帧，可以精确地传递整个消息。发送10K的消息，则会收到10K的消息。&lt;/li&gt;
&lt;li&gt;不对消息格式做任何假定。消息是从零到数G字节的块。需要在高层使用其他产品来表示数据，如Google的Protocol Buffers、XDR等等。&lt;/li&gt;
&lt;li&gt;智能地处理网络错误。有时候重试，有时候告诉你操作失败。&lt;/li&gt;
&lt;li&gt;降低能耗。使用较少的CPU时间来做更多事情意味着使用更少的能源，而且较老的机器可以使用更长的时间。&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id="zeromqde-tong-xin-xie-yi"&gt;ZeroMQ的通信协议&lt;/h1&gt;
&lt;p&gt;ZeroMQ定义了&lt;a href="http://rfc.zeromq.org/spec:13"&gt;ZMTP（ZeroMQ Message Transport Protocol, ZeroMQ消息传输协议）&lt;/a&gt;，在TCP协议之上定义了向后兼容性的规则，可扩展的安全机制，命令和消息分帧，连接元数据，以及其他传输层功能。&lt;/p&gt;
&lt;p&gt;相对于其他的消息传输协议/通信协议，ZeroMQ有明显的优势：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;TCP：ZeroMQ基于消息，使用消息模式而不是字节流。&lt;/li&gt;
&lt;li&gt;XMPP：ZeroMQ更简单、快速、更底层。Jabber可建在&amp;Oslash;MQ之上。&lt;/li&gt;
&lt;li&gt;AMQP：完成相同的工作，ZeroMQ要快100倍，而且不需要代理（规范更简洁&amp;mdash;&amp;mdash;比AMQP的规范文档少278页）&lt;/li&gt;
&lt;li&gt;IPC：ZeroMQ可以跨主机通信&lt;/li&gt;
&lt;li&gt;CORBA：ZeroMQ不会将复杂到恐怖的消息格式强加于你。&lt;/li&gt;
&lt;li&gt;RPC：ZeroMQ完全是异步的，你可以随时增加/删除参与者。&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.faqs.org/rfcs/rfc1149.html"&gt;RFC 1149&lt;/a&gt;：ZeroMQ比它快多了！&lt;/li&gt;
&lt;li&gt;29west LBM：ZeroMQ是自由软件！&lt;/li&gt;
&lt;li&gt;IBM Low-latency：ZeroMQ是自由软件！&lt;/li&gt;
&lt;li&gt;Tibco：ZeroMQ仍然是自由软件！&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id="zeromqbu-shi-xiao-xi-dui-lie"&gt;ZeroMQ不是消息队列&lt;/h1&gt;
&lt;p&gt;在摩尔定律的魔咒下，&amp;ldquo;分布式处理&amp;rdquo;逐渐成为主流，随之而来的是关于消息通讯、消息中间件的项目层出不穷。&lt;/p&gt;
&lt;p&gt;其中最有名的应该是ZeroMQ和RabbitMQ，Thrift。
&lt;a href="http://www.rabbitmq.com/"&gt;RabbitMQ&lt;/a&gt;是符合&lt;a href="http://www.amqp.org/"&gt;AMQP(Advanced Message Queuing Protocol, 高级消息队列协议)&lt;/a&gt;的消息中间件，
而&lt;a href="http://thrift.apache.org/"&gt;Thrift&lt;/a&gt;是出自于Facebook的跨语言服务访问的框架。&lt;/p&gt;
&lt;p&gt;2011年，&lt;a href="http://zh.wikipedia.org/wiki/%E6%AD%90%E6%B4%B2%E6%A0%B8%E5%AD%90%E7%A0%94%E7%A9%B6%E7%B5%84%E7%B9%94"&gt;欧洲核子研究组织（CERN）&lt;/a&gt;
调查了统一用于操作CERN加速器的中间件解决方案的方式，欧洲核子研究组织的研究比较了
&lt;a href="http://zh.wikipedia.org/wiki/CORBA"&gt;CORBA&lt;/a&gt;、
&lt;a href="http://zh.wikipedia.org/w/index.php?title=Internet_Communications_Engine&amp;amp;action=edit&amp;amp;redlink=1"&gt;Ice&lt;/a&gt;，
&lt;a href="http://zh.wikipedia.org/w/index.php?title=Apache_Thrift&amp;amp;action=edit&amp;amp;redlink=1"&gt;Thrift&lt;/a&gt;，
ZeroMQ,
YAMI4，
&lt;a href="http://zh.wikipedia.org/w/index.php?title=Run-Time_Infrastructure_(simulation)&amp;amp;action=edit&amp;amp;redlink=1"&gt;RTI&lt;/a&gt;和
&lt;a href="http://zh.wikipedia.org/w/index.php?title=Apache_Qpid&amp;amp;action=edit&amp;amp;redlink=1"&gt;Qpid/AMQP&lt;/a&gt;，
ZeroMQ得到了最高的分数。&lt;/p&gt;
&lt;p&gt;但ZeroMQ最大的特点不在性能，而是机制。尽管名字中包含了"MQ"，但ZeroMQ并不是&amp;ldquo;消息队列/消息中间件&amp;rdquo;。ZeroMQ是一个传输层API库，
更关注消息的传输。与消息队列相比，ZeroMQ有以下一些特点：&lt;/p&gt;
&lt;p&gt;1&amp;nbsp;点对点无中间节点&lt;/p&gt;
&lt;p&gt;传统的消息队列都需要一个消息服务器来存储转发消息。而ZeroMQ则放弃了这个模式，把侧重点放在了点对点的消息传输上，并且（试图）做到极致。以为消息服务器最终还是转化为服务器对其他节点的点对点消息传输上。ZeroMQ能缓存消息，但是是在发送端缓存。ZeroMQ里有水位设置的相关接口来控制缓存量。当然，ZeroMQ也支持传统的消息队列（通过zmq_device来实现）。&lt;/p&gt;
&lt;p&gt;2&amp;nbsp;强调消息收发模式&lt;/p&gt;
&lt;p&gt;在点对点的消息传输上ZeroMQ将通信的模式做了归纳，比如常见的订阅模式（一个消息发多个客户），分发模式（N个消息平均分给X个客户）等等。下面是目前支持的消息模式配对，任何一方都可以做为服务端。
  - PUB and SUB
  - REQ and REP
  - REQ and XREP
  - XREQ and REP
  - XREQ and XREP
  - XREQ and XREQ
  - XREP and XREP
  - PUSH and PULL
  - PAIR and PAIR&lt;/p&gt;
&lt;p&gt;3&amp;nbsp;以统一接口支持多种底层通信方式&lt;/p&gt;
&lt;p&gt;不管是线程间通信，进程间通信还是跨主机通信，ZeroMQ都使用同一套API进行调用，只需要更改通信协议名称（如，从"ipc:///xxx"改为"tcp://&lt;em&gt;.&lt;/em&gt;.&lt;em&gt;.&lt;/em&gt;:****"）即可。&lt;/p&gt;
&lt;p&gt;4&amp;nbsp;异步，强调性能&lt;/p&gt;
&lt;p&gt;ZeroMQ设计之初就是为了高性能的消息发送而服务的，所以其设计追求简洁高效。它发送消息是异步模式，通过单独出一个IO线程来实现，所以消息发送调用之后不要立刻释放相关资源哦，会出错的（以为还没发送完），要把资源释放函数交给ZeroMQ让ZeroMQ发完消息自己释放。&lt;/p&gt;
&lt;h1 id="zeromqde-ying-yong-an-li"&gt;ZeroMQ的应用案例&lt;/h1&gt;
&lt;p&gt;ZeroMQ如何拯救世界&lt;/p&gt;
&lt;p&gt;由于ZeroMQ的强大，我们可以用ZeroMQ搭建出非常强悍的应用。比如：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="/2013/06/24/salt_intro.html"&gt;Salt&lt;/a&gt;的底层就使用了ZeroMQ作为通信机制&lt;/li&gt;
&lt;li&gt;&lt;a href="http://mongrel2.org/home"&gt;Mongrel2&lt;/a&gt;是使用ZeroMQ开发的一个Web服务器&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Mongrel2是应用ZeroMQ的一个有趣的案例：所有入站消息通过&amp;ldquo;Push&amp;rdquo;套接字路由到Mongrel2，套接字可以自动实现负载均衡，将消息分发到连接处理器。反过来，连接处理器处理入站消息（通过Pull套接字），然后将处理结果发布到一个&amp;ldquo;Pub&amp;rdquo;套接字，Mongrel2服务器本身已订阅了该套接字，并且通过主题（topic）过滤器监听该套接字的进程号。如下图：&lt;/p&gt;
&lt;p&gt;&lt;img alt="zmq-mongrel2" src="images/2013/zeromq/zmq-mongrel2.png"/&gt;&lt;/p&gt;
&lt;p&gt;ZeroMQ带来了一种新的分布式应用架构的思考方式。善用ZeroMQ，可以为应用带来非常强大的特性。&lt;/p&gt;
&lt;h1 id="can-kao-zi-liao"&gt;参考资料&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://zguide.zeromq.org/page:all"&gt;官方指南&lt;/a&gt;，这篇巨长的文档不仅介绍了ZeroMQ的主要方面，网络编程，还融入了ZeroMQ作者对于编程的理念，很值得精读&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.infoq.com/news/2010/09/introduction-zero-mq"&gt;An Introduction to &amp;Oslash;MQ (ZeroMQ)&lt;/a&gt;,InfoQ上面对于ZeroMQ的一篇介绍性文章&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.zeromq.org/community"&gt;ZeroMQ社区&lt;/a&gt;，&lt;/li&gt;
&lt;li&gt;&lt;a href="http://hi.baidu.com/ah__fu/item/bdff1d88d236f8c299255f65"&gt;ZeroMQ：云计算时代最好的通讯库&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://blog.codingnow.com/2011/02/zeromq_message_patterns.html"&gt;ZeroMQ 的模式&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><category term="消息中间件"></category></entry><entry><title>lvs+nginx的负载均衡实验</title><link href="http://holbrook.github.io/2013/07/01/lvs_nginx_practice.html" rel="alternate"></link><published>2013-07-01T00:00:00+08:00</published><updated>2013-07-01T00:00:00+08:00</updated><author><name>Holbrook</name></author><id>tag:holbrook.github.io,2013-07-01:/2013/07/01/lvs_nginx_practice.html</id><summary type="html">&lt;p&gt;LVS+NginX是构建大型B/S应用的典型方式。本文记录在实验环境搭建这样一个架构，并进行功能、可靠性、性能等方面的测试的过程。&lt;/p&gt;</summary><content type="html">&lt;h1 id="zhun-bei-huan-jing"&gt;准备环境&lt;/h1&gt;
&lt;p&gt;2 LVS(cluster) + 2 NginX
（图）&lt;/p&gt;
&lt;h1 id="pei-zhi"&gt;配置&lt;/h1&gt;
&lt;h2 id="lvsfu-wu-qi-pei-zhi"&gt;LVS服务器配置&lt;/h2&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;安装软件包&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;pulse: LVS守护进程&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;piranha: LVS的web管理工具，包括状态监控和配置&lt;/li&gt;
&lt;/ol&gt;
&lt;p _="%" endhighlight=""&gt;{% highlight bash %}
yum install pulse piranha&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;打开IP转发功能（ip_forward）&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;在&lt;code&gt;/etc/sysctl.conf&lt;/code&gt;中设置&lt;code&gt;net.ipv4.ip_forward = 1&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;code&gt;/sbin/sysctl -w net.ipv4.ip_forward=1&lt;/code&gt; 或者&lt;code&gt;echo 1 &amp;gt; /proc/sys/net/ipv4/ip_forward&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;查看状态：&lt;code&gt;/sbin/sysctl net.ipv4.ip_forward&lt;/code&gt; 或者&lt;code&gt;cat /proc/sys/net/ipv4/ip_forward&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;配置LVS&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;配置文件位于&lt;code&gt;/etc/sysconfig/ha/lvs.cf&lt;/code&gt;，使用piranha可以以图形界面的方式进行配置。&lt;/p&gt;
&lt;p&gt;{% highlight bash %}
 # 设置管理密码
 piranha-passwd&lt;/p&gt;
&lt;p&gt;# 启动piranha服务
 /etc/init.d/piranha-gui start&lt;/p&gt;
&lt;p&gt;{% endhighlight %}&lt;/p&gt;
&lt;p&gt;接下来可以用浏览器访问: http://IP_OF_LVS:3636（记得配置LVS上的防火墙，否则只能本机访问）。&lt;/p&gt;
&lt;p&gt;点击"Login"按钮，使用用户名&lt;code&gt;piranha&lt;/code&gt;和刚才设置的密码登录，可以看到管理界面：&lt;/p&gt;
&lt;p&gt;&lt;img alt="1" src="images/2013/lvs_nginx_practice/piranha1.png"/&gt;&lt;/p&gt;
&lt;p&gt;依次配置全局设置(GLOBAL SETTINGS), 备机设置(REDUNDANCY, 可选)，虚拟服务器(VIRTUAL SERVERS)，即可。&lt;/p&gt;
&lt;p&gt;其中虚拟服务器可以配置基本信息(VIRTUAL SERVER)、真实服务器(REAL SERVER)和监控脚本(MONITORING SCRIPTS)。&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;启动服务&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;配置完成后，启动lvs服务(&lt;code&gt;/etc/init.d/pulse start&lt;/code&gt;)，在监控界面(CONTROL/MONITORING)可以看到"Daemon"的状态为"running"。&lt;/p&gt;
&lt;p&gt;如果要设置pulse为开机自动启动，可以使用命令：&lt;code&gt;/sbin/chkconfig --level35 pulse on&lt;/code&gt;。&lt;/p&gt;
&lt;h2 id="rsreal-serverzhen-shi-fu-wu-qi-pei-zhi"&gt;RS（Real Server，真实服务器）配置&lt;/h2&gt;
&lt;p&gt;这里使用nginx作为Real Server，参考&lt;a href="http://thinkinside.tk/2013/05/27/nginx_keepalived.html"&gt;这篇文章&lt;/a&gt;进行最简单的配置，能够看到nginx默认的欢迎界面即可。&lt;/p&gt;
&lt;p&gt;RS需要进行一系列的设置才能与LVS协同工作，参考如下脚本：&lt;/p&gt;
&lt;p&gt;{% highlight bash %}&lt;/p&gt;
&lt;h1 id="binbash_1"&gt;!/bin/bash&lt;/h1&gt;
&lt;p&gt;VIP=VIP_OF_LVS&lt;/p&gt;
&lt;p&gt;/sbin/ifconfig lo:0 $VIP broadcast $VIP netmask 255.255.255.255 up&lt;/p&gt;
&lt;p&gt;/sbin/route add -host $VIP dev lo:0&lt;/p&gt;
&lt;p&gt;echo "1" &amp;gt;/proc/sys/net/ipv4/conf/lo/arp_ignore&lt;/p&gt;
&lt;p&gt;echo "2" &amp;gt;/proc/sys/net/ipv4/conf/lo/arp_announce&lt;/p&gt;
&lt;p&gt;echo "1" &amp;gt;/proc/sys/net/ipv4/conf/all/arp_ignore&lt;/p&gt;
&lt;p&gt;echo "2" &amp;gt;/proc/sys/net/ipv4/conf/all/arp_announce&lt;/p&gt;
&lt;p&gt;sysctl -p&lt;/p&gt;
&lt;p&gt;/sbin/service iptables stop&lt;/p&gt;
&lt;p&gt;{% endhighlight %}&lt;/p&gt;
&lt;h2 id="qi-dong-lvsfu-wu"&gt;启动LVS服务&lt;/h2&gt;
&lt;p&gt;LVS和RS都配置好之后，可以启动LVS服务。前面提到，pulse是LVS的守护进程(Daemon)。使用如下的命令启动LVS：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;/etc/init.d/pulse start
&lt;/pre&gt;&lt;/div&gt;
&lt;h1 id="ming-ling-xing-gong-ju-ipvsadm_1"&gt;命令行工具：ipvsadm&lt;/h1&gt;
&lt;p&gt;&lt;code&gt;ipvsadm&lt;/code&gt;是LVS的命令行管理工具，可以用于更改运行时状态或更改配置文件。主要功能包括：&lt;/p&gt;
&lt;p&gt;{% highlight bash %}&lt;/p&gt;
&lt;p&gt;# 增加/编辑虚拟服务器（VS）
 ipvsadm -A|E -t|u|f virutal-service-address:port [-s scheduler] [-p [timeout]] [-M netmask]&lt;/p&gt;
&lt;p&gt;# 删除虚拟服务器
 ipvsadm -D -t|u|f virtual-service-address&lt;/p&gt;
&lt;p&gt;# 清除内核虚拟服务器表中的所有记录。
 ipvsadm -C&lt;/p&gt;
&lt;p&gt;# 放弃内存中的修改，读取配置文件
 ipvsadm -R&lt;/p&gt;
&lt;p&gt;# 将内存中的修改保存为配置文件
 ipvsadm -S [-n]&lt;/p&gt;
&lt;p&gt;# 增加/编辑真实服务器（RS）
 ipvsadm -a|e -t|u|f service-address:port -r real-server-address:port&lt;/p&gt;
&lt;p&gt;# 删除真实服务器
 ipvsadm -d -t|u|f service-address -r server-address&lt;/p&gt;
&lt;p&gt;# 显示虚拟服务器表
 ipvsadm -L|l [options]&lt;/p&gt;
&lt;p&gt;# 虚拟服务表计数器清零（清空当前的连接数量等）
 ipvsadm -Z [-t|u|f service-address]&lt;/p&gt;
&lt;p&gt;# 设置连接超时值
 ipvsadm &amp;ndash;set tcp tcpfin udp&lt;/p&gt;
&lt;p&gt;# 启动守护进程, 可以是master或backup方式
 ipvsadm &amp;ndash;start-daemon state [--mcast-interface interface]&lt;/p&gt;
&lt;p&gt;# 停止守护进程
 ipvsadm &amp;ndash;stop-daemon&lt;/p&gt;
&lt;p&gt;# 查看帮助
 ipvsadm -h&lt;/p&gt;
&lt;p&gt;{% endhighlight %}&lt;/p&gt;
&lt;h1 id="gong-neng-yan-zheng"&gt;功能验证&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;检查LVS启动过程： &lt;code&gt;tail -f /var/log/messages&lt;/code&gt;，可以看到虚拟服务启动、连接到各个真实服务器等记录。&lt;/li&gt;
&lt;li&gt;将两台真实服务器的nginx欢迎界面（index.html）修改成不同的内容，重复刷新对虚拟服务器的访问，能看到内容变化&lt;/li&gt;
&lt;li&gt;使用命令&lt;code&gt;ipvsadm&lt;/code&gt;检查分流状况&lt;/li&gt;
&lt;li&gt;关闭一台nginx, &lt;code&gt;/var/log/messages&lt;/code&gt;中会记录服务器连接失败，此时通过&lt;code&gt;ipvsadm&lt;/code&gt;检查会发现所有的流量被分流到另一个nginx上面&lt;/li&gt;
&lt;li&gt;重新启动刚才关闭的nginx, &lt;code&gt;/var/log/messages&lt;/code&gt;中会记录服务器连接成功，此时通过&lt;code&gt;ipvsadm&lt;/code&gt;检查会发现恢复了负载分担&lt;/li&gt;
&lt;li&gt;lvs+keepalived的故障切换测试（未测试）&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id="xing-neng-ce-shi"&gt;性能测试&lt;/h1&gt;
&lt;p&gt;使用Apache Bench进行简单的性能测试，得出如下结论：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;单个nginx的最佳并发：1900，最大并发：2900；使用LVS+2台nginx的最佳并发：3000，最大并发：5900。&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;说明通过LVS做负载均衡能提高并发能力，但不是线性增加，会有一定的损失。具体数据需要进一步测试。&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;经过LVS访问nginx比直接访问nginx会增加50毫秒左右的响应时间。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;官方的测试数字是：VS/NAT方式达到1112并发，VS/DR或VS/TUN方式可以达到25,000并发。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;F5的并发处理能力超过10万，可以保持的连接数能达到几百万。&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;</content><category term="cluster"></category></entry><entry><title>Salt state 配置结构</title><link href="http://holbrook.github.io/2013/07/01/salt_state_config_structure.html" rel="alternate"></link><published>2013-07-01T00:00:00+08:00</published><updated>2013-07-01T00:00:00+08:00</updated><author><name>Holbrook</name></author><id>tag:holbrook.github.io,2013-07-01:/2013/07/01/salt_state_config_structure.html</id><summary type="html">&lt;p&gt;Salt的state配置比较复杂，官方文档也比较零散。初学者不易掌握。但是如果把Salt的state配置看做是编写代码，就很容易掌握其脉络。&lt;/p&gt;</summary><content type="html">&lt;p&gt;配置的目标是通过master管理多个mision的状态，最终配置的实现是使用文件夹和文件。而Salt state的设计就是在二者之间建立逻辑关系。&lt;/p&gt;
&lt;p&gt;Salt的state配置比较复杂，官方文档也比较零散。初学者不易掌握。但是如果把Salt的state配置看做是编写代码，就很容易掌握其脉络。&lt;/p&gt;
&lt;p&gt;下图是Salt state配置结构的逻辑图：&lt;/p&gt;
&lt;p&gt;&lt;img alt="salt_functions" src="images/2013/salt_usage/salt_state_config_structure.png"/&gt;&lt;/p&gt;
&lt;p&gt;配置的目标是通过master管理多个mision的状态，最终配置的实现是使用文件夹和文件。而Salt state的设计就是在二者之间建立逻辑关系。&lt;/p&gt;
&lt;h1 id="statetree-he-environment"&gt;StateTree 和 Environment&lt;/h1&gt;
&lt;p&gt;每个master上面都会建立一棵state树，将各个state的配置分级管理。&lt;/p&gt;
&lt;p&gt;这棵树的第一层就是环境（environment)的划分。salt将环境分为base环境和自定义环境。base环境是必须存在的，其他的环境根据自己的需要进行定义。典型的可以划分开发环境(dev), 用户参与测试环境（uat)，生成环境(prod), 备份环境（backup)等等。&lt;/p&gt;
&lt;p&gt;Salt约定base环境必须存在，是其他环境的基础，base环境中定义的state可以在各个自定义环境中使用。&lt;/p&gt;
&lt;p&gt;显然，每个环境至少需要一个文件夹来保持多个state配置。事实上，Salt允许一个环境使用多个文件夹。&lt;/p&gt;
&lt;p&gt;Salt环境与目录的对应关系在salt master的配置文件&lt;code&gt;/etc/salt/master&lt;/code&gt;的&lt;code&gt;file_roots&lt;/code&gt;变量中定义。&lt;code&gt;/etc/salt/master&lt;/code&gt;文件也是使用YAML格式。&lt;/p&gt;
&lt;p&gt;一个典型的配置如下：&lt;/p&gt;
&lt;p _="%" endhighlight=""&gt;{% highlight yaml %}
 file_roots:
   base:
     - /srv/salt/
   dev:
     - /srv/salt/dev/services
     - /srv/salt/dev/states
   prod:
     - /srv/salt/prod/services
     - /srv/salt/prod/states&lt;/p&gt;
&lt;h1 id="stateding-yi"&gt;state定义&lt;/h1&gt;
&lt;p&gt;Salt state即可以使用单个的sls文件(single state)，也可以使用一个文件夹并在其中保持多个sls及其他配置文件（multi-state)。&lt;/p&gt;
&lt;p&gt;state之间还可以使用require, include, extend等关系进行关联。&lt;/p&gt;
&lt;h1 id="minion-yu-statezhi-jian-de-ying-she"&gt;minion 与 state之间的映射&lt;/h1&gt;
&lt;p&gt;一个salt master可以管理多个minion, 也可以定义很多个state。需要在minion和state之间建立一种多对多的映射关系。&lt;/p&gt;
&lt;p&gt;Salt在一个&lt;code&gt;top.sls&lt;/code&gt;文件中定义这种映射关系。比如：&lt;/p&gt;
&lt;p _="%" endhighlight=""&gt;{% highlight yaml %}
base:
  '&lt;em&gt;':
    - servers
dev:
  '&lt;/em&gt;nodb*':
    - mongodb&lt;/p&gt;
&lt;h1 id="xiao-jie"&gt;小结&lt;/h1&gt;
&lt;p&gt;按环境的不同划分state的存放目录；定义state文件/文件夹并在state之间使用关系实现复用；建立minion和state之间的多对多映射关系。&lt;/p&gt;
&lt;p&gt;掌握了这三点，就掌握了Salt state配置的脉络。&lt;/p&gt;
&lt;p&gt;实际上，Salt中&lt;a href="/2013/07/07/salt_pillar.html"&gt;Pillar的配置&lt;/a&gt;也使用了类似的结构。&lt;/p&gt;</content><category term="运维"></category></entry><entry><title>Salt state实例解析</title><link href="http://holbrook.github.io/2013/06/30/salt_sls_sample.html" rel="alternate"></link><published>2013-06-30T00:00:00+08:00</published><updated>2013-06-30T00:00:00+08:00</updated><author><name>Holbrook</name></author><id>tag:holbrook.github.io,2013-06-30:/2013/06/30/salt_sls_sample.html</id><summary type="html">&lt;p&gt;在Salt的官方教程中，以apache和sshd的state配置作为例子。掌握这两个例子，就能够触类旁通，处理日常工作中大部分的配置管理问题。
本文对这两个例子进行详细的分析和注释&lt;/p&gt;</summary><content type="html">&lt;p&gt;在Salt的&lt;a href="http://salt.readthedocs.org/en/latest/topics/tutorials/starting_states.html"&gt;官方教程&lt;/a&gt;中，以apache和sshd的state配置作为例子。掌握这两个例子，就能够触类旁通，处理日常工作中大部分的配置管理问题。
本文对这两个例子进行详细的分析和注释。&lt;/p&gt;
&lt;h1 id="mu-lu-jie-gou"&gt;目录结构&lt;/h1&gt;
&lt;p&gt;&lt;a href="http://salt.readthedocs.org/en/latest/topics/tutorials/starting_states.html"&gt;文档&lt;/a&gt;
中的例子包含了多个文件。这些文件之间互相引用和关联。目录结构及文件清单如下：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;apache/init.sls&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;apache/httpd.conf&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ssh/init.sls&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;ssh/server.sls&lt;/li&gt;
&lt;li&gt;ssh/banner&lt;/li&gt;
&lt;li&gt;ssh/ssh_config&lt;/li&gt;
&lt;li&gt;ssh/sshd_config&lt;/li&gt;
&lt;li&gt;ssh/custom-server.sls&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;两个配置分别放在了&lt;code&gt;apache&lt;/code&gt;和&lt;code&gt;ssh&lt;/code&gt;文件夹。一个Salt状态可以使用单个的SLS文件，或者使用一个文件夹。后者更加灵活方便。&lt;/p&gt;
&lt;h1 id="apacheinitsls"&gt;apache/init.sls&lt;/h1&gt;
&lt;p&gt;{% highlight yaml %}&lt;/p&gt;
&lt;p&gt;apache:
    pkg:
      - installed
    service:
      - running
      - watch:
        - pkg: apache
        - file: /etc/httpd/conf/httpd.conf
        - user: apache
    user.present:
      - uid: 87
      - gid: 87
      - home: /var/www/html
      - shell: /bin/nologin
      - require:
        - group: apache
    group.present:
      - gid: 87
      - require:
        - pkg: apache&lt;/p&gt;
&lt;p&gt;/etc/httpd/conf/httpd.conf:
    file.managed:
      - source: salt://apache/httpd.conf
      - user: root
      - group: root
      - mode: 644
      - template: jinja
      - context:
        custom_var: "override"
      - defaults:
        custom_var: "default value"
        other_var: 123&lt;/p&gt;
&lt;p&gt;{% endhighlight %}&lt;/p&gt;
&lt;p&gt;说明：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;sls文件使用&lt;a href="http://yaml.org/spec/1.1/"&gt;YAML&lt;/a&gt;格式定义，最外面的层级定义配置项。&lt;/li&gt;
&lt;li&gt;一个sls文件中可以有多个配置项，配置项的ID可以起任意的名字。本例中包含ID为&lt;code&gt;apache&lt;/code&gt;和&lt;code&gt;/etc/httpd/conf/httpd.conf&lt;/code&gt;两个配置项。&lt;/li&gt;
&lt;li&gt;配置项内是一系列的状态声明。所有的状态项来自Salt状态模块。即可以使用&lt;a href="http://docs.saltstack.com/ref/states/all/index.html"&gt;Salt内置的状态模块&lt;/a&gt;，也可以&lt;a href="http://docs.saltstack.com/ref/states/writing.html"&gt;编写自定义的状态模块&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;状态声明内部指定状态函数的调用。状态函数是每个Salt状态模块中定义的函数。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;apache配置项&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="http://docs.saltstack.com/ref/states/all/salt.states.pkg.html#module-salt.states.pkg"&gt;pkg模块&lt;/a&gt;，使用操作系统的包管理器(如yum, apt-get)安装软件包&lt;ul&gt;
&lt;li&gt;&lt;a href="http://docs.saltstack.com/ref/states/all/salt.states.pkg.html#salt.states.pkg.installed"&gt;salt.states.pkg.installed函数&lt;/a&gt;, 验证软件包是否安装以及是否为指定的版本&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="http://docs.saltstack.com/ref/states/all/salt.states.service.html#module-salt.states.service"&gt;service模块&lt;/a&gt;管理服务/守护进程(daemon)的启动或停止&lt;ul&gt;
&lt;li&gt;&lt;a href="http://docs.saltstack.com/ref/states/all/salt.states.service.html#salt.states.service.running"&gt;salt.states.service.running函数&lt;/a&gt;检查服务是否已经启动&lt;/li&gt;
&lt;li&gt;&lt;a href="http://docs.saltstack.com/ref/states/all/salt.states.service.html#module-salt.states.service"&gt;service模块&lt;/a&gt;定义了&lt;a href="http://docs.saltstack.com/ref/states/all/salt.states.service.html#salt.states.service.mod_watch"&gt;salt.states.service.mod_watch&lt;/a&gt;函数，可以使用&lt;a href="http://docs.saltstack.com/ref/states/ordering.html#the-watch-requisite"&gt;&lt;code&gt;watch&lt;/code&gt;要素&lt;/a&gt;监控其他的模块是否满足。这里监控以下情况：&lt;/li&gt;
&lt;li&gt;&lt;code&gt;apache&lt;/code&gt;&lt;a href="http://docs.saltstack.com/ref/states/all/salt.states.pkg.html#module-salt.states.pkg"&gt;软件包(pkg)&lt;/a&gt;是否已安装&lt;/li&gt;
&lt;li&gt;&lt;code&gt;/etc/httpd/conf/httpd.conf&lt;/code&gt;&lt;a href="http://docs.saltstack.com/ref/states/all/salt.states.file.html#module-salt.states.file"&gt;文件(file)&lt;/a&gt;是否存在&lt;/li&gt;
&lt;li&gt;&lt;code&gt;apache&lt;/code&gt;&lt;a href="http://docs.saltstack.com/ref/states/all/salt.states.user.html#module-salt.states.user"&gt;用户(user)&lt;/a&gt;是否存在&lt;/li&gt;
&lt;li&gt;&lt;code&gt;user.present&lt;/code&gt;是简写形式，直接调用&lt;a href="http://docs.saltstack.com/ref/states/all/salt.states.user.html#module-salt.states.user"&gt;&lt;code&gt;user&lt;/code&gt;&lt;/a&gt;模块的&lt;a href="http://docs.saltstack.com/ref/states/all/salt.states.user.html#salt.states.user.present"&gt;&lt;code&gt;present&lt;/code&gt;&lt;/a&gt;函数检查是否存在如下属性的&lt;code&gt;apache&lt;/code&gt;用户：&lt;/li&gt;
&lt;li&gt;uid=87&lt;/li&gt;
&lt;li&gt;gid=87&lt;/li&gt;
&lt;li&gt;home目录为&lt;code&gt;/var/www/html&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;登录脚本为&lt;code&gt;/bin/nologin&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;检查依赖项：&lt;code&gt;apache&lt;/code&gt;&lt;a href="http://docs.saltstack.com/ref/states/all/salt.states.group.html#module-salt.states.group"&gt;用户组&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;group.present&lt;/code&gt;是简写形式，直接调用&lt;a href="http://docs.saltstack.com/ref/states/all/salt.states.group.html#module-salt.states.group"&gt;&lt;code&gt;group&lt;/code&gt;&lt;/a&gt;模块的&lt;a href="http://docs.saltstack.com/ref/states/all/salt.states.group.html#salt.states.group.present"&gt;&lt;code&gt;present&lt;/code&gt;&lt;/a&gt;函数检查是否存在如下属性的&lt;code&gt;apache&lt;/code&gt;用户组：&lt;/li&gt;
&lt;li&gt;gid=87&lt;/li&gt;
&lt;li&gt;检查依赖项：&lt;code&gt;apache&lt;/code&gt;&lt;a href="http://docs.saltstack.com/ref/states/all/salt.states.pkg.html#module-salt.states.pkg"&gt;软件包&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;code&gt;/etc/httpd/conf/httpd.conf&lt;/code&gt;配置项&lt;/li&gt;
&lt;li&gt;&lt;code&gt;file.managed&lt;/code&gt;是简写形式，直接调用&lt;a href="http://docs.saltstack.com/ref/states/all/salt.states.file.html#module-salt.states.file"&gt;file模块&lt;/a&gt;的&lt;a href="http://docs.saltstack.com/ref/states/all/salt.states.file.html#salt.states.file.managed"&gt;managed方法&lt;/a&gt;根据需要从master获取文件并可能会通过模板系统(templating system)进行渲染。文件要满足如下要求：&lt;ol&gt;
&lt;li&gt;使用master上面的apache/httpd.conf文件&lt;/li&gt;
&lt;li&gt;user=root&lt;/li&gt;
&lt;li&gt;group=root&lt;/li&gt;
&lt;li&gt;mode=644&lt;/li&gt;
&lt;li&gt;使用&lt;a href="http://jinja.pocoo.org/"&gt;&lt;code&gt;jinja&lt;/code&gt;&lt;/a&gt;模板渲染&lt;/li&gt;
&lt;li&gt;上下文变量：&lt;/li&gt;
&lt;li&gt;custom_var="override"&lt;/li&gt;
&lt;li&gt;默认值:&lt;/li&gt;
&lt;li&gt;custom_var="default value"&lt;/li&gt;
&lt;li&gt;other_var=123&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id="sshinitsls"&gt;ssh/init.sls&lt;/h1&gt;
&lt;p&gt;{% highlight yaml %}
 openssh-client:
    pkg.installed&lt;/p&gt;
&lt;p&gt;/etc/ssh/ssh_config:
    file.managed:
      - user: root
      - group: root
      - mode: 644
      - source: salt://ssh/ssh_config
      - require:
        - pkg: openssh-client&lt;/p&gt;
&lt;p&gt;{% endhighlight %}&lt;/p&gt;
&lt;p&gt;说明：&lt;/p&gt;
&lt;h1 id="sshserversls"&gt;ssh/server.sls&lt;/h1&gt;
&lt;p&gt;{% highlight yaml %}&lt;/p&gt;
&lt;p&gt;include:
    - ssh&lt;/p&gt;
&lt;p&gt;openssh-server:
   pkg.installed&lt;/p&gt;
&lt;p&gt;sshd:
   service.running:
     - require:
       - pkg: openssh-client
       - pkg: openssh-server
       - file: /etc/ssh/banner
       - file: /etc/ssh/sshd_config&lt;/p&gt;
&lt;p&gt;/etc/ssh/sshd_config:
   file.managed:
     - user: root
     - group: root
     - mode: 644
     - source: salt://ssh/sshd_config
     - require:
       - pkg: openssh-server&lt;/p&gt;
&lt;p&gt;/etc/ssh/banner:
   file:
     - managed
     - user: root
     - group: root
     - mode: 644
     - source: salt://ssh/banner
     - require:
       - pkg: openssh-server&lt;/p&gt;
&lt;p&gt;{% endhighlight %}&lt;/p&gt;
&lt;p&gt;说明：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;include语句将别的state添加到当前文件中，使得state可以跨文件引用。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;使用include相当于把被引用的内容文件添加到自身，可以require、watch或extend被引用的SLS中定义的内容。&lt;/p&gt;
&lt;p&gt;这里引用了&lt;code&gt;ssh&lt;/code&gt;state。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;openssh-server&lt;/code&gt;配置项&lt;/li&gt;
&lt;li&gt;&lt;code&gt;sshd&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;/etc/ssh/sshd_config&lt;/code&gt;配置项&lt;/li&gt;
&lt;li&gt;&lt;code&gt;/etc/ssh/banner&lt;/code&gt;配置项&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id="sshcustom-serversls"&gt;ssh/custom-server.sls&lt;/h1&gt;
&lt;p&gt;{% highlight yaml %}
 include:
   - ssh.server&lt;/p&gt;
&lt;p _="%" endhighlight=""&gt;extend:
   /etc/ssh/banner:
     file:
       - source: salt://ssh/custom-banner&lt;/p&gt;
&lt;p&gt;说明：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;引用&lt;code&gt;ssh&lt;/code&gt;state的server配置项&lt;/li&gt;
&lt;li&gt;&lt;code&gt;extend&lt;/code&gt;可以复用已有的state，在原来的基础上进行扩展，增加新的配置或修改已有的配置。&lt;/li&gt;
&lt;li&gt;将&lt;code&gt;/etc/ssh/banner&lt;/code&gt;配置项的文件修改为&lt;code&gt;salt://ssh/custom-banner&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;</content><category term="运维"></category></entry><entry><title>salt的主要功能及使用</title><link href="http://holbrook.github.io/2013/06/25/salt_usage.html" rel="alternate"></link><published>2013-06-25T00:00:00+08:00</published><updated>2013-06-25T00:00:00+08:00</updated><author><name>Holbrook</name></author><id>tag:holbrook.github.io,2013-06-25:/2013/06/25/salt_usage.html</id><summary type="html">&lt;p&gt;本文介绍Salt的主要功能和基本使用，包括minion节点的管理，批量操作，以及非常重要的配置管理。&lt;/p&gt;</summary><content type="html">&lt;p&gt;掌握了这些内容，可以使用Salt极大提高运维的效率（事实上，Salt对于开发阶段也能提供很大的帮助，开发和运维的界限正在逐渐模糊）。&lt;/p&gt;
&lt;p&gt;&lt;a href="/2013/06/24/salt_intro.html"&gt;Salt的介绍&lt;/a&gt;中提到了Salt支持变更操作、配置管理、状态监控所需的一些功能，如下图：&lt;/p&gt;
&lt;p&gt;&lt;img alt="salt_functions" src="images/2013/salt_usage/salt_functions.png"/&gt;&lt;/p&gt;
&lt;p&gt;本文详细介绍如何使用这些功能。&lt;/p&gt;
&lt;p&gt;如果想对Salt的功能和使用有一个初步的了解，最好参考官方文档：&lt;a href="http://salt.readthedocs.org/en/latest/topics/tutorials/walkthrough.html"&gt;Salt Stack Walkthrough&lt;/a&gt;。&lt;/p&gt;
&lt;h1 id="pi-liang-cao-zuo-targeting"&gt;批量操作(targeting)&lt;/h1&gt;
&lt;p&gt;再回顾一下&lt;a href="http://thinkinside.tk/2013/06/24/salt_intro.html#测试-ref"&gt;前文中的例子&lt;/a&gt;:&lt;/p&gt;
&lt;p&gt;{% highlight bash %}&lt;/p&gt;
&lt;p&gt;# 测试连通性
 salt '*' test.ping&lt;/p&gt;
&lt;p&gt;# 查询主机运行了多长时间
 sudo salt '*' cmd.run "uptime"&lt;/p&gt;
&lt;p&gt;# 批量重启服务
 salt '*' cmd.run "service httpd restart"&lt;/p&gt;
&lt;p&gt;# 让多台机器一起，使用Apache Bench进行压力测试
 salt '*' cmd.run "ab -n 10 -c 2 http://www.google.com/"&lt;/p&gt;
&lt;p&gt;{% endhighlight %}&lt;/p&gt;
&lt;p&gt;上面的例子都是对多个节点进行批量操作：使用通配符"'*'"对所有注册的节点进行操作。Salt支持多种方式对节点id(minion id)进行匹配。包括：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;默认：&lt;a href="http://en.wikipedia.org/wiki/Glob_(programming)"&gt;通配符(globbing)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;E：&lt;a href="http://zh.wikipedia.org/zh-hans/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F"&gt;正则表达式(Regular Expression)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;L：列表&lt;/li&gt;
&lt;li&gt;N: 分组(group)&lt;/li&gt;
&lt;li&gt;C：复合匹配&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;先看一下通配符、正则表达式和列表的例子：&lt;/p&gt;
&lt;p&gt;{% highlight bash %}&lt;/p&gt;
&lt;p&gt;# 通配符是最常用的匹配方式。Salt使用&lt;a href="http://docs.python.org/2/library/fnmatch.html"&gt;linux风格的通配符&lt;/a&gt;
 salt '&lt;em&gt;' test.ping
 salt '&lt;/em&gt;.example.net' test.ping
 salt '&lt;em&gt;.example.&lt;/em&gt;' test.ping
 salt 'web?.example.net' test.ping
 salt 'web[1-5]' test.ping
 salt 'web-[x-z]' test.ping&lt;/p&gt;
&lt;p&gt;# 正则表达式可以适应更复杂的情况。使用&lt;a href="http://docs.python.org/2/library/re.html#module-re"&gt;python的re模块&lt;/a&gt;进行匹配
 salt -E 'web1-(prod|devel)' test.ping&lt;/p&gt;
&lt;p&gt;# 最直接的方式是自己指定多个minion，即列表
 salt -L 'web1,web2,web3' test.ping&lt;/p&gt;
&lt;p&gt;{% endhighlight %}&lt;/p&gt;
&lt;p&gt;&lt;a href="http://docs.saltstack.com/topics/targeting/compound.html"&gt;复合匹配(Compound matchers)&lt;/a&gt;有点复杂，后续会在其他文章中专门介绍。&lt;/p&gt;
&lt;p&gt;分组匹配见本文的下一节。&lt;/p&gt;
&lt;h1 id="jie-dian-fen-zu-nodegroups"&gt;节点分组（nodegroups）&lt;/h1&gt;
&lt;p&gt;好吧，批量操作确实很爽。但是每次都输入匹配规则有点麻烦，对于复杂的匹配规则更是如此。
salt的 [nodegroups功能]((http://docs.saltstack.com/topics/targeting/nodegroups.html)可以将常用的匹配规则保存下来（称之为minion的分组）。批量操作是，只需要使用L标记指定要操作的group名字即可。
groups定义在master的配置文件&lt;code&gt;/etc/salt/master&lt;/code&gt;中。&lt;/p&gt;
&lt;p&gt;group 的定义可以使用各种匹配规则，比如：&lt;/p&gt;
&lt;p&gt;{% highlight bash %}&lt;/p&gt;
&lt;p&gt;group1: 'L@foo.domain.com, bar.domain.com,baz.domain.com or bl*.domain.com'
group2: 'G@os:Debian and foo.domain.com'&lt;/p&gt;
&lt;p&gt;{% endhighlight %}&lt;/p&gt;
&lt;p&gt;同样的，使用复合匹配(Compound matchers)定义group的内容不在本文范围之内。&lt;/p&gt;
&lt;h1 id="ming-ling-bian-pai-execution"&gt;命令编排（execution）&lt;/h1&gt;
&lt;p&gt;Salt生来就有命令编排的功能。据说，Salt最先实现的是远程执行技术，然后才添加的配置管理功能。Salt使用ZeroMQ来处理命令执行的请求和响应消息，安装配置简单，并且性能非常高。&lt;/p&gt;
&lt;p&gt;Salt即可以批量执行命令，也可以单机执行。通常单机执行用于测试：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;单机（立即）执行。 使用&lt;a href="http://docs.saltstack.com/topics/tutorials/quickstart.html"&gt;salt-call&lt;/a&gt;命令单机执行操作&lt;/li&gt;
&lt;li&gt;批量(立即)执行。最常用的操作。使用salt命令，对匹配的minion节点执行操作&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Salt可以执行的命令也可以分为两种：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;系统命令，使用&lt;code&gt;cmd.run&lt;/code&gt;执行&lt;/li&gt;
&lt;li&gt;Salt模块，将常用的命令/批处理封装到内置的Salt模块(module)，使用&lt;code&gt;模块名.功能名&lt;/code&gt;的方式执行。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;比如：&lt;/p&gt;
&lt;p&gt;{% highlight bash %}&lt;/p&gt;
&lt;p&gt;# 执行系统命令
 salt '*' cmd.run 'hostname'&lt;/p&gt;
&lt;p&gt;# 执行Salt模块
 salt '*' disk.usage&lt;/p&gt;
&lt;p&gt;{% endhighlight %}&lt;/p&gt;
&lt;p&gt;使用Salt模块的好处是能够做到一致。比如同样是查看磁盘使用情况，&lt;code&gt;salt '*' cmd.run "df -h"&lt;/code&gt;只能用于&lt;em&gt;NIX节点，而&lt;code&gt;salt '*' disk.usage&lt;/code&gt;对&lt;/em&gt;NIX和Windows都适用，并且采用相同结构返回数据，便于批量处理。&lt;/p&gt;
&lt;p&gt;Salt已经内置了&lt;a href="http://docs.saltstack.com/ref/modules/all/index.html"&gt;大量的模块&lt;/a&gt;，这些模块涵盖了日常管理任务的主要任务，包括：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;通用的管理任务，比如apt, at, cp, cron, disk, extfs, file, grains, hosts, iptables, mount, network, pam, parted, pkg, ps, selinux, shadow, ssh, test等&lt;/li&gt;
&lt;li&gt;针对特定软件的任务，比如apache, cassandra, djangomod, git, mongodb, mysql, nginx, nova, postgres, solr, sqlite3, 和tomcat&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;而且，自己开发Salt模块也非常简单，很容易将实际管理操作中的一些经验通过自定义的模块固化下来，并方便分享。&lt;/p&gt;
&lt;p&gt;在开发和调试模块的时候，可以使用&lt;code&gt;test=True&lt;/code&gt;参数进行模拟执行(Dry run)。比如：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;salt 'minion1.example.com' state.highstate -v test=True
&lt;/pre&gt;&lt;/div&gt;
&lt;h1 id="jie-dian-xin-xi-grains"&gt;节点信息(grains)&lt;/h1&gt;
&lt;p&gt;&lt;a href="http://docs.saltstack.com/topics/targeting/grains.html"&gt;grains&lt;/a&gt;是Salt内置的一个非常有用的模块。在用salt进行管理客户端的时候或者写state的时候都可以引用grains的变量。&lt;/p&gt;
&lt;p&gt;grains的基本使用举例如下：&lt;/p&gt;
&lt;p&gt;{% highlight bash %}&lt;/p&gt;
&lt;p&gt;# 查看grains分类
 salt '*' grains.ls&lt;/p&gt;
&lt;p&gt;# 查看grains所有信息
 salt '*' grains.items&lt;/p&gt;
&lt;p&gt;# 查看grains某个信息
 salt '*' grains.item osrelease&lt;/p&gt;
&lt;p&gt;{% endhighlight %}&lt;/p&gt;
&lt;h1 id="pei-zhi-guan-li-state"&gt;配置管理（state)&lt;/h1&gt;
&lt;p&gt;配置管理是Salt中非常重要的内容之一。Salt通过内置的state模块支持配置管理所需的功能。关于这部分内容，官方文档有很详细的描述，可以参考
&lt;a href="http://salt.readthedocs.org/en/latest/topics/tutorials/states_pt1.html"&gt;part 1&lt;/a&gt;，
&lt;a href="http://salt.readthedocs.org/en/latest/topics/tutorials/states_pt2.html"&gt;part 2&lt;/a&gt;和
&lt;a href="http://salt.readthedocs.org/en/latest/topics/tutorials/states_pt3.html"&gt;part 3&lt;/a&gt;。&lt;/p&gt;
&lt;p&gt;Salt中可以定义节点的目标状态，称之为state。state对应配置管理中的配置，可以对其进行标识、变更控制、变更识别、状态报告、跟踪和归档以及审计等一些的管理行为。&lt;/p&gt;
&lt;h2 id="zhuang-tai-miao-shu"&gt;状态描述&lt;/h2&gt;
&lt;p&gt;Salt使用SLS文件（SaLt State file）描述状态。SLS使用&lt;a href="http://yaml.org/spec/1.1/"&gt;YAML&lt;/a&gt;格式进行数据序列化，因此简单明了，可读性也很高。&lt;/p&gt;
&lt;h3 id="ji-ben-miao-shu-yaml"&gt;基本描述(yaml)&lt;/h3&gt;
&lt;p&gt;下边是一个简单的SLS文件例子:&lt;/p&gt;
&lt;p&gt;{% highlight yaml %}&lt;/p&gt;
&lt;p&gt;apache:
   pkg:
     - installed
   service:
     - running
     - require:
       - pkg: apache&lt;/p&gt;
&lt;p&gt;{% endhighlight %}&lt;/p&gt;
&lt;p&gt;该文件描述一个ID为&lt;code&gt;apache&lt;/code&gt;的配置状态：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;软件包（pkg)已经安装&lt;/li&gt;
&lt;li&gt;服务应该处于运行中&lt;/li&gt;
&lt;li&gt;服务的运行依赖于&lt;code&gt;apache&lt;/code&gt;软件包的安装&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;state文件中的所有YAML变量名来自Salt的state模块。&lt;/p&gt;
&lt;p&gt;Salt内置了大量的state模块，比如cron, cmd, file, group, host, mount, pkg, service, ssh_auth，user等。
详细清单参考&lt;a href="http://docs.saltstack.com/ref/states/all/index.html"&gt;这里&lt;/a&gt;。&lt;/p&gt;
&lt;p&gt;还可以开发自己的state模块。&lt;/p&gt;
&lt;h3 id="kuo-zhan-miao-shu-jinja"&gt;扩展描述(jinja)&lt;/h3&gt;
&lt;p&gt;state可以使用&lt;a href="http://jinja.pocoo.org/"&gt;jinja&lt;/a&gt;模板引擎进行扩展，其语法可以参考&lt;a href="http://jinja.pocoo.org/docs/templates/"&gt;这里&lt;/a&gt;。&lt;/p&gt;
&lt;p&gt;下面是一个更复杂的例子：&lt;/p&gt;
&lt;p&gt;{% highlight html+jinja %}&lt;/p&gt;
&lt;p&gt;vim:
  pkg:
    { % if grains['os_family'] == 'RedHat' % }
    - name: vim-enhanced
    { % elif grains['os'] == 'Debian' % }
    - name: vim-nox
    { % elif grains['os'] == 'Ubuntu' % }
    - name: vim-nox
    { % endif % }
    - installed&lt;/p&gt;
&lt;p&gt;{% endhighlight %}&lt;/p&gt;
&lt;p&gt;该state增加了判断逻辑：如果是redhard系列的就安装 vim-enhanced，如果系统是Debian或者Ubuntu就安装vim-nox。&lt;/p&gt;
&lt;h3 id="luo-ji-guan-xi"&gt;逻辑关系&lt;/h3&gt;
&lt;p&gt;state之间可以有&lt;a href="http://docs.saltstack.com/ref/states/ordering.html"&gt;逻辑关系&lt;/a&gt;。常见的关系举例如下：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;require：依赖某个state，在运行此state前，先运行依赖的state，依赖可以有多个&lt;/li&gt;
&lt;/ul&gt;
&lt;p _="%" endhighlight=""&gt;{% highlight yaml %}
 httpd:
   pkg:
     - installed
   file.managed:
     - name: /etc/httpd/conf/httpd.conf
     - source: salt://httpd/httpd.conf
     - require:
       - pkg: httpd&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;watch：在某个state变化时运行此模块&lt;/li&gt;
&lt;/ul&gt;
&lt;p _="%" endhighlight=""&gt;{% highlight yaml %}
redis:
  pkg:
    - latest
  file.managed:
    - source: salt://redis/redis.conf
    - name: /etc/redis.conf
    - require:
      - pkg: redis
    service.running:
      - enable: True
      - watch:
      - file: /etc/redis.conf
      - pkg: redis&lt;/p&gt;
&lt;p&gt;watch除具备require功能外，还增了关注状态的功能&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;order：优先级比require和watch低，有order指定的state比没有order指定的优先级高&lt;/li&gt;
&lt;/ul&gt;
&lt;p _="%" endhighlight=""&gt;{% highlight yaml %}
vim:
  pkg.installed:
    - order: 1&lt;/p&gt;
&lt;p&gt;想让某个state最后一个运行，可以用last&lt;/p&gt;
&lt;h2 id="bao-cun-zhuang-tai_1"&gt;保存状态&lt;/h2&gt;
&lt;p&gt;状态描述文件(SLS)要保存在master节点中，并通过指令分发到minion节点。&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;路径设置&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Salt master的配置文件(&lt;code&gt;/etc/salt/master&lt;/code&gt;)中可以通过&lt;code&gt;file_roots&lt;/code&gt;参数指定状态文件的保存路径。可以为不同的环境（如开发环境、UAT环境、生产环境、灾备环境等）分别指定路径，如下所示：&lt;/p&gt;
&lt;p&gt;{% highlight yaml %}&lt;/p&gt;
&lt;p&gt;file_roots:
  base:
    - /srv/salt/
  dev:
    - /srv/salt/dev/services
    - /srv/salt/dev/states
  prod:
    - /srv/salt/prod/services
    - /srv/salt/prod/states&lt;/p&gt;
&lt;p&gt;{% endhighlight %}&lt;/p&gt;
&lt;p&gt;其中,base环境是必须的。&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;入口文件&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;code&gt;file_roots&lt;/code&gt;中必须指定&amp;ldquo;base&amp;rdquo;环境的路径，因为该路径中存在Salt state的&lt;a href="http://docs.saltstack.com/ref/states/highstate.html"&gt;入口文件: top.sls&lt;/a&gt;。&lt;/p&gt;
&lt;p&gt;Top文件建立配置环境、节点和状态配置之间的映射关系。比如一个简单的top.sls文件：&lt;/p&gt;
&lt;p&gt;{% highlight yaml %}&lt;/p&gt;
&lt;p&gt;base:
  '&lt;em&gt;':
    - servers
dev:
  '&lt;/em&gt;nodb*':
    - mongodb&lt;/p&gt;
&lt;p&gt;{% endhighlight %}&lt;/p&gt;
&lt;p&gt;该文件指定了：
- 所有节点使用base环境的servers配置
- &lt;em&gt;nodb&lt;/em&gt;节点使用dev环境的mongodb配置&lt;/p&gt;
&lt;p&gt;结合第一部分的file_roots配置，该top配置意味存在以下的配置文件：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;/srv/salt/servers.sls&lt;/li&gt;
&lt;li&gt;/srv/salt/dev/mongodb.sls&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;注：这里也可以使用文件夹&lt;code&gt;/srv/salt/servers/&lt;/code&gt;和&lt;code&gt;/srv/salt/dev/mongodb/&lt;/code&gt;，在文件夹中放置一组状态文件和配置文件，便于建立复杂的状态配置。&lt;/p&gt;
&lt;p&gt;top.sls中的可配置内容非常丰富，具体内容可以参考&lt;a href="http://docs.saltstack.com/ref/states/highstate.html"&gt;官方文档&lt;/a&gt;。&lt;/p&gt;
&lt;h2 id="zhuang-tai-sheng-xiao-state-enforcement"&gt;状态生效（State Enforcement）&lt;/h2&gt;
&lt;p&gt;master上对状态进行定义，最终这些状态要传递到minion节点上。在本节的例子中，如果定义好了状态文件&lt;code&gt;/srv/salt/dev/mongodb.sls&lt;/code&gt;：&lt;/p&gt;
&lt;p&gt;{% highlight yaml %}&lt;/p&gt;
&lt;p&gt;mongodb:
  pkg:
    - installed&lt;/p&gt;
&lt;p&gt;{% endhighlight %}&lt;/p&gt;
&lt;p&gt;可以使用命令&lt;code&gt;salt "minion1" state.highstate -v&lt;/code&gt;使得所有针对"minion1"的state生效；&lt;/p&gt;
&lt;p&gt;在执行状态之前先进行测试是个好主意，需要指定参数&lt;code&gt;test=True&lt;/code&gt;。比如，&lt;code&gt;salt "minion1" state.highstate -v test=True&lt;/code&gt;。&lt;/p&gt;
&lt;p&gt;关于state模块的更多用法，可以参考&lt;a href="https://salt.readthedocs.org/en/latest/ref/modules/all/salt.modules.state.html"&gt;state模块说明&lt;/a&gt;，或&lt;a href="http://docs.saltstack.com/ref/states/index.html#state-enforcement"&gt;官方文档&lt;/a&gt;。&lt;/p&gt;
&lt;h2 id="geng-duo"&gt;更多&lt;/h2&gt;
&lt;p&gt;Salt的state模块的功能不仅如此，还可以使用模板和变量，以及定义状态的定时自动生效。&lt;/p&gt;
&lt;h1 id="xiao-jie_1"&gt;小结&lt;/h1&gt;
&lt;p&gt;本文介绍Salt的主要功能和基本使用，包括minion节点的管理，批量操作，以及非常重要的配置管理。
掌握了这些内容，可以使用Salt极大提高运维的效率（事实上，Salt对于开发阶段也能提供很大的帮助，开发和运维的界限正在逐渐模糊）。&lt;/p&gt;
&lt;p&gt;后续会介绍一些使用案例以及Salt的高级功能。&lt;/p&gt;</content><category term="运维"></category></entry><entry><title>用salt管理成千上万的服务器</title><link href="http://holbrook.github.io/2013/06/24/salt_intro.html" rel="alternate"></link><published>2013-06-24T00:00:00+08:00</published><updated>2013-06-24T00:00:00+08:00</updated><author><name>Holbrook</name></author><id>tag:holbrook.github.io,2013-06-24:/2013/06/24/salt_intro.html</id><summary type="html">&lt;p&gt;实在是厌倦了对大量服务器日复一日的重复操作。尤其是在虚拟化的时代，系统的每个组件都有很多个相同的节点在运行，更让重复的次数再乘以N。
当我发现Salt的时候，我的眼前一亮：这正是我所需要的东西。&lt;/p&gt;</summary><content type="html">&lt;h1 id="yin-yan-yi-ge-fei-zhuan-zhi-yun-wei-ren-yuan-de-fan-nao"&gt;引言：一个&amp;rdquo;非专职运维人员&amp;ldquo;的烦恼&lt;/h1&gt;
&lt;p&gt;加入到某证券公司的IT部门，尽管所在的部门挂了一个&amp;ldquo;研发部&amp;rdquo;的名字，但是我发现有大概40%的时间是在做运维工作。&lt;/p&gt;
&lt;p&gt;这来自两种情况：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;自主开发的应用，需要持续的改进，不断的更新、发布、部署、调整配置，这不是运维部门喜欢的状态。&lt;/li&gt;
&lt;li&gt;软件商提供的&amp;ldquo;产品&amp;rdquo;无法满足运维部门的要求：无法通过简单的 &lt;a href="http://en.wikipedia.org/wiki/Q%26A"&gt;Q&amp;amp;A&lt;/a&gt; 文档保证系统的正常运行，经常需要有一定技术能力的人员解决系统运行过程中各种稀奇古怪的问题。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;这种情况下只能自己做一个&amp;ldquo;非专职运维人员&amp;rdquo;，需要频繁的登录各种服务器，执行一些命令来查看状态或者更改配置（包括配置文件的变更和软件包的安装部署）。很多操作都是不断的重复，日复一日，让人厌烦。&lt;/p&gt;
&lt;p&gt;&amp;rdquo;重复的工作应该交给程序去做&amp;ldquo;，所以我自己写过一些脚本。为了避免将脚本上传到几十台服务器并且不时进行更改，我使用&lt;a href="https://github.com/fabric/fabric"&gt;Fabric&lt;/a&gt;来进行服务器的批量操作。&lt;/p&gt;
&lt;p&gt;尽管避免了&amp;rdquo;批量的人工操作&amp;ldquo;，但我还是在进行&amp;rdquo;人工的批量操作&amp;ldquo;。远远没有实现自动管理。将有限的生命解放出来，投入到更有意义的编码工作是一个奔四程序员应有的追求，所以我又睁大红肿的眼睛，迷茫的搜索这个世界。&lt;/p&gt;
&lt;p&gt;我发现了&lt;a href="https://puppetlabs.com/"&gt;Puppet&lt;/a&gt;，&lt;a href=""&gt;Chef&lt;/a&gt;和&lt;a href=""&gt;CFEngine&lt;/a&gt;，但是并不满意。直到我发现了&lt;a href="http://saltstack.org/"&gt;Salt&lt;/a&gt;,我的眼前一亮：这正是我所需要的东西。&lt;/p&gt;
&lt;p&gt;如果说Salt有什么独特之处打动了我，那就是：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;简单：可能是源于python的简约精神，Salt的安装配置和使用简单到了令人发指的地步。任何稍有经验的linux使用者可以在10分钟之内搭建一个测试环境并跑通一个例子（相比之下，puppet可能需要30--60分钟）。&lt;/li&gt;
&lt;li&gt;高性能：Salt使用大名鼎鼎的&lt;a href="/2013/07/03/zeromq_intro.html"&gt;ZeroMQ&lt;/a&gt;作为通讯协议，性能极高。可以在数秒钟之内完成数据的传递&lt;/li&gt;
&lt;li&gt;可伸缩：基于&lt;a href="/2013/07/03/zeromq_intro.html"&gt;ZeroMQ&lt;/a&gt;通信，具备很强的扩展性；可以进行分级管理，能够管理分布在广域网的上万台服务器。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;尽管&lt;a href="http://www.twitter.com"&gt;twitter&lt;/a&gt;、&lt;a href="http://www.douban.com/"&gt;豆瓣&lt;/a&gt;、&lt;a href="http://www.oracle.com"&gt;oracle&lt;/a&gt;、等著名网站的运维团队都在使用puppet，但是我相信，他们切换到salt只是一个时间问题。毕竟不是所有的人都喜欢操纵傀儡(puppet)，但是谁又能离开盐(salt)呢？&lt;/p&gt;
&lt;p&gt;关于Salt和Puppet的对比，可以参考&lt;a href="http://www.opencredo.com/blog/a-dive-into-salt-stack"&gt;这里&lt;/a&gt;，或者看看&lt;a href="http://wiki.saltstack.cn/reproduction/dive-into-saltstack"&gt;中文版&lt;/a&gt;。&lt;/p&gt;
&lt;h1 id="saltkuai-su-ru-men"&gt;Salt快速入门&lt;/h1&gt;
&lt;p&gt;Salt的体系结构中将节点区分为: master, minion, syndic。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;master: 老大，管理端&lt;/li&gt;
&lt;li&gt;minion: 马仔，被管理端&lt;/li&gt;
&lt;li&gt;syndic: 头目，对于老大来说是马仔，对于马仔来说是老大&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;在入门阶段，先不考虑syndic。&lt;/p&gt;
&lt;h2 id="an-zhuang-pei-zhi"&gt;安装配置&lt;/h2&gt;
&lt;p&gt;如果将操作系统区分为：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;*NIX&lt;/li&gt;
&lt;li&gt;Linux&lt;/li&gt;
&lt;li&gt;Solaris&lt;/li&gt;
&lt;li&gt;HP Unix&lt;/li&gt;
&lt;li&gt;FreeBSD&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;OS X&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;windows&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;理论上来说，Salt可以安装在任何*NIX系统上，包括master和minion。除了&lt;a href="https://github.com/saltstack/salt"&gt;源代码&lt;/a&gt;之外，
还可以通过Salt提供的&lt;a href="https://github.com/saltstack/salt-bootstrap"&gt;安装脚本&lt;/a&gt;，或者&lt;a href="https://pypi.python.org/pypi/salt"&gt;PyPI&lt;/a&gt;进行安装。&lt;/p&gt;
&lt;p&gt;对于Linux，尤其是企业环境中常用的RHEL,CentOS,Ubuntu，可以通过包管理器非常容易的安装master 和/或 minion。
比如: yum(需要先配置&lt;a href="http://fedoraproject.org/wiki/EPEL/zh-cn"&gt;EPEL&lt;/a&gt;), apt(需要增加&lt;code&gt;http://debian.madduck.net/repo/&lt;/code&gt;库)，yaourt，ports。&lt;/p&gt;
&lt;p&gt;Mac OS X 先使用HomeBrew解决依赖包：&lt;code&gt;brew install swig zmq&lt;/code&gt;，然后用PyPI安装：&lt;code&gt;pip install salt&lt;/code&gt;。&lt;/p&gt;
&lt;p&gt;对于windows，只能安装minion（windows只适合做马仔）。从&lt;a href="http://saltstack.com/downloads/"&gt;官方网站&lt;/a&gt;下载合适的安装包。安装过程中可以指定master地址和本机名称。
安装后需要自己启动Salt服务。配置文件在C:\salt\conf\minion。&lt;/p&gt;
&lt;p&gt;具体的各操作系统下的安装可以参考&lt;a href="http://docs.saltstack.com/topics/installation/index.html"&gt;官方文档&lt;/a&gt;。这里为了简单，只考虑常用的RHEL/CentOS 和 windows。 在下面的例子中，使用一台RHEL/CentOS作为master， 另外一台RHEL/CentOS和一台windows 2003 Server作为 minion。&lt;/p&gt;
&lt;h3 id="an-zhuang-guan-li-duan-master"&gt;安装管理端(master)&lt;/h3&gt;
&lt;p&gt;{% highlight bash %}&lt;/p&gt;
&lt;p&gt;# 安装EPEL,注意选择合适的版本
 rpm -ivh http://mirrors.sohu.com/fedora-epel/6/x86_64/epel-release-6-8.noarch.rpm
 yum update&lt;/p&gt;
&lt;p&gt;# 安装master
 yum install salt-master&lt;/p&gt;
&lt;p&gt;# 修改配置
 vim /etc/salt/master&lt;/p&gt;
&lt;p&gt;# 最基本的设定服务端监听的IP(比如使用VIP做master的高可用时)：
 # interface: 服务端监听IP
 # 其他配置参考&lt;a href="http://docs.saltstack.com/ref/configuration/master.html"&gt;官方文档&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;# 启动服务(以下命令等效)
 salt-master -d
 /etc/init.d/salt-master start
 service salt-master start&lt;/p&gt;
&lt;p&gt;{% endhighlight %}&lt;/p&gt;
&lt;h3 id="an-zhuang-bei-guan-li-duan-minion"&gt;安装被管理端(minion)&lt;/h3&gt;
&lt;p&gt;{% highlight bash %}&lt;/p&gt;
&lt;p&gt;# 安装EPEL,注意选择合适的版本
 rpm -ivh http://mirrors.sohu.com/fedora-epel/6/x86_64/epel-release-6-8.noarch.rpm
 yum update&lt;/p&gt;
&lt;p&gt;# 安装minion
 yum install salt-minion&lt;/p&gt;
&lt;p&gt;# 修改配置
 vim /etc/salt/minion&lt;/p&gt;
&lt;p&gt;# 最基本的设定是指定master地址，以及本机标识符：
 # master: master的主机名或IP地址
 # id: 本机标识符
 # 其他配置参考&lt;a href="http://docs.saltstack.com/ref/configuration/minion.html"&gt;官方文档&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;# 启动服务(以下命令等效)
 salt-minion -d
 /etc/init.d/salt-minion start
 service salt-minion start&lt;/p&gt;
&lt;p&gt;{% endhighlight %}&lt;/p&gt;
&lt;h3 id="jie-shou-minionde-tuo-guan-qing-qiu"&gt;接受minion的托管请求&lt;/h3&gt;
&lt;p&gt;minion向master投诚后，还需要master接受才行。这个过程叫做&amp;ldquo;授信&amp;rdquo;。&lt;/p&gt;
&lt;p&gt;Salt底层使用公钥-私钥证书来保证通信信道的安全。具体的机制可以参考ZeroMQ的相关内容。Salt已经屏蔽了底层的细节，只需要使用封装好的命令：&lt;/p&gt;
&lt;p&gt;{% highlight bash %}&lt;/p&gt;
&lt;p&gt;# 在master上运行
 # 查看所有minion
 salt-key -L&lt;/p&gt;
&lt;p&gt;Accepted Keys:
 windows
 bond_app_server_main
 mac_os_vm
 salt-master
 Unaccepted Keys:
 minion1
 minion2
 Rejected Keys:&lt;/p&gt;
&lt;p&gt;#其中Unaccepted Keys是未许可的minion。可以使用下面的命令通过认证：
 salt-key -a minion1&lt;/p&gt;
&lt;p&gt;{% endhighlight %}&lt;/p&gt;
&lt;h2 id="ce-shi_1"&gt;测试&lt;/h2&gt;
&lt;p&gt;安装配置好之后，首先要测试一下联通性：&lt;code&gt;salt '*' test.ping&lt;/code&gt;。salt会列出每个认证过的minion的联通状态(true 或 false)。&lt;/p&gt;
&lt;p&gt;再举一些例子：&lt;/p&gt;
&lt;p&gt;{% highlight bash %}&lt;/p&gt;
&lt;p&gt;# 查询主机运行了多长时间
 sudo salt '*' cmd.run "uptime"&lt;/p&gt;
&lt;p&gt;# 批量重启服务
 salt '*' cmd.run "service httpd restart"&lt;/p&gt;
&lt;p&gt;# 让多台机器一起，使用Apache Bench进行压力测试
 salt '*' cmd.run "ab -n 10 -c 2 http://www.google.com/"&lt;/p&gt;
&lt;p&gt;{% endhighlight %}&lt;/p&gt;
&lt;p&gt;注意，默认情况下master和minion之间使用以下端口进行通信：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;4505(publish_port): salt的消息发布系统&lt;/li&gt;
&lt;li&gt;4506(ret_port):salt客户端与服务端通信的端口&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;网络的设置需要保证这些端口可以访问。&lt;/p&gt;
&lt;h1 id="saltde-qiang-da-gong-neng_1"&gt;Salt的强大功能&lt;/h1&gt;
&lt;p&gt;上面的例子都是用Salt进行批量操作。但是Salt的功能不仅如此。&lt;/p&gt;
&lt;p&gt;认真分析一下我的&amp;ldquo;非专职运维工作&amp;rdquo;的内容，发现可以分为以下三个方面：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;变更操作：根据需要对节点中某个资源的某种状态进行调整，并检验变更的结果&lt;/li&gt;
&lt;li&gt;配置管理：让上述行为变得&amp;ldquo;可管理&amp;rdquo;，支持&amp;ldquo;有关人士&amp;rdquo;对上述行为的标记、控制、识别、报告、跟踪和归档甚至审批和审计&lt;/li&gt;
&lt;li&gt;状态监控：随时掌握状态，发现异常。尽量在系统用户发现问题之前解决麻烦&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Salt对上述三个方面提供了完美的支持，事实上，Salt提供的功能比我需要的还要多。下图是Salt的主要功能：&lt;/p&gt;
&lt;p&gt;&lt;img alt="salt_functions" src="images/2013/salt_usage/salt_functions.png"/&gt;&lt;/p&gt;
&lt;p&gt;具体的功能使用在&lt;a href="/2013/06/25/salt_usage.html"&gt;这篇文章&lt;/a&gt;中详细说明。&lt;/p&gt;
&lt;h1 id="saltde-wang-luo-zi-yuan"&gt;Salt的网络资源&lt;/h1&gt;
&lt;h2 id="wang-zhan"&gt;网站&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://saltstack.org/"&gt;salt官方网站&lt;/a&gt;，&lt;/li&gt;
&lt;li&gt;&lt;a href="http://saltstack.cn/"&gt;中国SaltStack用户组(CSSUG)网站&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://intothesaltmine.org/blog/html/index.html"&gt;Into The Salt Mine,关于Salt的各种安装、配置、使用的博客&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="dai-ma"&gt;代码&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/saltstack"&gt;saltstack将代码托管在github上&lt;/a&gt;,包括：&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/saltstack/salt"&gt;salt主工程&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/saltstack/salt-bootstrap"&gt;salt-bootstrap，一个快速安装Salt的脚本&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/saltstack/salt-states"&gt;salt states参考配置&lt;/a&gt;，大量用于监控目标主机状态的配置文件，可以直接使用&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/saltstack/salt-cloud"&gt;Salt Cloud&lt;/a&gt;,使得Salt支持各种云服务(Amazon EC2, HP Cloud, OpenStack,Parallels等)的扩展&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/saltstack/salty-vagrant"&gt;salty-vagrant&lt;/a&gt;, 用Salt管理&lt;a href="http://www.vagrantup.com/"&gt;Vagrant虚拟环境&lt;/a&gt;的扩展&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/saltstack/salt-api"&gt;salt-api&lt;/a&gt;，基于Salt进行二次开发的包&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/saltstack/salt-ui"&gt;salt-ui&lt;/a&gt;, 一个图形界面&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/saltstack/pepper"&gt;pepper&lt;/a&gt;, Stand-alone CLI tools that mimic Salt's CLI tools but proxy Salt commands through salt-api &lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/saltstack/salt-contrib"&gt; salt-contrib&lt;/a&gt;, Salt Module Contributions &lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/saltstack/sublime-text"&gt; sublime-text&lt;/a&gt;, Salt-related syntax highlighting and snippets for Sublime Text &lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/saltstack/formulae"&gt; formulae&lt;/a&gt;, &lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/saltstack/salt-vim"&gt; salt-vim&lt;/a&gt;, Vim files for editing Salt files &lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/saltstack/salt-ci"&gt; salt-ci&lt;/a&gt;, Salt-CI &amp;mdash; Salt Continuous Integration &lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/saltstack/salt-genesis"&gt; salt-genesis&lt;/a&gt;,&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/saltstack/salt-qa"&gt; salt-qa&lt;/a&gt;,&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/saltstack/saltstack_org"&gt; saltstack_org&lt;/a&gt;,&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://github.com/saltstack/salt-windows-install"&gt; salt-windows-install&lt;/a&gt;,&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://github.com/cssug"&gt;中国SaltStack用户组在github上托管的代码&lt;/a&gt;，包括：&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/cssug/salt"&gt;salt的一个分支&lt;/a&gt;, 其目标是实现中心库和配置管理功能。&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/cssug/salt-dashboard"&gt;salt的web管理界面&lt;/a&gt;，基于Django。&lt;/li&gt;
&lt;/ul&gt;</content><category term="运维"></category></entry><entry><title>《统计学》读书笔记(4/17:机会的度量：概率和分布)</title><link href="http://holbrook.github.io/2013/06/07/statistics_intro_4.html" rel="alternate"></link><published>2013-06-07T00:00:00+08:00</published><updated>2013-06-07T00:00:00+08:00</updated><author><name>Holbrook</name></author><id>tag:holbrook.github.io,2013-06-07:/2013/06/07/statistics_intro_4.html</id><summary type="html">&lt;p&gt;统计学：从数据到结论，ISBN：9787503749964，作者：吴喜之 @&lt;a href="http://book.douban.com/subject/2193810/"&gt;豆瓣&lt;/a&gt;&lt;/p&gt;</summary><content type="html">&lt;p&gt;@&lt;a href="http://book.douban.com/subject/2193810/"&gt;豆瓣&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;概率：0--1之间的一个数目，表示事情发生的可能性/经常性。&lt;/p&gt;
&lt;h1 id="de-dao-gai-lu-de-ji-chong-tu-jing"&gt;得到概率的几种途径&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;利用等可能事件&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;在机会均等的情况下，概率 = 要计算概率的情况的组合数 / 全部可能情况的组合数&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;根据长期相对频率&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;如果出现的机会不等，而且未知，可以用观测数据估计概率， 此时 概率 = 观测到的发生次数k / 重复实验的次数n&lt;/p&gt;
&lt;p&gt;只适用于可以重复实验的情况&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;主观概率&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;不可计算、不可实验的、主要取决于主观因素的一次性事件，其发生的概率称为主观概率。&lt;/p&gt;
&lt;h1 id="gai-lu-de-yun-suan"&gt;概率的运算&lt;/h1&gt;
&lt;p&gt;事件相当于集合&lt;/p&gt;
&lt;p&gt;概率的运算可以从集合运算的角度考虑&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;互补事件的概率&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;互补事件/互余事件/对立事件：相当于补集的概念。互补事件的概率之和为1&lt;/p&gt;
&lt;p&gt;优势/赔率：两个互补事件概率的比值&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;概率的加法&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;两个不可能发生的事件，发生其中之一的概率，等于两个事件概率之和，相当于并集的概念&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;概率的乘法&lt;/p&gt;
&lt;p&gt;两个事件同时发生的概率，等于两个事件概率之积，相当于交集的概念&lt;/p&gt;
&lt;p&gt;仅当两个事件独立时才成立。如果不独立，需要引入条件概率&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id="gai-lu-de-fen-bu"&gt;概率的分布&lt;/h1&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;概率-变量值 的函数称为概率分布。可以用图或公式表示。

概率分布与总体/样本空间相关
&lt;/pre&gt;&lt;/div&gt;
&lt;ol&gt;
&lt;li&gt;离散随机变量的分布&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;对于变量的每一个离散的值，对应着一个概率。全部概率的和为1&lt;/p&gt;
&lt;p&gt;这样的关系称为该离散随机变量的概率分布&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;二项分布&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;最简单的离散分布，变量只能有两个值（如硬币的正反面），两个事件互补&lt;/p&gt;
&lt;p&gt;TODO: 更详细的说明&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;多项分布&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;二项分布的扩展&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;泊松(Poisson)分布&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;衡量某种事件在一定期间内出现的次数的概率&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;超几何分布&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;研究有限总体的不放回抽样（检查样品后不放回，避免重复检查）&lt;/p&gt;
&lt;p&gt;比如抽取样品进行质检&lt;/p&gt;
&lt;p&gt;TODO: 公式和理解&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;连续随机变量的分布&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;与离散变量的分布相对&lt;/p&gt;
&lt;p&gt;表现为概率密度函数。所有区间概率的积分为1&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;正态分布/高斯分布&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;一个对称的钟形曲线，最高点对应均值&lt;/p&gt;
&lt;p&gt;TODO: 更多的变量和参数&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;x^2-分布/卡方分布&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;n个独立标准正态变量的平方和，称为有n个自由度的x^2-分布&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;t-分布/学生分布&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;正态分布的变换&lt;/p&gt;
&lt;p&gt;TODO：图形&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;F-分布&lt;/p&gt;
&lt;p&gt;两个独立x^2-分布变量的比，称为F-分布变量&lt;/p&gt;
&lt;p&gt;F-分布有两个自由度&lt;/p&gt;
&lt;p&gt;TODO: 图形&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;均匀分布/矩形分布&lt;/p&gt;
&lt;p&gt;最简单的连续型分布，取值范围是一个区间。形状是一个矩形&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;累积分布函数&lt;/p&gt;
&lt;p&gt;为了便于计算某个区间的概率，对概率函数进行积分后得到的函数&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id="chou-yang-fen-bu-zhong-xin-ji-xian-ding-li"&gt;抽样分布、中心极限定理&lt;/h1&gt;
&lt;p&gt;抽样分布：样本的统计量（均值、中位数、标准差等）随着样本的不同也是随机的，其分布称为抽样分布&lt;/p&gt;
&lt;p&gt;抽样分布的特征可以帮助判断抽样是否合理&lt;/p&gt;
&lt;h1 id="yong-xiao-gai-lu-shi-jian-jin-xing-pan-duan"&gt;用小概率事件进行判断&lt;/h1&gt;
&lt;p&gt;如果对某种（统计）结论进行验证，可以抽取一定的样本进行检验，并得出一个概率。&lt;/p&gt;
&lt;p&gt;如果该结果与事先的结论不符，可以根据事先结论计算得到实验结果的概率。&lt;/p&gt;
&lt;p&gt;如果得到实验结果的概率非常低，可以认为结论不正确。&lt;/p&gt;</content><category term="读书笔记"></category><category term="统计学"></category></entry><entry><title>《统计学》读书笔记(3/17:数据的描述)</title><link href="http://holbrook.github.io/2013/05/31/statistics_intro_3.html" rel="alternate"></link><published>2013-05-31T00:00:00+08:00</published><updated>2013-05-31T00:00:00+08:00</updated><author><name>Holbrook</name></author><id>tag:holbrook.github.io,2013-05-31:/2013/05/31/statistics_intro_3.html</id><summary type="html">&lt;p&gt;统计学：从数据到结论，ISBN：9787503749964，作者：吴喜之 @&lt;a href="http://book.douban.com/subject/2193810/"&gt;豆瓣&lt;/a&gt;&lt;/p&gt;</summary><content type="html">&lt;h2 id="di-3zhang-shu-ju-de-miao-shu"&gt;第3章 数据的描述&lt;/h2&gt;
&lt;p&gt;2013-05-31: 1st&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;数据难以一目了然，但数据的特征容易掌握（如：定性or定量，变量的个数，收集目的等）&lt;/p&gt;
&lt;p&gt;借助图表和一些运算有利于掌握更多关于数据的特征&lt;/p&gt;
&lt;p&gt;数据的特征反映了总体的特征&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;数据特征的图形表示&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;定量变量的图形表示&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="http://zh.wikipedia.org/wiki/%E7%9B%B4%E6%96%B9%E5%9B%BE"&gt;直方图&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;表达数据分布的疏密。纵坐标可以是数量或百分比&lt;/p&gt;
&lt;p&gt;如：人数-年龄，人数-财富值。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="http://zh.wikipedia.org/wiki/%E7%AE%B1%E5%BD%A2%E5%9C%96"&gt;盒形图&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;指标(最大值,上四分位数,中位数,下四分位数,最小值)-&amp;gt; 条件，表达指标的多个特征在某种条件下的分布形态&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="http://wiki.mbalib.com/wiki/%E8%8C%8E%E5%8F%B6%E5%9B%BE"&gt;茎叶图&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;既表达形状，又包含数据&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="http://marslau.com/archives/713.html"&gt;散点图&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;用于比较成对的数值。散点图通常用于比较跨类别的聚合数据&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;定性变量（属性变量，分类变量）的图形表示&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="http://marslau.com/archives/701.html"&gt;饼图&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="http://marslau.com/archives/710.html"&gt;条形图&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;p&gt;数据的概括&lt;/p&gt;
&lt;p&gt;用汇总/概括统计量来描述定量变量&lt;/p&gt;
&lt;p&gt;统计量：summary statistic&lt;/p&gt;
&lt;p&gt;样本的随机性决定了统计量的随机性&lt;/p&gt;
&lt;p&gt;样本统计量 vs 总体统计量&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;可以用样本统计量估计总体统计量&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;可以用样本统计量来检验对总体的假设&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;概括数据通常使用以下统计量&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;数据的位置&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;均值容易受单个样本偏差 or 少数极端值的影响，但位置不会&lt;/p&gt;
&lt;p&gt;中位数比均值稳健(robust)&lt;/p&gt;
&lt;p&gt;中位数，上下四分位数，&lt;/p&gt;
&lt;p&gt;alpha= k百分位数(k-pecentile)：有k% 的观测值小于alpha,  alpha称为alpha分位数(quantile)&lt;/p&gt;
&lt;p&gt;众数(mode)：样本中出现最多的数目。 使用得较少&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;数据的尺度&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;描述数据的分布是否均匀&lt;/p&gt;
&lt;p&gt;尺度统计量描述数据集中与分散的程度或变化（散度统计量）&lt;/p&gt;
&lt;p&gt;数据越分散，尺度统计量的值越大&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;极差(range), 最大、最小值之差&lt;/p&gt;
&lt;p&gt;如，盒形图中盒子的高度(有时为宽度)表示四分位间距(interquantile range)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;标准差，方差&lt;/p&gt;
&lt;p&gt;标准差是方差的平方根&lt;/p&gt;
&lt;p&gt;单峰值数据的分布(1delta=68%, 2delta=95%)，多峰值数据的分布。。。&lt;/p&gt;
&lt;p&gt;同一总体，多个不同样本的均值的标准差称为标准误差(standand error)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;数据的标准得分&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;如，两个水平接近的班级，两个老师进行评分。由于评分标准不同，两个班成绩的均值和标准差都不一样。
  如何放在一起评价？&lt;/p&gt;
&lt;p&gt;方法：数据标准化&amp;mdash;&amp;mdash;可以理解为对盒形图的缩放和位移&lt;/p&gt;
&lt;p&gt;标准得分是比较常用的一种标准化方法：&lt;/p&gt;
&lt;p&gt;标准得分z = (得分-样本均值)/样本标准差&lt;/p&gt;&lt;/hr&gt;&lt;/hr&gt;&lt;/hr&gt;</content><category term="读书笔记"></category><category term="统计学"></category></entry><entry><title>Jekyll建站过程</title><link href="http://holbrook.github.io/2013/05/27/2013-05-27-jekyll_mysite.html" rel="alternate"></link><published>2013-05-27T00:00:00+08:00</published><updated>2013-05-27T00:00:00+08:00</updated><author><name>Holbrook</name></author><id>tag:holbrook.github.io,2013-05-27:/2013/05/27/2013-05-27-jekyll_mysite.html</id><summary type="html">&lt;p&gt;本站建立过程中的一些经验，不断完善中...&lt;/p&gt;</summary><content type="html">&lt;p&gt;早在2012年8月，就通过&lt;a href="http://www.ruanyifeng.com/blog/2012/08/blogging_with_jekyll.html"&gt;这篇文章&lt;/a&gt;知道了Jekyll,  但是一直没有去尝试。&lt;/p&gt;
&lt;p&gt;直到最近静下心来，才发现使用Jekyll 搭建博客非常简单。当然，上手简单，想用好并不容易。&lt;/p&gt;
&lt;p&gt;本文记录在使用Jekyll搭建博客过程中的一些过程和经验，并持续完善和改进。&lt;/p&gt;
&lt;p&gt;本文分成3个部分：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;基础篇：最简单、最快速的使用Jekyll&lt;/li&gt;
&lt;li&gt;进阶篇：一些个性化定制的选项&lt;/li&gt;
&lt;li&gt;推广篇：博客推广的一些手段和方法&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id="ji-chu-pian"&gt;基础篇&lt;/h1&gt;
&lt;h2 id="guan-yu-jekyll"&gt;关于Jekyll&lt;/h2&gt;
&lt;p&gt;&lt;img alt="Jekyll" src="images/posts/tools/jekyll_mysite/jekyll.jpg"/&gt;&lt;/p&gt;
&lt;p&gt;已经有太多的文章介绍了&lt;a href="http://jekyllrb.com/"&gt;Jekyll&lt;/a&gt;(/'dʒiːk əl/)。
简单的说，Jekyll是用ruby语言实现的一个静态网站生成器，可以将&lt;a href="https://help.github.com/articles/my-custom-domain-isn-t-working"&gt;Markdown&lt;/a&gt; (或者&lt;a href="http://textile.sitemonks.com/"&gt;Textile&lt;/a&gt;)编辑的文档生成html。
当然也可以用来生成博客。
我使用Markdown标记语言，其语法可以参考&lt;a href="http://wowubuntu.com/markdown"&gt;这里&lt;/a&gt;。&lt;/p&gt;
&lt;p&gt;Jekyll支持&lt;a href="http://wiki.shopify.com/Liquid"&gt;Liquid&lt;/a&gt;模板语言，写文档时的感觉很像是在写Django模板。Jekyll定义了一些&lt;a href="http://jekyllrb.com/docs/variables/"&gt;内置的变量&lt;/a&gt;，包括全局变量、页面变量等。
&lt;a href="http://jekyllrb.com/docs/frontmatter/"&gt;在文档中可以设置页面变量的值&lt;/a&gt;。&lt;/p&gt;
&lt;p&gt;与RoR类似，Jekyll也可以通过插件来增加额外的功能。&lt;/p&gt;
&lt;h2 id="guan-yu-github-pages"&gt;关于github Pages&lt;/h2&gt;
&lt;p&gt;&lt;a href="https://github.com/"&gt;github&lt;/a&gt;是程序员的facebook。&lt;a href="http://pages.github.com/"&gt;github Pages&lt;/a&gt;是github提供的静态网页托管。可以为用户或者项目创建站点。
有意思的是，github Pages对于上传的静态文件会通过Jekyll进行处理后再发布出来。&lt;/p&gt;
&lt;p&gt;于是，一些&amp;rdquo;不务正业&amp;ldquo;的程序员就开始使用github Pages建立博客，现在这股风潮已经愈演愈烈，一些程序员聚集的博客站点可能要小心应对了。&lt;/p&gt;
&lt;h2 id="shi-yong-github-pagesxie-bo-ke-de-hao-chu"&gt;使用github Pages写博客的好处&lt;/h2&gt;
&lt;p&gt;为什么说&amp;rdquo;一些程序员聚集的博客站点可能要小心应对了&amp;ldquo;呢？ 因为github Pages简直是为程序员量身定制的博客系统。
（当然，估计也只有程序员会愿意折腾这些事情）。&lt;/p&gt;
&lt;p&gt;对我来说，使用github Pages写博客的好处主要体现在以下方面：
1. 自由，随意定制
2. 方便，在github上托管
3. 可控，有版本管理
4. 直接，只需提交，不需要先导出再提交，让人愿意持续更新文章
5. 高效，使用markdown语言能提高写作的效率（但是个人觉得不如org-mode)
6. 免费，无限流量，无限空间&lt;/p&gt;
&lt;h2 id="guan-yu-jekyll-bootstrap"&gt;关于Jekyll Bootstrap&lt;/h2&gt;
&lt;p&gt;&lt;a href="http://jekyllbootstrap.com/"&gt;jekyll-bootstrap&lt;/a&gt;是用Jekyll建立博客的一套模板，提供了主题（themes)、评论、。。等功能，&lt;/p&gt;
&lt;p&gt;对于Jekyll的初学者能提供很大的帮助，其网站上号称&amp;ldquo;基于GitHub Pages建博客的最快方式&amp;rdquo;，可以&amp;ldquo;用3分钟就建立一个博客&amp;rdquo;。&lt;/p&gt;
&lt;h2 id="3fen-zhong-jian-li-bo-ke"&gt;3分钟建立博客&lt;/h2&gt;
&lt;p&gt;让我们看看上述工具的组合如何用3分钟建立博客。假设你已经有git的基础，在github上托管过项目。并且使用的不是windows。&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;# 检查ruby版本
ruby -v
#更换更快的gem源，可选
gem sources --remove http://rubygems.org/
gem sources -a http://ruby.taobao.org/
gem sources -l

#如果不是1.9.3+，需要升级到1.9.3
bash &amp;lt; &amp;lt;(curl -s https://raw.github.com/wayneeseguin/rvm/master/binscripts/rvm-installer )
source ~/.bashrc

rvm install 1.9.3
# 安装jekyll, 并使用rdiscount作为markdown解析器
sudo gem install jekyll
gem install rdiscount

# 使用Jekyll-Bootstrap，其实就是一个复制的过程。下面的USERNAME代表你在github上的用户名
git clone https://github.com/plusjade/jekyll-bootstrap.git USERNAME.github.com


# 使用GitHub Pages的账户主页建立博客，必须使用如下形式的项目名称并使用主分支
# 如果使用项目主页，必须使用项目的gh-pages分支
cd USERNAME.github.com
git remote set-url origin git@github.com:USERNAME/USERNAME.github.com.git
git push origin master

好了，等上几分钟，你的主页就发布在了https://USERNAME.github.com。
&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id="qi-ta-cao-zuo"&gt;其他操作&lt;/h2&gt;
&lt;h3 id="jekyllming-ling"&gt;jekyll命令&lt;/h3&gt;
&lt;p&gt;安装jekyll会产生一个命令行工具：jekyll，提供以下功能：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;build&lt;/span&gt;                &lt;span class="n"&gt;Build&lt;/span&gt; &lt;span class="n"&gt;your&lt;/span&gt; &lt;span class="n"&gt;site&lt;/span&gt;
&lt;span class="n"&gt;doctor&lt;/span&gt;               &lt;span class="n"&gt;Search&lt;/span&gt; &lt;span class="n"&gt;site&lt;/span&gt; &lt;span class="ow"&gt;and&lt;/span&gt; &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="n"&gt;specific&lt;/span&gt; &lt;span class="n"&gt;deprecation&lt;/span&gt; &lt;span class="n"&gt;warnings&lt;/span&gt;
&lt;span class="n"&gt;help&lt;/span&gt;                 &lt;span class="n"&gt;Display&lt;/span&gt; &lt;span class="k"&gt;global&lt;/span&gt; &lt;span class="ow"&gt;or&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;command&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="n"&gt;help&lt;/span&gt; &lt;span class="n"&gt;documentation&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt;               &lt;span class="nn"&gt;Import&lt;/span&gt; &lt;span class="nn"&gt;your&lt;/span&gt; &lt;span class="nn"&gt;old&lt;/span&gt; &lt;span class="nn"&gt;blog&lt;/span&gt; &lt;span class="nn"&gt;to&lt;/span&gt; &lt;span class="nn"&gt;Jekyll&lt;/span&gt;
&lt;span class="n"&gt;new&lt;/span&gt;                  &lt;span class="n"&gt;Creates&lt;/span&gt; &lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="n"&gt;new&lt;/span&gt; &lt;span class="n"&gt;Jekyll&lt;/span&gt; &lt;span class="n"&gt;site&lt;/span&gt; &lt;span class="n"&gt;scaffold&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;PATH&lt;/span&gt;
&lt;span class="n"&gt;serve&lt;/span&gt;                &lt;span class="n"&gt;Serve&lt;/span&gt; &lt;span class="n"&gt;your&lt;/span&gt; &lt;span class="n"&gt;site&lt;/span&gt; &lt;span class="n"&gt;locally&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id="rakefile"&gt;Rakefile&lt;/h3&gt;
&lt;p&gt;Jekyll-Bootstrap提供了一个Rakefile（ruby的makefile），包含一些博客相关的任务（task），包括：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ rake -T
rake page           &lt;span class="c1"&gt;# Create a new page.&lt;/span&gt;
rake post           &lt;span class="c1"&gt;# Begin a new post in ./_posts&lt;/span&gt;
rake preview        &lt;span class="c1"&gt;# Launch preview environment&lt;/span&gt;
rake theme:install  &lt;span class="c1"&gt;# Install theme&lt;/span&gt;
rake theme:package  &lt;span class="c1"&gt;# Package theme&lt;/span&gt;
rake theme:switch   &lt;span class="c1"&gt;# Switch between Jekyll-bootstrap themes.&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h1 id="jin-jie-pian_2"&gt;进阶篇&lt;/h1&gt;
&lt;h2 id="fang-qi-jekyll-bootstrap"&gt;放弃Jekyll bootstrap&lt;/h2&gt;
&lt;p&gt;Jekyll bootstrap确实能带来一些变量，但是和RoR一样，充满了各种puzzle。
更加让中国人不爽的是，作者将其缩写定义为&amp;ldquo;JB&amp;rdquo;。&lt;/p&gt;
&lt;p&gt;经过初步的尝试后，我决定放弃JB，也不想尝试&lt;a href="http://octopress.org/"&gt;Octopress&lt;/a&gt;。我的选择是用原生的Jekyll来构建博客，让一切都在掌控之中。&lt;/p&gt;
&lt;h2 id="jekyllde-mu-lu-jie-gou"&gt;Jekyll的目录结构&lt;/h2&gt;
&lt;p&gt;使用Jekyll创建一个干净的站点：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ jekyll new clearly
$ tree clearly/
clearly/
├── _config.yml
├── _layouts
│&amp;nbsp;&amp;nbsp; ├── default.html
│&amp;nbsp;&amp;nbsp; └── post.html
├── _posts
│&amp;nbsp;&amp;nbsp; └── 2013-05-29-welcome-to-jekyll.markdown
├── css
│&amp;nbsp;&amp;nbsp; ├── main.css
│&amp;nbsp;&amp;nbsp; └── syntax.css
└── index.html
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;其中，博客文章放在_posts目录中，可以使用子目录。
博客文章必须使用
    YEAR-MONTH-DAY-title.MARKUP
的形式命名，比如：
    2011-12-31-new-years-eve-is-awesome.md&lt;/p&gt;
&lt;p&gt;_layouts目录存放页面模板，其他还可以使用html、css、image等静态资源。&lt;/p&gt;
&lt;p&gt;Jekyll会把任何不以下划线开头的文件和目录都复制/生成到网站（在本地是生成到_site/目录)。&lt;/p&gt;
&lt;h2 id="she-ji-mo-ban"&gt;设计模板&lt;/h2&gt;
&lt;p&gt;jekyll把_layouts目录中的文档看做是模板，如果某个文档中的头部变量声明中指定了layout：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;---
layout: post
...
---
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;则Jekyll在生成页面时会使用该模板进行渲染，用文档的内容替换模板中的{{ content }}部分。&lt;/p&gt;
&lt;p&gt;模板本身也是文档，所以一个模板也可以用layout变量指定使用一个模板作为布局，这就是模板的继承。&lt;/p&gt;
&lt;p&gt;此外，在设计模板时，利用好Liquid语言的include语法能够带来很大的变量。被包含的页面部件需要放在_includes文件夹中。&lt;/p&gt;
&lt;p&gt;因为Jekyll生成的是静态站点，可能会需要大量的js以增加动态特性，在设计模板时要遵循&lt;a href="http://dev.opera.com/articles/view/the-seven-rules-of-unobtrusive-javascrip/"&gt;Unobtrusive JavaScript原则&lt;/a&gt;。&lt;/p&gt;
&lt;h2 id="ling-huo-de-dao-hang"&gt;灵活的导航&lt;/h2&gt;
&lt;p&gt;使用静态的导航菜单会带来两个问题：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;文档过长&lt;/li&gt;
&lt;li&gt;&amp;ldquo;当前项&amp;rdquo;的高亮不好处理&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;可以在_config.yml中设置一个导航菜单的变量：&lt;/p&gt;
&lt;p _="%" endhighlight=""&gt;{% highlight yaml %}
    menuitems:
    - name:         首页
      url:          /index.html
    - name:         分类
      url:          /categories.html
    - name:         标签
      url:          /tags.html
    - name:         归档
      url:          /archive.html
    - name:         读书
      url:          /reading.html
    - name:         工作
      url:          /working.html
    - name:         关于
      url:          /about.html&lt;/p&gt;
&lt;p&gt;然后在模板的导航部分可以这样写：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;ul&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;"nav"&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
  {/% for item in site.menuitems %/}
    {/% if item.url == page.url %/}
    &lt;span class="nt"&gt;&amp;lt;li&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;"active"&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
    {/% else %/}
    &lt;span class="nt"&gt;&amp;lt;li&amp;gt;&lt;/span&gt;
    {/% endif %/}
    &lt;span class="nt"&gt;&amp;lt;a&lt;/span&gt; &lt;span class="na"&gt;href=&lt;/span&gt;&lt;span class="s"&gt;"&lt;/span&gt;&lt;span class="cp"&gt;{{&lt;/span&gt;&lt;span class="nv"&gt;item.url&lt;/span&gt;&lt;span class="cp"&gt;}}&lt;/span&gt;&lt;span class="s"&gt;"&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;&lt;span class="cp"&gt;{{&lt;/span&gt;&lt;span class="nv"&gt;item.name&lt;/span&gt;&lt;span class="cp"&gt;}}&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;/a&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;/li&amp;gt;&lt;/span&gt;
  {/% endfor %/}
&lt;span class="nt"&gt;&amp;lt;/ul&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id="fen-lei-biao-qian-gui-dang-he-rss"&gt;分类、标签、归档和RSS&lt;/h2&gt;
&lt;p&gt;这些都是博客站点必须有的元素。分类、标签和归档可以安装不同的方式检索博客文章；RSS可以订阅博客。&lt;/p&gt;
&lt;p&gt;用Jekyll的变量和模板很容易实现这些元素。&lt;/p&gt;
&lt;p&gt;注意：不管文件的扩展名是md、html还是xml、txt，只要文件的头部包含变量声明，Jekyll的模板引擎就会对其进行处理。
其中md和html文件都会处理为html，其他类型会保持扩展名。&lt;/p&gt;
&lt;p&gt;但如果不是写文档，最好不要使用md，否则会按照markdown语法进行渲染，带来一些意想不到的麻烦。&lt;/p&gt;
&lt;p&gt;具体的例子可以参考JB中的代码。&lt;/p&gt;
&lt;p&gt;你可能需要对每个分类、每个标签建立单独的索引页面，这个活手工做比较麻烦，可以使用Jekyll插件或者自己写脚本生成文件，
但这不符合&amp;ldquo;KISS&amp;rdquo;原则，这里不进行探讨。&lt;/p&gt;
&lt;p&gt;对于标签云(tag cloud)，在不使用插件的情况下，可以使用js实现，参考如下代码：
{% highlight html %}
    &lt;div class="tag-cloud"&gt;
       {/% for tag in site.tags %/}
          &lt;a class="__tag" href="/pages/tags.html#{/{ tag[0] }/}-ref" id="{/{ forloop.index }/}" style="margin: 5px"&gt;{/{ tag[0] }/}&lt;/a&gt;
       {/% endfor %/}
    &lt;/div&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;script&lt;/span&gt; &lt;span class="na"&gt;type=&lt;/span&gt;&lt;span class="s"&gt;"text/javascript"&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
   $(function() {
      var minFont = 15.0,
          maxFont = 40.0,
          diffFont = maxFont - minFont,
          size = 0;

      {/% assign max = 1.0 %/}
      {/% for tag in site.tags %/}
         {/% if tag[1].size &amp;gt; max %/}
            {/% assign max = tag[1].size %/}
         {/% endif %/}
      {/% endfor %/}

      {/% for tag in site.tags %/}
         size = (Math.log(&lt;span class="cp"&gt;{{&lt;/span&gt; &lt;span class="nv"&gt;tag&lt;/span&gt;&lt;span class="o"&gt;[&lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="nv"&gt;.size&lt;/span&gt; &lt;span class="cp"&gt;}}&lt;/span&gt;) / Math.log(&lt;span class="cp"&gt;{{&lt;/span&gt; &lt;span class="nv"&gt;max&lt;/span&gt; &lt;span class="cp"&gt;}}&lt;/span&gt;)) * diffFont + minFont;
         $("#&lt;span class="cp"&gt;{{&lt;/span&gt; &lt;span class="nb"&gt;forloop&lt;/span&gt;&lt;span class="nv"&gt;.index&lt;/span&gt; &lt;span class="cp"&gt;}}&lt;/span&gt;").css("font-size", size + "px");
      {/% endfor %/}
   });
&lt;span class="nt"&gt;&amp;lt;/script&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;{% endhighlight %}&lt;/p&gt;
&lt;p&gt;关于分类和标签的设计，可以参考&lt;a href="http://thinkinside.tk/2012/11/05/blog_design_categories_and_tags.html"&gt;这篇文章&lt;/a&gt;&lt;/p&gt;
&lt;h2 id="fen-ye"&gt;分页&lt;/h2&gt;
&lt;p&gt;TODO: ajax分页
TODO: 浮动标题 on paginator&lt;/p&gt;
&lt;h2 id="yu-fa-gao-liang"&gt;语法高亮&lt;/h2&gt;
&lt;p&gt;对于程序员，博客中难免会包含一些代码。实现代码高亮可以有几种方法：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;利用外部资源，比如&lt;a href="https://gist.github.com/"&gt;GitHub Gist&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;简单，但是需要使用外部链接或通过js嵌入到页面，不利于文档和代码的统一维护&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;使用js在前端渲染，比如&lt;a href="https://code.google.com/p/google-code-prettify/"&gt;google-code-prettify&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;简单高效，对语言的支持不够多&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;使用Jekyll插件，比如调用&lt;a href="http://pygments.org/"&gt;pygments&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;推荐方式。支持&lt;a href="http://pygments.org/languages/"&gt;100多种语言&lt;/a&gt;。&lt;/p&gt;
&lt;p&gt;~~~本站采取js的方式。只需要在post的模板中进行配置，就可以为所有博文的代码进行渲染~~~&lt;/p&gt;
&lt;p&gt;~~~Jekyll在编译markdown时，会将符合&amp;ldquo;代码格式&amp;rdquo;的内容放到一个&amp;lt; pre&amp;gt;&amp;lt; code&amp;gt;&lt;/p&gt;&amp;lt; /pre&amp;gt;标签中。~~~
~~~而prettify提供的js会对html中的所有&amp;lt; pre&amp;gt;&amp;lt; /pre&amp;gt;或&amp;lt; code&amp;gt;区块进行处理，甚至会自动判断使用的语言。~~~
&lt;p _="%" endhighlight=""&gt;~~~在post模板的合适位置中增加以下内容：~~~
{% highlight html %}
&lt;link href="/js/google-code-prettify/prettify.css" rel="stylesheet"&gt;
&lt;script src="/js/google-code-prettify/prettify.js"&gt;&lt;/script&gt;
&lt;script&gt;
$(document).ready(function(){
     prettyPrint();
});
&lt;/script&gt;&lt;/link&gt;&lt;/p&gt;
&lt;p&gt;~~~如果要更改配色方案，只需要修改css文件。~~~&lt;/p&gt;
&lt;p&gt;本站采用pygments的方式：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;安装pygments&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;{% highlight bash %}&lt;/p&gt;
&lt;p&gt;pip install pygments&lt;/p&gt;
&lt;p&gt;{% endhighlight %}&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;在_config.yml中设置&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;{% highlight yaml %}&lt;/p&gt;
&lt;p&gt;pygments:       true&lt;/p&gt;
&lt;p&gt;{% endhighlight %}&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;在代码的前后增加过滤器：&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;{% highlight ruby linenos %}&lt;/p&gt;
&lt;p _="%/" endhighlight=""&gt;{/% highlight ruby linenos %/}
def foo
  puts 'foo'
end&lt;/p&gt;
&lt;p&gt;{% endhighlight %}&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;更改样式&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;从&lt;a href="https://github.com/mojombo/tpw/blob/master/css/syntax.css"&gt;这里&lt;/a&gt;获取css样例，并自行更改。&lt;/p&gt;
&lt;h2 id="wen-dang-mu-lu-todo"&gt;文档目录(TODO)&lt;/h2&gt;
&lt;p&gt;如果写比较长的文章，提供一个类似于developerworks上的文档目录进行导航可以方便阅读。&lt;/p&gt;
&lt;h2 id="shi-yong-gong-shi"&gt;使用公式&lt;/h2&gt;
&lt;p&gt;&lt;a href="http://www.mathjax.org/"&gt;MathJax&lt;/a&gt; is an open source JavaScript display engine for mathematics that works in all modern browsers.&lt;/p&gt;
&lt;p&gt;使用maruku来解析markdown文件，可以把LaTeX解析成图片，&lt;/p&gt;
&lt;p&gt;优点是网页加载速度快。但是在windows下安装复杂，且需要安装有LaTeX
        Mathjax  &lt;a href="http://www.mathjax.org/"&gt;http://www.mathjax.org/&lt;/a&gt;，缺点是动态加载，速度慢。&lt;/p&gt;
&lt;p&gt;参考：http://chen.yanping.me/cn/blog/2012/03/10/octopress-with-latex/&lt;/p&gt;
&lt;h2 id="chu-li-tu-pian"&gt;处理图片&lt;/h2&gt;
&lt;p&gt;设置一个IMAGE_ROOT变量，可以可以在post中设置，也可以在post的模板中通过指定的规则capture（或者assign）。&lt;/p&gt;
&lt;p&gt;则引可以使用{{page.IMAGE_ROOT}}/xxx.png的形式插入图片，便于以后的调整和管理。&lt;/p&gt;
&lt;p&gt;{{page.url}}
page_url&lt;/p&gt;
&lt;h2 id="chu-li-biao-ge-todo"&gt;处理表格(TODO)&lt;/h2&gt;
&lt;h2 id="bo-ke-ban-jia-todo"&gt;博客搬家（TODO）&lt;/h2&gt;
&lt;p&gt;用Jekyll写博客的，通常不会是新博主，会存在博客搬家的需求。&lt;/p&gt;
&lt;p&gt;Jekyll提供了一个import的子命令(需要插件jekyll-import），可以将旧的博客导入到Jekyll。&lt;/p&gt;
&lt;p&gt;&lt;a href="https://github.com/thomasf/exitwp"&gt;exitwp&lt;/a&gt;是一个用python开发的工具，号称是将wordpress的博客导出并转换成markdown，但实际上
任何能导出rss/atom的博客都可以用这个工具进行转换。&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;git clone https://github.com/thomasf/exitwp
sudo pip install --upgrade  -r pip_requirements.txt
cd exitwp/wordpress-xml/
wget http://your/atom/file/xml
cd ..
python exitwp.py
&lt;/pre&gt;&lt;/div&gt;
&lt;h1 id="tui-yan-pian_1"&gt;推广篇&lt;/h1&gt;
&lt;h2 id="shi-yong-yu-ming"&gt;使用域名&lt;/h2&gt;
&lt;p&gt;Github Pages会为站点分配类似"USERNAME.github.com"的二级域名。你也可以使用自己的域名。&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;申请域名&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;免费的域名(.tk)可以在&lt;a href="http://www.dot.tk/zh/index.html"&gt;DotTK&lt;/a&gt;申请。&lt;/p&gt;
&lt;p&gt;.tk是南太平洋岛国托克劳的国家域名，支持域名转发（可隐藏原URL）、电邮转发、A记录解析、CNAME别名记录、MX邮件记录、设置DNS服务器等服务。&lt;/p&gt;
&lt;p&gt;收费的域名到处有，是否使用国内的域名商随你。&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;域名解析服务&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;一般来说域名提供商会提供简单的解析服务，也支持将解析服务指向到其他的提供者。&lt;/p&gt;
&lt;p&gt;国外的如&lt;a href="http://www.godaddy.com/"&gt;Godaddy&lt;/a&gt;，可能被墙。&lt;/p&gt;
&lt;p&gt;国内的如&lt;a href="https://www.dnspod.cn/"&gt;DNSPod&lt;/a&gt;，有免费版。&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;配置&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;在jekyll站点中增加CNAME文件，记录使用的域名&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;如果使用顶级域名，在域名解析服务提供商那里将A记录指向&lt;a href="1"&gt;204.232.175.78&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;如果使用二级域名，在域名解析服务提供商那里增加CNAME记录，指向&lt;a href="1"&gt;204.232.175.78&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="she-hui-hua-wang-luo"&gt;社会化网络&lt;/h2&gt;
&lt;p&gt;Jekyll生成的是静态网站，诸如评论、推荐、关注之类的功能就无法实现了。&lt;/p&gt;
&lt;p&gt;不过好在现在有很多社会化网络应用，通过混搭(marshup) 可以把各种各样第三方的功能部件（widgets）加到你的博客中。&lt;/p&gt;
&lt;p&gt;与博客相关的Widget主要有几类：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;社会化评论&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;专门提供评论功能的网站，可以为博客增加评论功能。也可能附带着关注、相关文章、推荐等功能。&lt;/p&gt;
&lt;p&gt;国外的有&lt;a href="http://disqus.com/"&gt;disqus&lt;/a&gt;，国内的有&lt;a href="http://www.uyan.cc/"&gt;友言&lt;/a&gt;，&lt;a href="http://duoshuo.com/"&gt;多说&lt;/a&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;社会化推荐&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;自动推荐跨站的相关文章。包括自动推相关文章。&lt;/p&gt;
&lt;p&gt;国内的有&lt;a href="http://www.ujian.cc/publishers"&gt;友荐&lt;/a&gt;，&lt;a href="http://www.wumii.com/widget/relatedItems.htm"&gt;无觅&lt;/a&gt;。&lt;/p&gt;
&lt;p&gt;Jekyll本身也可以实现站内文章推荐的功能。&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;社会化分享&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;将自己喜欢的网址分享给别人，通常附带推荐功能。&lt;/p&gt;
&lt;p&gt;国内的有&lt;a href="http://www.jiathis.com/"&gt;加网&lt;/a&gt; ，&lt;a href="http://share.baidu.com/"&gt;百度分享&lt;/a&gt;等。其中加网提供了划词分享功能。&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;社交网站&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;可以发布简短的动态。比如Twitter, Facebook, Google Plus, 新浪微博等网站。与博客的联动可以是自己发布博客动态，
   也可以是由别人推荐（这种方式即为社会化推荐）。&lt;/p&gt;
&lt;p&gt;如果是自己发布动态，需要让别人能够方便的&amp;ldquo;关注/Follow&amp;rdquo;你，最好提供&amp;ldquo;一键关注的按钮&amp;rdquo;，或者提供连接能够让别人在这些网上方便的找到你。&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;社会化登录&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;没懂，感觉也就是OpenID或OAuth的集合。暂时不予考虑。&lt;/p&gt;
&lt;p&gt;由于存在着伟大的墙，我只好尽量选择国内的社会化网络资源。对于更喜欢的国外的资源，尽量考虑如何不拖慢墙内用户的访问速度。&lt;/p&gt;
&lt;p&gt;我对社会化网络资源的利用方式如下：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;评论功能&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;只选一个，我选择了&lt;a href="http://www.uyan.cc/"&gt;友言&lt;/a&gt;。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;推荐功能&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;可以有多个，那么先加上友荐和无觅，Jekyll自带的相关文章功能也在测试中。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;分享功能&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;只选一个，还是选择&lt;a href="http://share.baidu.com/"&gt;百度分享&lt;/a&gt;吧，与&lt;a href="http://tongji.baidu.com/web/welcome/login"&gt;百度统计&lt;/a&gt;可以勾搭在一起，而且据说有利于百度的SEO。&lt;/p&gt;
&lt;h2 id="liu-liang-fen-xi-he-tong-ji"&gt;流量分析和统计&lt;/h2&gt;
&lt;p&gt;第三方的流量分析和统计工具可以说是最古老的marshup，尽管没有社会化网络的功能。&lt;/p&gt;
&lt;p&gt;可以选择的有国外的&lt;a href="http://www.google.cn/intl/zh-CN_ALL/analytics/"&gt;Google Analysis&lt;/a&gt;、&lt;a href="http://www.sitemeter.com"&gt;SiteMeter&lt;/a&gt;和国内的&lt;a href="http://tongji.baidu.com/web/welcome/login"&gt;百度统计&lt;/a&gt;、
   &lt;a href="http://linezing.com"&gt;量子恒道统计&lt;/a&gt;等。&lt;/p&gt;
&lt;p&gt;出于种种无奈，还是选择了百度。&lt;/p&gt;</content><category term="blog"></category></entry><entry><title>用nginX+keepalived实现高可用的负载均衡</title><link href="http://holbrook.github.io/2013/05/27/nginx_keepalived.html" rel="alternate"></link><published>2013-05-27T00:00:00+08:00</published><updated>2013-05-27T00:00:00+08:00</updated><author><name>Holbrook</name></author><id>tag:holbrook.github.io,2013-05-27:/2013/05/27/nginx_keepalived.html</id><summary type="html">&lt;p&gt;实施nginx和keepalived的规划、安装、配置等步骤。&lt;/p&gt;</summary><content type="html">&lt;p&gt;前面的&lt;a href="http://thinkinside.tk/weblayer_nginx_keepalived/"&gt;《统一web访问层方案》&lt;/a&gt;中就目的、目标和整体方案进行了讨论，本文讨论具体的实施。简单来说就是在两台服务器上分别部署NginX，并通过keepalived实现高可用。&lt;/p&gt;
&lt;h1 id="1-gui-hua-he-zhun-bei"&gt;1 规划和准备&lt;/h1&gt;
&lt;hr&gt;
&lt;p&gt;需要统一访问的应用系统：
&lt;table&gt;
&lt;tr&gt;&lt;th&gt;应用系统&lt;/th&gt;&lt;th&gt; 域名/虚拟目录&lt;/th&gt;&lt;th&gt;应用服务器及URL&lt;/th&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;svn&lt;/td&gt;&lt;td&gt;  dev.mycompany.com/svn   &lt;/td&gt;&lt;td&gt;http://50.1.1.21/svn&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;svn web管理&lt;/td&gt;&lt;td&gt;    dev.mycompany.com/submin    &lt;/td&gt;&lt;td&gt;http://50.1.1.21/submin&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;网站    &lt;/td&gt;&lt;td&gt;www.mycompany.com  &lt;/td&gt;&lt;td&gt;http://50.1.1.10; http://50.1.1.11; http://50.1.1.12&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;OA&lt;/td&gt;&lt;td&gt;   oa.mycompany.com    &lt;/td&gt;&lt;td&gt;http://50.1.1.13:8080; http://50.1.1.14:8080&lt;/td&gt;&lt;/tr&gt;
&lt;/table&gt;&lt;/p&gt;
&lt;p&gt;web访问服务器&lt;/p&gt;
&lt;p&gt;用两台接入服务器50.1.1.3/4分别作为主、备(MASTER、BACKUP)服务器，使用RHEL5.6x64，配置了yum 私服。&lt;/p&gt;
&lt;p&gt;两台接入服务器公用一个虚拟IP（VIP）：50.1.1.2&lt;/p&gt;
&lt;h1 id="2-an-zhuang"&gt;2 安装&lt;/h1&gt;
&lt;hr&gt;
&lt;p&gt;两台接入服务器分别安装NginX和keepalived:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;    &lt;span class="c1"&gt;#准备依赖包：&lt;/span&gt;
    yum -y install gcc pcre-devel zlib-devel openssl-devel

    &lt;span class="c1"&gt;#下载&lt;/span&gt;
    wget http://nginx.org/download/nginx-1.2.4.tar.gz
    wget http://www.keepalived.org/software/keepalived-1.2.7.tar.gz

    &lt;span class="c1"&gt;#安装NginX&lt;/span&gt;
    tar zxvf nginx-1.2.4.tar.gz
    &lt;span class="nb"&gt;cd&lt;/span&gt; nginx-1.2.4
    ./configure
    make &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; make install

    &lt;span class="c1"&gt;#安装keepalived&lt;/span&gt;
    tar zxvf keepalived-1.2.7.tar.gz
    &lt;span class="nb"&gt;cd&lt;/span&gt; keepalived-1.2.7
    ./configure
    make
    make install

    cp /usr/local/etc/rc.d/init.d/keepalived /etc/rc.d/init.d/
    cp /usr/local/etc/sysconfig/keepalived /etc/sysconfig/
    mkdir /etc/keepalived
    cp /usr/local/etc/keepalived/keepalived.conf /etc/keepalived/
    cp /usr/local/sbin/keepalived /usr/sbin/

    &lt;span class="c1"&gt;#加入启动&lt;/span&gt;
    &lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s2"&gt;"/usr/local/nginx/sbin/nginx"&lt;/span&gt; &amp;gt;&amp;gt; /etc/rc.local
    &lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s2"&gt;"/etc/init.d/keepalived start"&lt;/span&gt; &amp;gt;&amp;gt; /etc/rc.local
&lt;/pre&gt;&lt;/div&gt;
&lt;h1 id="3-pei-zhi"&gt;3 配置&lt;/h1&gt;
&lt;h2 id="31-pei-zhi-nginx"&gt;3.1 配置NginX&lt;/h2&gt;
&lt;p&gt;两台接入服务器的NginX的配置完全一样,主要是配置/usr/local/nginx/conf/nginx.conf的http。其中多域名指向是通过虚拟主机（配置http下面的server）实现；同一域名的不同虚拟目录通过每个server下面的不同location实现；到后端的服务器在http下面配置upstream,然后在server或location中通过proxypass引用。要实现前面规划的接入方式，http的配置如下：&lt;/p&gt;
&lt;p&gt;{% highlight c %}
    http {
        include       mime.types;
        default_type  application/octet-stream;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;    &lt;span class="nt"&gt;sendfile&lt;/span&gt;        &lt;span class="nt"&gt;on&lt;/span&gt;&lt;span class="o"&gt;;&lt;/span&gt;

    &lt;span class="nt"&gt;upstream&lt;/span&gt; &lt;span class="nt"&gt;dev&lt;/span&gt;&lt;span class="nc"&gt;.hysec.com&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="n"&gt;server&lt;/span&gt; &lt;span class="m"&gt;50&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="m"&gt;21&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="m"&gt;80&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;


    &lt;span class="nt"&gt;upstream&lt;/span&gt; &lt;span class="nt"&gt;www&lt;/span&gt;&lt;span class="nc"&gt;.hysec.com&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
      &lt;span class="n"&gt;ip_hash&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
      &lt;span class="n"&gt;server&lt;/span&gt; &lt;span class="m"&gt;50&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="m"&gt;10&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="m"&gt;80&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
      &lt;span class="n"&gt;server&lt;/span&gt; &lt;span class="m"&gt;50&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="m"&gt;11&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="m"&gt;80&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
      &lt;span class="n"&gt;server&lt;/span&gt; &lt;span class="m"&gt;50&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="m"&gt;12&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="m"&gt;80&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;

    &lt;span class="nt"&gt;upstream&lt;/span&gt; &lt;span class="nt"&gt;oa&lt;/span&gt;&lt;span class="nc"&gt;.hysec.com&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
      &lt;span class="n"&gt;ip_hash&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
      &lt;span class="n"&gt;server&lt;/span&gt; &lt;span class="m"&gt;50&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="m"&gt;13&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="m"&gt;8080&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
      &lt;span class="n"&gt;server&lt;/span&gt; &lt;span class="m"&gt;50&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="m"&gt;1&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="m"&gt;14&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="m"&gt;8080&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;


    &lt;span class="n"&gt;server&lt;/span&gt; &lt;span class="err"&gt;{&lt;/span&gt;
        &lt;span class="n"&gt;listen&lt;/span&gt;      &lt;span class="m"&gt;80&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
        &lt;span class="n"&gt;server_name&lt;/span&gt; &lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;hysec&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;com&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
        &lt;span class="n"&gt;location&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;svn&lt;/span&gt; &lt;span class="err"&gt;{&lt;/span&gt;
            &lt;span class="n"&gt;proxy_pass&lt;/span&gt; &lt;span class="n"&gt;http&lt;/span&gt;&lt;span class="o"&gt;://&lt;/span&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;hysec&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;com&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
        &lt;span class="p"&gt;}&lt;/span&gt;

        &lt;span class="nt"&gt;location&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nt"&gt;submin&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
            &lt;span class="n"&gt;proxy_pass&lt;/span&gt; &lt;span class="n"&gt;http&lt;/span&gt;&lt;span class="o"&gt;://&lt;/span&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;hysec&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;com&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
        &lt;span class="p"&gt;}&lt;/span&gt;
    &lt;span class="err"&gt;}&lt;/span&gt;

    &lt;span class="nt"&gt;server&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="n"&gt;listen&lt;/span&gt;       &lt;span class="m"&gt;80&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
        &lt;span class="n"&gt;server_name&lt;/span&gt;  &lt;span class="n"&gt;www&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;hysec&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;com&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
        &lt;span class="n"&gt;location&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt; &lt;span class="err"&gt;{&lt;/span&gt;
            &lt;span class="n"&gt;proxy_pass&lt;/span&gt; &lt;span class="n"&gt;http&lt;/span&gt;&lt;span class="o"&gt;://&lt;/span&gt;&lt;span class="n"&gt;www&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;hysec&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;com&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
        &lt;span class="p"&gt;}&lt;/span&gt;
    &lt;span class="nt"&gt;server&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="n"&gt;listen&lt;/span&gt;       &lt;span class="m"&gt;80&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
        &lt;span class="n"&gt;server_name&lt;/span&gt;  &lt;span class="n"&gt;oa&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;hysec&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;com&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
        &lt;span class="n"&gt;location&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt; &lt;span class="err"&gt;{&lt;/span&gt;
            &lt;span class="n"&gt;proxy_pass&lt;/span&gt; &lt;span class="n"&gt;http&lt;/span&gt;&lt;span class="o"&gt;://&lt;/span&gt;&lt;span class="n"&gt;oa&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;hysec&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;com&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
        &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="err"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;{% endhighlight %}&lt;/p&gt;
&lt;p&gt;验证方法：&lt;/p&gt;
&lt;p&gt;首先用IP访问前表中各个应用服务器的url，再用域名和路径访问前表中各个应用系统的域名/虚拟路径&lt;/p&gt;
&lt;h2 id="32-pei-zhi-keepalived"&gt;3.2 配置keepalived&lt;/h2&gt;
&lt;p&gt;按照上面的安装方法，keepalived的配置文件在/etc/keepalived/keepalived.conf。主、从服务器的配置相关联但有所不同。如下：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Master配置&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;{% highlight c %}&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;! Configuration File for keepalived

global_defs {
notification_email {
        wanghaikuo@hysec.com
        wanghaikuo@gmail.com
   }

   notification_email_from wanghaikuo@hysec.com
   smtp_server smtp.hysec.com
   smtp_connect_timeout 30
   router_id nginx_master

}

vrrp_instance VI_1 {
    state MASTER
    interface eth0
    virtual_router_id 51
    priority 101
    advert_int 1
    authentication {
        auth_type PASS
        auth_pass 1111
    }
    virtual_ipaddress {
        50.1.1.2
    }
}
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;{% endhighlight %}&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Backup配置&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;{% highlight c %}
    ! Configuration File for keepalived&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;global_defs {
notification_email {
        wanghaikuo@hysec.com
        wanghaikuo@gmail.com
   }

   notification_email_from wanghaikuo@hysec.com
   smtp_server smtp.hysec.com
   smtp_connect_timeout 30
   router_id nginx_backup

}

vrrp_instance VI_1 {
    state BACKUP
    interface eth0
    virtual_router_id 51
    priority 99
    advert_int 1
    authentication {
        auth_type PASS
        auth_pass 1111
    }
    virtual_ipaddress {
        50.1.1.2
    }
}
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;{% endhighlight %}&lt;/p&gt;
&lt;p&gt;验证：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;先后在主、从服务器上启动keepalived:&lt;/p&gt;
&lt;p&gt;/etc/init.d/keepalived start&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;在主服务器上查看是否已经绑定了虚拟IP：&lt;/p&gt;
&lt;p&gt;ip addr&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;停止主服务器上的keepalived:&lt;/p&gt;
&lt;p&gt;/etc/init.d/keepalived stop&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;然后在从服务器上查看是否已经绑定了虚拟IP&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;启动主服务器上的keepalived，看看主服务器能否重新接管虚拟IP&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="33-rang-keepalivedjian-kong-nginxde-zhuang-tai"&gt;3.3 让keepalived监控NginX的状态&lt;/h2&gt;
&lt;p&gt;经过前面的配置，如果主服务器的keepalived停止服务，从服务器会自动接管VIP对外服务；一旦主服务器的keepalived恢复，会重新接管VIP。 但这并不是我们需要的，我们需要的是当NginX停止服务的时候能够自动切换。&lt;/p&gt;
&lt;p&gt;keepalived支持配置监控脚本，我们可以通过脚本监控NginX的状态，如果状态不正常则进行一系列的操作，最终仍不能恢复NginX则杀掉keepalived，使得从服务器能够接管服务。&lt;/p&gt;
&lt;p&gt;如何监控NginX的状态
最简单的做法是监控NginX进程，更靠谱的做法是检查NginX端口，最靠谱的做法是检查多个url能否获取到页面。&lt;/p&gt;
&lt;p&gt;如何尝试恢复服务
如果发现NginX不正常，重启之。等待3秒再次校验，仍然失败则不再尝试。&lt;/p&gt;
&lt;p&gt;根据上述策略很容易写出监控脚本。这里使用nmap检查nginx端口来判断nginx的状态，记得要首先安装nmap。监控脚本如下:&lt;/p&gt;
&lt;p&gt;{% highlight bash %}&lt;/p&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt; 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="ch"&gt;#!/bin/sh&lt;/span&gt;
&lt;span class="c1"&gt;# check nginx server status&lt;/span&gt;
&lt;span class="nv"&gt;NGINX&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;/usr/local/nginx/sbin/nginx
&lt;span class="nv"&gt;PORT&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;80

nmap localhost -p &lt;span class="nv"&gt;$PORT&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; grep &lt;span class="s2"&gt;"&lt;/span&gt;&lt;span class="nv"&gt;$PORT&lt;/span&gt;&lt;span class="s2"&gt;/tcp open"&lt;/span&gt;
&lt;span class="c1"&gt;#echo $?&lt;/span&gt;
&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="o"&gt;[&lt;/span&gt; &lt;span class="nv"&gt;$?&lt;/span&gt; -ne &lt;span class="m"&gt;0&lt;/span&gt; &lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="k"&gt;then&lt;/span&gt;
    &lt;span class="nv"&gt;$NGINX&lt;/span&gt; -s stop
    &lt;span class="nv"&gt;$NGINX&lt;/span&gt;
    sleep 3
    nmap localhost -p &lt;span class="nv"&gt;$PORT&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; grep &lt;span class="s2"&gt;"&lt;/span&gt;&lt;span class="nv"&gt;$PORT&lt;/span&gt;&lt;span class="s2"&gt;/tcp open"&lt;/span&gt;
    &lt;span class="o"&gt;[&lt;/span&gt; &lt;span class="nv"&gt;$?&lt;/span&gt; -ne &lt;span class="m"&gt;0&lt;/span&gt; &lt;span class="o"&gt;]&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; /etc/init.d/keepalived stop
&lt;span class="k"&gt;fi&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;
&lt;p&gt;{% endhighlight %}&lt;/p&gt;
&lt;p&gt;不要忘了设置脚本的执行权限，否则不起作用。&lt;/p&gt;
&lt;p _="%" c="" highlight=""&gt;假设上述脚本放在/opt/chk_nginx.sh，则keepalived.conf中增加如下配置：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;vrrp_script chk_http_port {
    script "/opt/chk_nginx.sh"
    interval 2
    weight 2
}

track_script {
    chk_http_port
}
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;{% endhighlight %}&lt;/p&gt;
&lt;p _="%" c="" highlight=""&gt;更进一步，为了避免启动keepalived之前没有启动nginx , 可以在/etc/init.d/keepalived的start中首先启动nginx:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;start() {
    /usr/local/nginx/sbin/nginx
    sleep 3
    echo -n $"Starting &lt;span class="nv"&gt;$prog&lt;/span&gt;: "
    daemon keepalived &lt;span class="cp"&gt;${&lt;/span&gt;&lt;span class="n"&gt;KEEPALIVED_OPTIONS&lt;/span&gt;&lt;span class="cp"&gt;}&lt;/span&gt;
    RETVAL=$?
    echo
    [ &lt;span class="nv"&gt;$RETVAL&lt;/span&gt; -eq 0 ] &lt;span class="err"&gt;&amp;amp;&amp;amp;&lt;/span&gt; touch /var/lock/subsys/&lt;span class="nv"&gt;$prog&lt;/span&gt;
}
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;{% endhighlight %}&lt;/p&gt;
&lt;h1 id="4-huan-ke-yi-zuo-shi-yao_1"&gt;4 还可以做什么&lt;/h1&gt;
&lt;p&gt;对于简单重复性劳动，人总是容易犯错，这种事情最好交给机器去做。 比如，在这个案例中，作为统一接入服务器，可能经常要修改nginx的配置、nginx下面的html文件等。而且，一定要保证集群中的每台服务器的配置相同。 最好的做法是由配置管理服务器来管理，如果没有，也可以使用简单的linux文件同步来解决。&lt;/p&gt;
&lt;h1 id="5-zhi-chi-https"&gt;5 支持https&lt;/h1&gt;
&lt;p&gt;需要安装openSSL：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;yum install openssl-devel
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;在nginx/conf下生成秘钥：&lt;/p&gt;
&lt;p&gt;{% highlight bash %}
    #生成RSA密钥
    openssl dsaparam -rand -genkey -out myRSA.key 1024&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;#生成CA密钥：(要输入一个自己记得的密码)
openssl gendsa -des3 -out cert.key myRSA.key

#用这个CA密钥来创建证书，需要上一步创建的密码
openssl req -new -x509 -days 365 -key cert.key -out cert.pem

#把证书设置为root专用
chmod 700 cert.*

#生成免密码文件
openssl rsa -in cert.key -out cert.key.unsecure
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;{% endhighlight %}&lt;/p&gt;
&lt;p&gt;如果要启用SSL，首先在安装nginx是要增加配置参数：--with-http_ssl_module ，
然后在nginx中进行如下配置：&lt;/p&gt;
&lt;p _="%" endhighlight=""&gt;{% highlight c %}
    # 这里是SSL的相关配置
    server {
      listen 443;
      server_name www.example.com; # 你自己的域名
      root /home/www;
      ssl on;
      ssl_certificate cert.perm;
      #使用.unsecure文件可以在nginx启动时不输入密码
      ssl_certificate_key cert.key.unsecure;
      location / {
      #...
      }
    }&lt;/p&gt;
&lt;p&gt;公共证书的申请过程：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;生成RSA(私钥)文件：&lt;/p&gt;
&lt;p&gt;&lt;code&gt;openssl genrsa -des3 -out myRSA.key 2048&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;生成csr文件：&lt;/p&gt;
&lt;p&gt;&lt;code&gt;openssl req -new -key myRSA.key -out my.csr&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;将csr提交给证书机构，比如GlobalSign。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;证书机构会返回私有证书(crt)和中级证书（crt）&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;到机构网站下载根证书（root_CA.cer), 将根证书拼接到私有证书之后&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;在nginx中配置证书：&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;{% highlight c %}
    ssl_certificate /etc/ssl/my.crt;
    ssl_certificate_key /etc/ssl/myRSA.key;
    ssl_client_certificate /etc/ssl/root_CA.cer;&lt;/p&gt;
&lt;p&gt;{% endhighlight %}&lt;/p&gt;
&lt;h1 id="6-zhi-chi-webservice"&gt;6 支持webservice&lt;/h1&gt;
&lt;p&gt;通过chunkin-nginx-module模块支持webservice。&lt;/p&gt;
&lt;p&gt;否则会报错：411：http 头中缺少 Conten-Length 参数&lt;/p&gt;
&lt;p&gt;步骤：&lt;/p&gt;
&lt;p&gt;{% highlight bash %}
    git clone https://github.com/agentzh/chunkin-nginx-module.git&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;#重新编译nginx
cd PATH/TO/NGINX/SOURCE
./configure xxx --add-module=/PATH/TO/chunkin-nginx-module
make &amp;amp;&amp;amp; make install
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;{% endhighlight %}&lt;/p&gt;
&lt;p _="%" c="" highlight=""&gt;在nginx的server{}节点中增加配置：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;chunkin on;

error_page 411 = @my_411_error;

location @my_411_error {
    chunkin_resume;
}
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;{% endhighlight %}&lt;/p&gt;
&lt;h1 id="7-zhuang-tai-jian-kong"&gt;7 状态监控&lt;/h1&gt;
&lt;p&gt;编译时需要增加&lt;code&gt;--with-http_stub_status_module&lt;/code&gt;参数。&lt;/p&gt;
&lt;p&gt;查看编译参数：使用命令&lt;code&gt;/usr/local/nginx/sbin/nginx -V&lt;/code&gt;&lt;/p&gt;
&lt;p _="%" highlight="" nginx=""&gt;安装好之后增加配置：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;location /nginx_status {
    stub_status on;
    access_log   off;
    # deny all;
    allow all;
}
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;{% endhighlight %}&lt;/p&gt;
&lt;p&gt;重新加载配置后，会看到一些文本：&lt;/p&gt;
&lt;p&gt;Active connections: 1 （对后端发起的活动连接数）&lt;/p&gt;
&lt;p&gt;server accepts handled requests&lt;/p&gt;
&lt;p&gt;5 5 5  （处理连接个数，成功握手次数，处理请求数）&lt;/p&gt;
&lt;p&gt;Reading: 0 Writing: 1 Waiting: 0 （读取客户端header数，返回客户端header数，等待数即active-reading-writing）&lt;/p&gt;&lt;/hr&gt;&lt;/hr&gt;</content><category term="cluster"></category></entry><entry><title>重拾vim</title><link href="http://holbrook.github.io/2013/05/23/vim_addon_manager.html" rel="alternate"></link><published>2013-05-23T00:00:00+08:00</published><updated>2013-05-23T00:00:00+08:00</updated><author><name>Holbrook</name></author><id>tag:holbrook.github.io,2013-05-23:/2013/05/23/vim_addon_manager.html</id><summary type="html">&lt;p&gt;从emacs切换回vim&lt;/p&gt;</summary><content type="html">&lt;p&gt;以前在&lt;a href="http://www.cnblogs.com/holbrook/" title="心内求法"&gt;博客园&lt;/a&gt;时，用&lt;a href="http://www.cnblogs.com/holbrook/archive/2012/04/12/2444992.html" title="Emacs学习笔记(9):org-mode，最好的文档编辑利器，没有之一"&gt;emacs org-mode&lt;/a&gt; 写博客，并且写了一系列&lt;a href="http://www.cnblogs.com/holbrook/tag/emacs/" title="emacs 学习笔记"&gt;《emacs 学习笔记》&lt;/a&gt;。
emacs 和 org-mode 的强大毋庸置疑，但是经过1年多的使用，还是有些不适应：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;小手指很受伤。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;过于依赖配置。&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;由于我的工作要经常登录到linux服务器进行操作，这就带来了一个问题：
   服务器上的emacs在不配置的情况下几乎无法使用，但是在服务器上使用vim，又不符合手指中记忆的快捷键。&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;emacs有点重，比如不得不使用的ecb,cedet,jdee等等，都是大块头。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;我还没有做好准备去掌握Erlang语言。但是对于vim，我可以使用我喜欢的python去写插件。&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;经过艰难的取舍，还是决定在个人工作领域也回到vim。保护手指，保护大脑。&lt;/p&gt;
&lt;h1 id="cha-jian-guan-li-qi-vundle"&gt;插件管理器(Vundle)&lt;/h1&gt;
&lt;p&gt;重新关注vim后，首先发现了一系列插件管理器。主要有：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href="https://github.com/gmarik/vundle"&gt;Vundle&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.vim.org/scripts/script.php?script_id=2905"&gt;vim-addon-manager&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.vim.org/scripts/script.php?script_id=2332"&gt;pathogen.vim&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.vim.org/scripts/script.php?script_id=3458"&gt;vvundle&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/c9s/Vimana"&gt;vvimana&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;经过简单的比较，我选择了Vundle。这里不想对上述插件管理器做一个完整的对比，只是简单说一个我看中的Vundle的特点：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;只需要维护需要的插件列表就可以统一安装，同样，复制环境时也只需要复制一个文件(.vimrc)&lt;/li&gt;
&lt;li&gt;支持git更新&lt;/li&gt;
&lt;li&gt;支持插件搜索功能&lt;/li&gt;
&lt;li&gt;自动管理插件依赖关系&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="an-zhuang-vundle"&gt;安装Vundle&lt;/h2&gt;
&lt;p&gt;安装Vundle只需要一条命令：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ git clone https://github.com/gmarik/vundle.git ~/.vim/bundle/vundle
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;如果你使用git管理vim配置，还可以使用git submodule：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;git submodule add https://github.com/gmarik/vundle.git vim/bundle/vundle
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;会在.gitmodule中增加如下配置：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;[submodule "vim/bundle/vundle"]&lt;/span&gt;
    &lt;span class="na"&gt;path&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s"&gt;vim/bundle/vundle&lt;/span&gt;
&lt;span class="s"&gt;    url = https://github.com/gmarik/vundle.git&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;之后运行git命令：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;git submodule init
git submodule update
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;即可。&lt;/p&gt;
&lt;h2 id="pei-zhi-cha-jian"&gt;配置插件&lt;/h2&gt;
&lt;p&gt;在.vimrc中配置需要的插件，作者给出了一个例子：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;set nocompatible               " be iMproved
filetype off                   " required!
set rtp+=~/.vim/bundle/vundle/
call vundle#rc()


" let Vundle manage Vundle
" required!
Bundle 'gmarik/vundle'


" My Bundles here:
"
" original repos on github
Bundle 'tpope/vim-fugitive'
Bundle 'Lokaltog/vim-easymotion'
Bundle 'rstacruz/sparkup', {'rtp': 'vim/'}
Bundle 'tpope/vim-rails.git'
" vim-scripts repos
Bundle 'L9'
Bundle 'FuzzyFinder'
" non github repos
Bundle 'git://git.wincent.com/command-t.git'
" ...
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;注意：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;对于重名的Vim插件，需要在插件后面加上作者的姓氏， 比如 Bundle 'Javascript-Indentation'&lt;/li&gt;
&lt;li&gt;对于插件名称中包含空格和斜杠的情况， 需要将空格和斜杠替换为 -&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="an-zhuang-cha-jian"&gt;安装插件&lt;/h2&gt;
&lt;p&gt;只需要在启动vim后，运行命令：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;:BundleInstall
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Vbundle就会自动安装或更新前面配置好的插件&lt;/p&gt;
&lt;h2 id="qi-ta-cao-zuo"&gt;其他操作&lt;/h2&gt;
&lt;p&gt;使用帮助：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;:h vundle
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;查看插件清单：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;:BundleList
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;搜索插件：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;:BundleSearch markdown
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;清理不用的插件：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;:BundleClean
#或者
:BundleClean markdown
&lt;/pre&gt;&lt;/div&gt;
&lt;h1 id="bi-bei-cha-jian-todo_1"&gt;必备插件（TODO）&lt;/h1&gt;
&lt;p&gt;下面是我使用的一些vim插件，直接在.vimrc中配置。可以在 &lt;a href="https://github.com/holbrook/macENV/blob/master/vimrc"&gt;github&lt;/a&gt; 查看。&lt;/p&gt;
&lt;h2 id="bian-ji-qi-zeng-qiang"&gt;编辑器增强&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://github.com/scrooloose/nerdtree"&gt;NERDTree&lt;/a&gt;（Bundle 'The-NERD-tree'）可以在窗口左侧打开文件浏览器&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Bundle 'vim-orgmode'&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;Bundle 'winmanager'&lt;/li&gt;
&lt;li&gt;Bundle 'SuperTab'&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="yu-fa-gao-liang"&gt;语法高亮&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Markdown（Bundle 'Markdown'） markdown文件的语法高亮&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id="vimji-ben-cao-zuo_1"&gt;vim基本操作&lt;/h1&gt;
&lt;p&gt;以前整理过一个 &lt;a href="http://www.cnblogs.com/holbrook/archive/2009/05/13/2357377.html"&gt;vim 常用命令备忘&lt;/a&gt;, 如下：&lt;/p&gt;
&lt;p&gt;&lt;a href="images/2013/vim_addon_manager/vim_cheet_sheet.xlsx"&gt;vim_cheet_sheet.xlsx&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;别人的一个更详细的版本：&lt;/p&gt;
&lt;p&gt;&lt;a href="images/2013/vim_addon_manager/vi-vim-cheat-sheet-list.png"&gt;vi-vim-cheat-sheet-list&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;如果已经有一定的基础，还可以使用vim cheat sheet。下面的图分别可以用于打印版或者桌面背景。&lt;/p&gt;
&lt;p&gt;&lt;img alt="打印版，Eng" src="images/2013/vim_addon_manager/vi-vim-cheat-sheet.gif"/&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="打印版，Chs" src="images/2013/vim_addon_manager/vi-vim-cheat-sheet-sch.gif"/&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="桌面版，Eng" src="images/2013/vim_addon_manager/vi-vim_cheat_sheet_dark.png"/&gt;&lt;/p&gt;</content><category term="vim"></category></entry><entry><title>《统计学》读书笔记(2/17:数据的收集)</title><link href="http://holbrook.github.io/2013/05/19/statistics_intro_2.html" rel="alternate"></link><published>2013-05-19T00:00:00+08:00</published><updated>2013-05-19T00:00:00+08:00</updated><author><name>Holbrook</name></author><id>tag:holbrook.github.io,2013-05-19:/2013/05/19/statistics_intro_2.html</id><summary type="html">&lt;p&gt;统计学：从数据到结论，ISBN：9787503749964，作者：吴喜之 @&lt;a href="http://book.douban.com/subject/2193810/"&gt;豆瓣&lt;/a&gt;&lt;/p&gt;</summary><content type="html">&lt;h2 id="di-2zhang-shu-ju-de-shou-ji"&gt;第2章 数据的收集&lt;/h2&gt;
&lt;p&gt;2013-05-19: 1st&lt;/p&gt;
&lt;hr&gt;
&lt;ul&gt;
&lt;li&gt;获取数据&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;一手数据vs二手数据&amp;mdash;&amp;mdash;自己调研的or别人公布的&lt;/p&gt;
&lt;p&gt;观测数据 vs 试验数据&amp;mdash;&amp;mdash;是否可控&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;个体、总体和样本&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;单个对象：个体element, individual, unit&lt;/p&gt;
&lt;p&gt;所有要研究的个体的集合：总体（有限总体）population&lt;/p&gt;
&lt;p&gt;被研究的个体的集合：该总体的一个样本sample&lt;/p&gt;
&lt;p&gt;抽样方法：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;简单随机抽样：每个个体有同等机会被选到样本&amp;mdash;&amp;mdash;随机样本random sample&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;样本量sample size&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;随机样本的产生：使用随机数（random number)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;方便样本：比如。。。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;收集数据时的误差&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;样本的特征（比如男女比例）不一定和总体完全一样，这叫抽样误差（sampling error)&lt;/p&gt;
&lt;p&gt;调查问卷不一定被回答，这叫未响应误差（nonresponse error)&lt;/p&gt;
&lt;p&gt;回答不一定真实，这叫响应误差（response error)&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;抽样误差不可避免&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;未响应误差和响应误差应该尽量避免&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;抽样调查和一些常用的方法&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;抽样调查的设计目的是确保样本对总体的代表性，以保证后续推断的可靠性&lt;/p&gt;
&lt;p&gt;抽样方法可以分为概率抽样方法和非概率抽样方法&lt;/p&gt;
&lt;p&gt;概率抽样假定每个个体出现在样本中的概率是已知的，从而能够对数据进行合理的统计推断；&lt;/p&gt;
&lt;p&gt;非概率抽样方法比较省时省力，但是推断时要慎重：依赖于抽样方案的设计和实施，&lt;/p&gt;
&lt;p&gt;这种推断无法根据漂亮的统计理论来进行，也很难客观建立抽样误差的范围。&lt;/p&gt;
&lt;p&gt;简单随机样本（全部随机抽样）很难实施，通常会采用局部随机抽样。下面是一些抽样方法：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;概率抽样方法&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;系统抽样：&lt;/p&gt;
&lt;p&gt;根据样本量确定距离n；&lt;/p&gt;
&lt;p&gt;为每个单元编号；&lt;/p&gt;
&lt;p&gt;随机选取一个开始点；&lt;/p&gt;
&lt;p&gt;安装n等距抽样。&lt;/p&gt;
&lt;p&gt;如果编号是随机的，则等价于简单随机抽样。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;分层抽样&lt;/p&gt;
&lt;p&gt;对样本进行分类；&lt;/p&gt;
&lt;p&gt;在各类中简单随机抽样；&lt;/p&gt;
&lt;p&gt;对结果进行汇总。&lt;/p&gt;
&lt;p&gt;可以按照比例，也可以不安装比例，也可以加权（加权系数的和为1）&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;整群抽样&lt;/p&gt;
&lt;p&gt;把总体划分成若干群cluster, 群中的个体不相似；&lt;/p&gt;
&lt;p&gt;随机抽取几个群；&lt;/p&gt;
&lt;p&gt;单级整群抽样：调查抽取的整个群；两级整群抽样：对随机抽取的群再进行简单随机抽样&lt;/p&gt;
&lt;p&gt;适用于各群差异不大的情况，主要用于区域抽样。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;多级抽样&lt;/p&gt;
&lt;p&gt;多层次分群，在最后一级进行调查&lt;/p&gt;
&lt;p&gt;每级的抽样方法可能不同，整个抽样计划可能比较复杂&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;非概率抽样方法&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;目的抽样&lt;/p&gt;
&lt;p&gt;主观选择对象，样本的多少依赖于预先就有的知识&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;方便抽样&lt;/p&gt;
&lt;p&gt;随意选取（不具有随机性），用于初期的评估或探索性研究&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;判断抽样&lt;/p&gt;
&lt;p&gt;主观评判选择样本，是方便抽样的延伸&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;定额抽样&lt;/p&gt;
&lt;p&gt;非概率的分层抽样。先确定分类和比例，然后对各类进行方便抽样或判断抽样&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;雪球抽样&lt;/p&gt;
&lt;p&gt;对于样本稀少的情况，依赖于一个目标推荐另一个目标，偏差较大&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;自我选择&lt;/p&gt;
&lt;p&gt;让个体自愿参加调查&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;实际的抽样方法可能是各种抽样方法的组合。考虑精确度的同时，考虑方便性、可行性、经济性&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;hr&gt;
&lt;p&gt;计算机中常用的数据形式:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;原始数据&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;汇总表格（不能还原成原始数据）&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr&gt;
&lt;p&gt;小结&lt;/p&gt;
&lt;p&gt;数据总是从一个总体中抽取出来的，是总体的一个代表，称为样本&lt;/p&gt;
&lt;p&gt;数据是否可控分为观测数据和试验数据&lt;/p&gt;
&lt;p&gt;数据来源可以分为一手数据和二手数据&lt;/p&gt;
&lt;p&gt;数据科恩能够有抽样误差（不可避免），对于响应/非响应误差要尽量避免&lt;/p&gt;
&lt;p&gt;样本的抽取有多种方法&lt;/p&gt;
&lt;p&gt;抽取样本、收集数据是为了从样本中得到总体的信息，关系到后续分析和推断的结果是否合理&lt;/p&gt;&lt;/hr&gt;&lt;/hr&gt;&lt;/hr&gt;</content><category term="读书笔记"></category><category term="统计学"></category></entry><entry><title>《统计学》读书笔记(1/17:一些基本概念)</title><link href="http://holbrook.github.io/2013/05/12/statistics_intro_1.html" rel="alternate"></link><published>2013-05-12T00:00:00+08:00</published><updated>2013-05-12T00:00:00+08:00</updated><author><name>Holbrook</name></author><id>tag:holbrook.github.io,2013-05-12:/2013/05/12/statistics_intro_1.html</id><summary type="html">&lt;p&gt;第一章，介绍统计学能解决的问题以及解决问题的思路。\n统计学将现象分为个体随机性和总体的规律性，通过随机现象找到总体的规律。而规律就是变量之间的关系。最好，列出了一些常用的统计软件。&lt;/p&gt;</summary><content type="html">&lt;p&gt;@&lt;a href="http://book.douban.com/subject/2193810/"&gt;豆瓣&lt;/a&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id="tong-ji-shi-shi-yao"&gt;统计是什么&lt;/h1&gt;
&lt;p&gt;统计是人类思维的一个归纳过程：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;从现实世界中收集数据&lt;/li&gt;
&lt;li&gt;分析收集到的数据&lt;/li&gt;
&lt;li&gt;从分析结果得出结论&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;关于统计的一个例子如下：&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;站在一个路口，看到每过去20辆小轿车时，也有100辆自行车通过，同时记录每辆车上的人数（收集）&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;平均每10个轿车载有12个人，每辆自行车上只有1人（分析）&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;所以，小汽车和自行车在这个路口的运载能力为24:100（结论）&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;h1 id="tong-ji-xue-shi-shi-yao"&gt;统计学是什么&lt;/h1&gt;
&lt;p&gt;统计学（statistics），是用以收集数据，分析数据和由数据得出结论的一组概念、原则和方法。&lt;/p&gt;
&lt;p&gt;主要内容包括：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;如何有效的收集数据&lt;/li&gt;
&lt;li&gt;如果数据和指标的关系缺乏模型，如何用统计方法建立模型&lt;/li&gt;
&lt;li&gt;如何评价数据的有效性&lt;/li&gt;
&lt;li&gt;如何得出结论&lt;/li&gt;
&lt;li&gt;如何利用数据和模型进行预测&lt;/li&gt;
&lt;li&gt;如何用图形化的方式表现统计结论&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;其中，统计模型是从数据产生的，会根据新的数据不断改进，最终会被新的模型（可能不是统计模型）所代替。&lt;/p&gt;
&lt;p&gt;统计学的一些特点：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;统计学的思维方式是归纳为主，而不是演绎为主&lt;/li&gt;
&lt;li&gt;统计学是应用学科，是为具体目标服务的，不形成自己的数学体系&lt;/li&gt;
&lt;li&gt;统计学可以应用到大量的学科&lt;/li&gt;
&lt;li&gt;有些学科已经形成了与统计学结合的分支学科，如经济计量学(econometrics)，数据挖掘(Data Mining)等。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;由于统计学的应用性和交叉性，统计学需要一些其他学科的基础，包括：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;各种可能用到的数学&lt;/li&gt;
&lt;li&gt;计算机&lt;/li&gt;
&lt;li&gt;其他领域的知识&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;下面列举一些可以用统计学解决的问题：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;当你买了一台电视时，被告知三年内可以免费保修。你想过厂家凭什么这样说吗？说多了，厂家会损失；说少了，会失去竞争，也是损失。到底这个保修期是怎样决定的呢？&lt;/li&gt;
&lt;li&gt;大学排名是一个非常敏感的问题。不同的机构得出不同的结果；各自都说自己是客观、公正和有道理的。到底如何理解这些不同的结果呢？&lt;/li&gt;
&lt;li&gt;任何公司都有一个信用问题。当然，在这些公司试图得到贷款时并没有不还贷的不良记录。如何根据它们的财务和商业资料来判断一个公司的信用等级呢？&lt;/li&gt;
&lt;li&gt;我国东部和西部的概念是一个比较笼统的概念。如何能够根据需要，选择一些指标来把各省，或各市县甚至村进行分类呢？&lt;/li&gt;
&lt;li&gt;疾病传播时，如何能够通过感染者入院前后的各种因素得到一个疾病传染方式的模型呢？&lt;/li&gt;
&lt;li&gt;如何通过大众调查来得到性别、年龄、职业、收入等各种因素与公众对某项事物（比如商品或政策）的态度的关系呢？&lt;/li&gt;
&lt;li&gt;一个从来没有研究过红楼梦的统计学家如何根据比较写作习惯得出红楼梦从哪一段开始就不是曹雪芹的手笔了呢？&lt;/li&gt;
&lt;li&gt;如何才能够客观地得到某个电视节目的收视率，以确定广告的价格是否合理呢？&lt;/li&gt;
&lt;li&gt;如何确定观众/听众是否忠实于某节目？&lt;/li&gt;
&lt;li&gt;如何对电视节目排名次？&lt;/li&gt;
&lt;li&gt;什么因素影响一个节目的收视率？&lt;/li&gt;
&lt;li&gt;如何按照各种不同环境估计某商店的顾客人数？&lt;/li&gt;
&lt;li&gt;如何按照各种指标评价雇员？&lt;/li&gt;
&lt;li&gt;如何把地区(市县镇等)按照各种指标分类？&lt;/li&gt;
&lt;li&gt;如何确定红楼梦第几回不是曹雪芹所写？&lt;/li&gt;
&lt;li&gt;如何确定一个产品的可靠性？&lt;/li&gt;
&lt;li&gt;如何进行偏差较少的民意调查？&lt;/li&gt;
&lt;li&gt;如何根据一些财务数据发现漏税的嫌疑单位?&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id="sui-ji-xing-he-gui-lu-xing-gai-lu-he-ji-hui"&gt;随机性和规律性，概率和机会&lt;/h1&gt;
&lt;p&gt;自然科学的很多领域有确定性，但其他的领域存在着随机性（randomness），比如吸烟与寿命的关系。&lt;/p&gt;
&lt;p&gt;随机性与很多不易说清的因素有关。&lt;/p&gt;
&lt;p&gt;对于一些现象，虽然个体存在随机性，但是总体却可能存在规律性&amp;mdash;&amp;mdash;统计规律。&lt;/p&gt;
&lt;p&gt;这种总体性的规律体现为概率（probability)，描述某件事情发生的机会有多大。&lt;/p&gt;
&lt;p&gt;有些概率是精确的，比如掷骰子时每个点数出现的概率都是1/6。&lt;/p&gt;
&lt;p&gt;有些概率无法精确推断,比如你周末去公园的概率是8成。&lt;/p&gt;
&lt;p&gt;从随机性的个体现象推导出规律性的统计结论，就是统计学存在的意义。&lt;/p&gt;
&lt;h1 id="tong-ji-jie-guo-tong-ji-jie-lun-shi-fou-you-xiao"&gt;统计结果/统计结论是否有效？&lt;/h1&gt;
&lt;p&gt;统计学可以从个体现象（数据）得到结论。但是结论是否有效？&lt;/p&gt;
&lt;p&gt;依靠统计学的部门很有可能闹笑话，比如xx局和xx局。那么，该如何评价统计的结果或者结论？&lt;/p&gt;
&lt;p&gt;这里面需要注意几点：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;数据可以有误或作假&lt;/li&gt;
&lt;li&gt;统计方法（有意或无意）使用不当可以误导。有低级误导和高级误导。&lt;/li&gt;
&lt;li&gt;常识判断和直觉是重要的&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;下面是一些统计结论，可以思考一些如何理解这些结论的含义：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&amp;ldquo;明天降水概率为40％&amp;rdquo;&lt;/li&gt;
&lt;li&gt;&amp;ldquo;我冬天去新加坡度假的概率为10％&amp;rdquo;&lt;/li&gt;
&lt;li&gt;&amp;ldquo;该节目收视率是30%&amp;rdquo;&lt;/li&gt;
&lt;li&gt;&amp;ldquo;调查结果表明20%的观众喜欢某节目&amp;rdquo;&lt;/li&gt;
&lt;li&gt;&amp;ldquo;抽样调查结果的误差为&amp;plusmn;3%&amp;rdquo;&lt;/li&gt;
&lt;li&gt;&amp;ldquo;支持率的95％置信区间为(25%,30%)&amp;rdquo;&lt;/li&gt;
&lt;li&gt;&amp;ldquo;某学校排名第一&amp;rdquo;&lt;/li&gt;
&lt;li&gt;&amp;ldquo;某县是贫困县&amp;rdquo;&lt;/li&gt;
&lt;li&gt;&amp;ldquo;某国的综合竞争力排名第43位&amp;rdquo;&lt;/li&gt;
&lt;li&gt;&amp;ldquo;该国家属于发展中国家&amp;rdquo;&lt;/li&gt;
&lt;li&gt;&amp;ldquo;该药品疗效99%&amp;rdquo;&lt;/li&gt;
&lt;li&gt;&amp;ldquo;该国贫富差距大&amp;rdquo;&lt;/li&gt;
&lt;li&gt;&amp;ldquo;这个县收入比那个县高&amp;rdquo;&lt;/li&gt;
&lt;li&gt;&amp;ldquo;该结果统计显著&amp;rdquo;&lt;/li&gt;
&lt;li&gt;&amp;ldquo;消费价格指数为120%&amp;rdquo;&lt;/li&gt;
&lt;li&gt;&amp;ldquo;他的血压已经正常了&amp;rdquo;&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id="tong-ji-xue-miao-shu-wen-ti-de-fang-fa-chang-liang-bian-liang-he-shu-ju"&gt;统计学描述问题的方法：常量，变量和数据&lt;/h1&gt;
&lt;p&gt;统计学将研究的对象分为总体，样本和个体。
总体，样本和个体都有其属性。&lt;/p&gt;
&lt;p&gt;对于确定的属性，称为常量(constant)；对于不确定性的属性，称为变量(variable)。&lt;/p&gt;
&lt;p&gt;比如：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;一节火车车厢有多少坐位是一个常量；车厢中旅客的人数是一个变量&lt;/li&gt;
&lt;li&gt;一个学校的在校男女生比例是一个常量；该校任意一群学生的男女生比例是一个变量&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;变量根据是否为数值类型可以区分为定量变量（数据变量，随机变量）和定性变量（属性变量，分类变量）&lt;/p&gt;
&lt;p&gt;定量变量的值是数值类型，比如身高身高体重，购买某商品的人数等等。由于定量变量的值是随机的，所以又称为随机变量。&lt;/p&gt;
&lt;p&gt;定性变量的值是非数值类型，比如性别，观点等。定性变量描述对象的属性，用于表达对象的类别，也叫做属性变量或分类变量。&lt;/p&gt;
&lt;p&gt;为了便于用模型描述定性变量，通常将定性变量抽象为离散的值。类似于枚举类型。&lt;/p&gt;
&lt;p&gt;数据：就是关于变量的每个实例的实际值/观测值。&lt;/p&gt;
&lt;p&gt;通常能获得一部分数据，是对于真实情况的不完全的观测。&lt;/p&gt;
&lt;p&gt;统计学的方法可以根据这些不完全的观测推断出全体的规律性。比如掷骰子的实验：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;常量：骰子有6个面&lt;/li&gt;
&lt;li&gt;分类变量：奇数，偶数&lt;/li&gt;
&lt;li&gt;数据：掷1000次骰子的实际点数&lt;/li&gt;
&lt;li&gt;分析：奇数次数493，偶数次数507&lt;/li&gt;
&lt;li&gt;结论：？？？&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id="bian-liang-zhi-jian-de-guan-xi"&gt;变量之间的关系&lt;/h1&gt;
&lt;p&gt;通常，单个的变量没有意义，人们更加关心变量之间的关系。比如，职业种类与收入是否有关系？政府投入与经济增长是否有关系？
除了上述二元关系，还有复杂的多变量关系，如企业的固定资产、流动资产、预算分配、管理模式、生产率、债务和利润。&lt;/p&gt;
&lt;p&gt;如同本文开始所说，有些关系可以明确确定，有些关系只能依靠统计学作出推断。&lt;/p&gt;
&lt;h2 id="ding-liang-bian-liang-jian-de-guan-xi"&gt;定量变量间的关系&lt;/h2&gt;
&lt;p&gt;比如，一组广告投入和销售额之间的数据，做成二维点图（散点图）：&lt;/p&gt;
&lt;p&gt;&lt;img alt="1" src="images/2013/statistics_intro/1.png"/&gt;&lt;/p&gt;
&lt;p&gt;通常对于变量之间的关系会研究以下问题：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;这两个变量是否有关系？（相关性）&lt;/li&gt;
&lt;li&gt;如果有，它们的关系是否显著？&lt;/li&gt;
&lt;li&gt;这些关系是什么关系，能否用数学模型来描述？&lt;/li&gt;
&lt;li&gt;这个关系是否带有普遍性？（是否只对此样本有效？&amp;mdash;&amp;mdash;需要收集更多数据）&lt;/li&gt;
&lt;li&gt;这个关系是不是因果关系？（需要排除其他因素的影响才能判断）&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;因果关系是对变量关系的深入分析&lt;/p&gt;
&lt;p&gt;不是因果关系也可以用来作为推断的依据&lt;/p&gt;
&lt;p&gt;比如，中西医对疾病的因果关系的理解不同&lt;/p&gt;
&lt;p&gt;但是从统计结果上来看，中西医都具有疗效&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;按照变量类型的不同，变量之间的关系可以分为：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;定量变量间的关系&lt;/li&gt;
&lt;li&gt;定性变量间的关系&lt;/li&gt;
&lt;li&gt;定性定量变量间的混合关系&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id="chang-yong-de-tong-ji-ruan-jian_1"&gt;常用的统计软件&lt;/h1&gt;
&lt;p&gt;统计学涉及到大量数据的计算，离不开统计软件的支持（在应用计算机之前，主要通过查表的方式得到计算结果）。常用的统计软件如下：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;R
  这是一个免费的，由志愿者管理的软件。其编程语言与S-plus所基于的S语言一样，很方便。还有不断加入的各个方向统计学家编写的统计软件包。同时从网上可以不断更新和增加有关的软件包和程序。这是发展最快的软件，受到世界上统计师生的欢迎。是用户量增加最快的统计软件。对于一般非统计工作者来说，主要问题是它没有&amp;ldquo;傻瓜化&amp;rdquo;。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;S-plus
  这是统计学家喜爱的软件。不仅由于其功能齐全，而且由于其强大的编程功能，使得研究人员可以编制自己的程序来实现自己的理论和方法。它也在进行&amp;ldquo;傻瓜化&amp;rdquo;以争取顾客。但仍然以编程方便为顾客所青睐。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;SPSS
  这是一个很受欢迎的统计软件；它容易操作，输出漂亮，功能齐全，价格合理。对于非统计工作者是很好的选择。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Excel
  严格说来并不是统计软件，但作为数据表格软件，必然有一定统计计算功能。而且凡是有Microsoft Office的计算机，基本上都装有Excel。但要注意，有时在装Office时没有装数据分析的功能，那就必须装了才行。当然，画图功能是都具备的。对于简单分析，Excel还算方便，但随着问题的深入，Excel就不那么&amp;ldquo;傻瓜&amp;rdquo;，需要使用函数，甚至根本没有相应的方法了。多数专门一些的统计推断问题还需要其他专门的统计软件来处理。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;SAS
  这是功能非常齐全的软件；尽管价格不菲，许多公司还是因为其功能众多和某些美国政府机构认可而使用。尽管现在已经尽量&amp;ldquo;傻瓜化&amp;rdquo;，仍然需要一定的训练才可以进入。对于基本统计课程则不那么方便。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Minitab
  这个软件是很方便的功能强大而又齐全的软件，也已经&amp;ldquo;傻瓜化&amp;rdquo;，在我国用的不如SPSS与SAS那么普遍。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Statistica
  也是功能强大而齐全的&amp;ldquo;傻瓜化&amp;rdquo;的软件，在我国用的也不如SAS与SPSS那么普遍。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Eviews
  这是一个主要处理回归和时间序列的软件。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;GAUSS
  这是一个很好用的统计软件，许多搞经济的喜欢它。主要也是编程功能强大。目前在我国使用的人不多。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;FORTRAN
  这是应用于各个领域的历史很长的非常优秀的编程软件，功能强大，也有一定的统计软件包。计算速度比这里介绍的都快得多。但需要编程和编译。操作不那么容易。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;MATLAB
  这也是应用于各个领域的以编程为主的软件，在工程上应用广泛。编程类似于S和R。但是统计方法不多。&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;&lt;/hr&gt;</content><category term="读书笔记"></category><category term="统计学"></category></entry><entry><title>技术分析的理论体系</title><link href="http://holbrook.github.io/2013/01/26/technical_analysis.html" rel="alternate"></link><published>2013-01-26T00:00:00+08:00</published><updated>2013-01-26T00:00:00+08:00</updated><author><name>Holbrook</name></author><id>tag:holbrook.github.io,2013-01-26:/2013/01/26/technical_analysis.html</id><summary type="html">&lt;p&gt;100个股民可能有101种分析手段，但通常都是采用技术分析（Technical Analysis,TA)。本文视图整理技术分析理论的总体理论框架，以便对于研究内容有一个定位和界定，并作为今后学习的索引。&lt;/p&gt;</summary><content type="html">&lt;h1 id="jie-zhi-tou-zi-he-qu-shi-tou-zi"&gt;价值投资和趋势投资&lt;/h1&gt;
&lt;p&gt;投资的终极目的就是获利；为了获利，就要找出价格变化的一些规律； 通过不同的手段发现价格规律，就形成了不同的投资策略。 策略的不同，体现了投资者看待市场角度的不同。&lt;/p&gt;
&lt;p&gt;大体来说，证券市场的投资策略主要有两种：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;价值投资。分析证券的内在价值，当证券的价格与内在价值发生偏离（高估或低估）时，就产生了投资机会。&lt;/li&gt;
&lt;li&gt;趋势投资。预测价格的变化趋势，当证券的价格变化具有明显趋势时，就产生了投资机会。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;一度以来，人们认为价值投资比较容易量化，操作稳健，是投资的正统，其他的都是旁门左道。 比如《有价证券分析》的作者本杰明&amp;middot;格雷厄姆就说过：&amp;ldquo;投资是基于详尽的分析，本金的安全和满意回报有保证的操作。不符合这一标准的操作就是投机。&amp;rdquo;&lt;/p&gt;
&lt;p&gt;但个人认为，价值投资和趋势投资（或者说投资和投机）并没有本质的区别：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;所谓的价值投资，也是对趋势的一种预测。价值投资认为从长期来看，股票价格的趋势是向&amp;ldquo;内在价值&amp;rdquo;回归。&lt;/li&gt;
&lt;li&gt;价值投资也存在假设，价值投资的前提和假设是：股票价格围绕&amp;ldquo;内在价值 &amp;rdquo;的稳固基点上下波动。该假设并没有被明确的证明。&lt;/li&gt;
&lt;li&gt;价值投资并不容易量化。尽管价值投资认为内在价值可以用一定的、量化的方法来测定，但是信息获取的范围、来源、准确性、时效不同，以及分析方法的不同，会导致完全不同的估值结果。&lt;/li&gt;
&lt;li&gt;价值投资也不能保证本金的安全和满意的回报。&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;虽然价值投资和趋势投资并没有本质的不同，但是两种方法有各自适用的场合。&lt;/p&gt;
&lt;p&gt;对于机构投资者等大资金的投资者，每次操作（买入或卖出）都会产生较大的成本，需要一段时间周期才能完成。这就决定了大资金投资者通常不会频繁操作，而且 需要&amp;ldquo;先知先觉&amp;rdquo;，在趋势明显确定之前就开始操作以保证能够在合适的时点完成操作，对于这种较长期的投资，更倾向于价值投资；&lt;/p&gt;
&lt;p&gt;而对于散户，收集信息非常困难并明显滞后，但是资金量小&amp;ldquo;船小好调头&amp;rdquo;，通常采用短线操作，更青睐趋势投资。&lt;/p&gt;
&lt;p&gt;当然，两种投资理念并不是冲突的，完全可以根据情况结合使用。&lt;/p&gt;
&lt;h1 id="he-wei-ji-zhu-fen-xi"&gt;何为技术分析&lt;/h1&gt;
&lt;p&gt;无论是价值投资还是趋势投资，都需要通过某种手段进行分析，获取未来价格变化的趋势。&lt;/p&gt;
&lt;p&gt;价值投资通过基本面分析预测未来某一时点/时段证券的内在价值（价格变化的趋势就是向内在价值靠近）；趋势投资通过技术分析预测今后较短一段时间内价格变化的趋势。&lt;/p&gt;
&lt;p&gt;二者的本质区别在于着眼点的不同。基本面分析的目标是证券的内在属性，影响内在价值的因素五花八门，大到国际形势，小到公司管理细节。 技术分析的目标是市场行为，即当前情况下市场对证券价格会做出如何的反应。&amp;ldquo;当前情况&amp;rdquo;主要是当前（和历史）的成交价格及成交量，当然也可以包含很多五花八门的要素，比如黑子活动周期、月亮的阴晴圆缺等。&lt;/p&gt;
&lt;p&gt;如果要给技术分析一个明确的定义，可以参考&lt;a href="http://zh.wikipedia.org/wiki/%E6%8A%80%E6%9C%AF%E5%88%86%E6%9E%90"&gt;维基百科的定义&lt;/a&gt;：&lt;/p&gt;
&lt;p&gt;技术分析是指研究过去金融市场的资讯（主要是经由使用图表）来预测价格的趋势决定投资的策略。纯理论上，技术分析只考虑市场或金融工具真实的价格行为。&lt;/p&gt;
&lt;h1 id="li-lun-ji-chu-he-jia-she"&gt;理论基础和假设&lt;/h1&gt;
&lt;p&gt;所有的技术分析都是建立在三大假设之上的。&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;市场行为包容消化一切（价格变化反映一切）。&lt;/li&gt;
&lt;li&gt;价格以趋势方式演变。&lt;/li&gt;
&lt;li&gt;历史会重演。&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;如果一定要为技术分析找到一个理论基础，大概可以算是凯恩斯的&amp;ldquo;空中楼阁理论&amp;rdquo;。其实这并不能算是一个理论，而仅仅是一个假设。&lt;/p&gt;
&lt;p&gt;凯恩斯认为：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;证券的内在价值理论上是存在的，但是很难准确的进行长期预期;&lt;/li&gt;
&lt;li&gt;由于长期难以预测，所以应该关注短期。长期只不过是一连串短期的连接；&lt;/li&gt;
&lt;li&gt;在短期来说，价格并不是由内在价值决定的，而是由投资者心理决定的，是空中楼阁；&lt;/li&gt;
&lt;li&gt;获利需要顺势而为，在短期，就是要顺应投资者的心理和行为模式；&lt;/li&gt;
&lt;li&gt;短期价格体现了投资者的平均预期；&lt;/li&gt;
&lt;li&gt;一般人从心理上倾向于趋势会延续，除非预测到未来会变化的因素；&lt;/li&gt;
&lt;li&gt;在短期，投资者不需要关心证券的内在价值，而只需要关心平均预期及其可能发生的变化；&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;凯恩斯的分析完全抛开了股票的内在价值，认为证券的价格在短期主要决定于投资者的心理预期，而不存在向内在价值靠拢的趋势。对于短期趋势的预测，就是对短期心理预期的预测。&lt;/p&gt;
&lt;h1 id="ji-zhu-fen-xi-li-lun-pai-bie"&gt;技术分析理论派别&lt;/h1&gt;
&lt;p&gt;技术分析名为&amp;ldquo;技术&amp;rdquo;，但更像是&amp;ldquo;艺术&amp;rdquo;。技术分析没有严格的数学推理，更多的是依赖经验的总结。 证券市场众多的投资者根据自身的经验总结出了很多的&amp;ldquo;规律&amp;rdquo;。但是这些&amp;ldquo;规律&amp;rdquo;之间并不能互相映射。而且&amp;ldquo;规律&amp;rdquo;运用的程度和结果与使用者的经验有很大关系。&lt;/p&gt;
&lt;p&gt;目前被广泛认可的理论派别包括：&lt;a href="http://wiki.mbalib.com/wiki/%E9%81%93%E6%B0%8F%E7%90%86%E8%AE%BA"&gt;道氏理论&lt;/a&gt;、
&lt;a href="http://wiki.mbalib.com/wiki/%E6%B3%A2%E6%B5%AA%E7%90%86%E8%AE%BA"&gt;波浪理论&lt;/a&gt;和
&lt;a href="http://wiki.mbalib.com/w/index.php?title=%E6%B1%9F%E6%81%A9%E6%B3%95%E5%88%99&amp;amp;action=edit"&gt;江恩理论&lt;/a&gt; 。
各种规律都能或多或少在这些理论中找到影子。&lt;/p&gt;
&lt;p&gt;技术分析的理论严格来说并不能算是&amp;ldquo;理论&amp;rdquo;，上述三个派别都提出了趋势可能存在的类型及其特征，但是无法给出这些趋势存在或特征的证明。&lt;/p&gt;
&lt;h2 id="dao-shi-li-lun-yao-dian"&gt;道氏理论要点&lt;/h2&gt;
&lt;p&gt;道氏理论是所有市场技术研究的鼻祖。其创造者指明了技术分析的真谛：不是预测股市，而是反映市场趋势；是根据价格模式的研究,推测未来价格行为的一种方法。&lt;/p&gt;
&lt;p&gt;道氏理论在三个假设的基础上，提出了关于趋势的五个&amp;ldquo;定理&amp;rdquo;：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;存在3个级别的趋势 短期（持续几天&amp;ndash;几周），中期（持续几周&amp;ndash;几月），长期（持续几月&amp;ndash;几年），次级走势围绕上级走势折返。&lt;/li&gt;
&lt;li&gt;存在一个市场的主要走势 主要走势是一种长期走势，代表市场的整体趋势，根据方向不同称为多头市场和空头市场（牛市和熊市）&lt;/li&gt;
&lt;li&gt;主要的空头市场包含三个主要的阶段 试探前一多头高点失败后的下跌；下跌一定程度后的反弹和调整；调整后的持续下跌&lt;/li&gt;
&lt;li&gt;主要的多头市场包含三个主要的阶段 前一空头下跌放缓；震荡上扬；持续走高&lt;/li&gt;
&lt;li&gt;存在次级折返走势，要分析其与主要走势的区别与联系&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="bo-lang-li-lun-yao-dian"&gt;波浪理论要点&lt;/h2&gt;
&lt;p&gt;波浪理论号称&amp;ldquo;道氏理论告诉人们何谓大海，而波浪理论指导你如何在大海上冲浪&amp;rdquo;。其含义是道氏理论是一种定性的分析，而波浪理论在道氏理论的基础上实现了一定程度的定量分析。&lt;/p&gt;
&lt;p&gt;波浪理论在&amp;ldquo;群体心理&amp;rdquo;的假设上，提出价格的变化具有类似潮汐或波浪一样的形态。主要内容包括：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;5升3降是基本的形态&lt;/li&gt;
&lt;li&gt;各等级的波会互相叠加，但都各自符合基本形态&lt;/li&gt;
&lt;li&gt;存在9个等级的划分&lt;/li&gt;
&lt;li&gt;波浪的形态与时间无关，或者说，尽管波长可能不同，但波形一定符合基本形态&lt;/li&gt;
&lt;li&gt;在特定的趋势阶段下，对应的波浪会有一些明显的特征。反过来说，把握了波浪的特征，可以判断正处于趋势的哪个阶段&lt;/li&gt;
&lt;li&gt;波浪的某些特征可以向斐波那契数列、黄金分割率等数字上靠拢&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id="jiang-en-li-lun-yao-dian"&gt;江恩理论要点&lt;/h2&gt;
&lt;p&gt;江恩理论是一个&amp;ldquo;神奇&amp;rdquo;的理论，主要&amp;ldquo;神奇&amp;rdquo;在：江恩理论不仅引入了数学，还包含了天文、宗教等因素。江恩的一些作图方法看起来就像占星术或者周易。而且江恩理论对趋势的预测准确性非常高，甚至有人评价&amp;ldquo;不可思议&amp;rdquo;。&lt;/p&gt;
&lt;p&gt;由于江恩理论的神奇性，短期无法给出该理论的一个简要说明，这些内容留待以后研究。 但江恩理论的重要特征是：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;周期性和一些&amp;ldquo;魔术数字&amp;rdquo;&lt;/li&gt;
&lt;li&gt;在预测趋势的同时，还提出了一整套的操作程序，对于错误的预测能够进行补救。如&amp;ldquo;十二条买卖规则&amp;rdquo;，&amp;ldquo;二十一条买卖守则&amp;rdquo;等&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id="ji-zhu-fen-xi-de-ying-yong-fang-fa_1"&gt;技术分析的应用方法&lt;/h1&gt;
&lt;p&gt;不管应用哪种技术分析理论，其应用方法是一样的：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;根据基本指标技术出趋势性指标&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;这些指标都是对历史数据中交易行为的一种量化，有些指标是简单计算出来的，也有的指标需要经过统计分析后得出。
   趋势性指标主要体现了量、价、时、空四大要素。
   也有人将指标划分为趋势型指标、超买超卖型指标、人气和意愿指标、大势领先指标等类别。&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;对单个趋势性指标或多个指标的组合进行分析&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;可以直接观察数字，也可以做出图形(比如K线、切线等）观察形态，最终得出对趋势的判断。&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;根据预测到的趋势进行操作&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;这里需要注意的是：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;由于趋势的预测不可能100%正确，所以要指定风险控制、资金管理等策略，简单的说就是先制定交易原则，以及预测失败的处理办法。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;不同的趋势具有不同的敏感度，敏感度越高，其适用的时间范围就越小，风险也越大。对趋势级别的选择要和自己的操作级别相适应。&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id="zi-liao"&gt;资料&lt;/h1&gt;
&lt;p&gt;本文只是对技术分析理论的大体框架进行了最粗略的概览，要想深入学习，还需要阅读大量的资料。目前找到的资料包括：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;书籍&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;《股市晴雨表》&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;《道氏理论》&lt;/li&gt;
&lt;li&gt;《专业投机原理》&lt;/li&gt;
&lt;li&gt;《股市趋势技术分析》&lt;/li&gt;
&lt;li&gt;《江恩测市法则》&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;《在华尔街45年》&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;网站&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="http://www.ifta.org/"&gt;国际技术分析师联盟&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;市场技术分析师协会&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.aapta.us/"&gt;美国专业技术分析师协会&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.csta.org/"&gt;加拿大技术分析师公会&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.moneydj.com/z/analyst/analyst_home.htm"&gt;MoneyDJ技术分析学院&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.facebook.com/pages/tu-biao-ren-ji-shu-fen-xi/290418956236"&gt;图表人技术分析Facebook专页&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content></entry><entry><title>你真的会数钱吗？</title><link href="http://holbrook.github.io/2013/01/01/money.html" rel="alternate"></link><published>2013-01-01T00:00:00+08:00</published><updated>2013-01-01T00:00:00+08:00</updated><author><name>Holbrook</name></author><id>tag:holbrook.github.io,2013-01-01:/2013/01/01/money.html</id><summary type="html">&lt;p&gt;货币，记账相关的领域模型，使用值对象&lt;/p&gt;</summary><content type="html">&lt;hr&gt;
&lt;p&gt;一篇旧的博文，原文发表在&lt;a href="http://www.cnblogs.com/holbrook/archive/2013/01/01/2841307.html"&gt;博客园&lt;/a&gt;。&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;快年底了，假如你们公司的美国总部给每个人发了一笔201212.21美元的特别奖金，作为程序员的你， 该如何把这笔钱收入囊中？&lt;/p&gt;
&lt;h1 id="1mei-yuan-mei-yuan"&gt;1.美元？美元！&lt;/h1&gt;
&lt;p&gt;你可能觉得，这根本不是问题。在自己的账户中直接加上一笔&amp;ldquo;转入&amp;rdquo;就行了。但是首先就遇到了币种的问题。&lt;/p&gt;
&lt;p&gt;一般来说，银行账户都是单币种的。你可能会说不对啊，我的一卡通就能存入不同的币种啊？但那是一个&amp;ldquo;账号（Account Number）&amp;rdquo;对应的多个&amp;ldquo;账户(Account)&amp;rdquo;。 通常财务记账的时候，一个&amp;ldquo;账户(Account)&amp;rdquo;都使用同一币种。&lt;/p&gt;
&lt;p&gt;账户(Account)记录了资金的往来，包含很多条目(Entry)。账户会记录结余，结余等于所有条目中金额的总和。&lt;/p&gt;
&lt;p&gt;我们不可能为每个币种设计一种条目，所以需要抽象出一个货币类&amp;mdash;&amp;mdash;Money，适用于各种不同的币种：&lt;/p&gt;
&lt;p&gt;&lt;img alt="Money类" src="images/posts/domain/money/money.png"/&gt;&lt;/p&gt;
&lt;p&gt;Money类至少要记录金额和币种:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;对于金额，由于货币存在最小面额，所以金额的类型可以采用定点小数或者整型。考虑到会对金额进行一些运算，用整数处理应该更方便。如果用java语言实现，可以使用long类型。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;对于币种，java提供了java.util.Currency类，专门用于表示货币，符合ISO 4217货币代码标准。Currency使用Singleton模式，需要用getInstance方法获得实例。&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;主要的方法包括：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;String getCurrencyCode() 获取货币的ISO 4217货币代码&lt;/li&gt;
&lt;li&gt;int getDefaultFractionDigits() 获取与此货币一起使用的默认小数位数&lt;/li&gt;
&lt;li&gt;static Currency getInstance(Locale locale) 返回给定语言环境的国家/地区的 Currency 实例&lt;/li&gt;
&lt;li&gt;static Currency getInstance(String currencyCode) 返回给定货币代码的 Currency 实例。&lt;/li&gt;
&lt;li&gt;String getSymbol() 获取默认语言环境的货币符号&lt;/li&gt;
&lt;li&gt;String getSymbol(Locale locale) 获取指定语言环境的货币符号&lt;/li&gt;
&lt;li&gt;String toString() 返回此货币的 ISO 4217 货币代码&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;通过Currency类的帮助，我们的Money类看起来大概是这个样子(为了方便，提供多种构造函数)：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;  public class Money {
      private long amount;
      private Currency currency;

      public double getAmount() {
          return BigDecimal.valueOf(amount, currency.getDefaultFractionDigits()).doubleValue();

      }

      public Currency getCurrency() {
          return currency;
      }

      public Money(double amount, Currency currency) {
          this.currency = currency;
          this.amount = Math.round(amount * centFactor());
      }

      public Money(long amount, Currency currency) {
          this.currency = currency;
          this.amount = amount * centFactor();
      }

      private static final int[] cents = new int[] { 1, 10, 100, 1000,10000 };

      private int centFactor() {
          return cents[currency.getDefaultFractionDigits()];
      }
  }
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;用Money类表示我们的$201212.21奖金，就是：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;Money myMoney = new Money(201212.21,Currency.getInstance(Locale.US));
&lt;/pre&gt;&lt;/div&gt;
&lt;h1 id="2cun-ru-zhang-hu"&gt;2.存入账户&lt;/h1&gt;
&lt;p&gt;终于解决了币种的问题，可以把钱存入账户了。存入的逻辑是：在条目中记录一笔账目，并计算账户的余额。&lt;/p&gt;
&lt;p&gt;不同币种之间相加或相减是没有意义的，为了避免人为错误，在Money的代码中就要禁止这种操作。我们可以采用抛出异常的方式。 为了简单起见，这里不再定义一个单独的"MoneyException"，而是直接使用java.lang.Exception:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;public Money add(Money money) throws Exception{
    if(!money.getCurrency().equals(this.currency)){
        throw(new Exception("different currency can't be add"));
    }
    BigDecimal value = this.getAmount().add(money.getAmount());
    Money result = new Money(value.doubleValue(),this.getCurrency());
    return result;
}

public Money minus(Money money) throws Exception{
    if(!money.getCurrency().equals(this.currency)){
        throw(new Exception("different currency can't be minus"));
    }

    BigDecimal value =this.getAmount().add(money.getAmount().negate());
    Money result = new Money(value.doubleValue(),this.getCurrency());
    return result;

}
&lt;/pre&gt;&lt;/div&gt;
&lt;h1 id="3shou-shui"&gt;3.收税&lt;/h1&gt;
&lt;p&gt;先不要高兴得太早，这笔钱属于&amp;ldquo;一次性所得&amp;rdquo;，需要交20%的个人所得税。税后所得应该是多少？&lt;/p&gt;
&lt;p&gt;你可能说：是80%。只要为Money加上一个multiply(double factor)方法就可以进行计算了。&lt;/p&gt;
&lt;p&gt;但是牵扯到了舍入的问题。由于货币存在最小单位，在做乘/除法运算的时候就要考虑到舍入的问题了。最好是能够控制舍入的行为。假如税务部门对于 舍入的计算有明确规定，我们也可以做一个遵纪守法的好公民。&lt;/p&gt;
&lt;p&gt;在java.math.BigDecimal中定义了7种舍入模式：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ROUND_UP：等于远离0的数。&lt;/li&gt;
&lt;li&gt;ROUND_DOWN：等于靠近0的数。&lt;/li&gt;
&lt;li&gt;ROUND_CEILING：等于靠近正无穷的数。&lt;/li&gt;
&lt;li&gt;ROUND_FLOOR：等于靠近负无穷的数。&lt;/li&gt;
&lt;li&gt;ROUND_HALFUP：等于靠近的数，若舍入位为5，应用ROUNDUP。&lt;/li&gt;
&lt;li&gt;ROUND_HALFDOWN：等于靠近的数，若舍入位为5，应用ROUNDDOWN。&lt;/li&gt;
&lt;li&gt;ROUND_HALFEVEN：舍入位前一位为奇数，应用ROUNDHALFUP；舍入位前一位为偶数，应用ROUNDHALFDOWN。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;我们可以借用这些模式作为参数：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;public static final int ROUND_UP = BigDecimal.ROUND_UP;
public static final int ROUND_DOWN = BigDecimal.ROUND_DOWN;
public static final int ROUND_CEILING = BigDecimal.ROUND_CEILING;
public static final int ROUND_FLOOR = BigDecimal.ROUND_FLOOR;
public static final int ROUND_HALF_UP = BigDecimal.ROUND_HALF_UP;
public static final int ROUND_HALF_DOWN = BigDecimal.ROUND_HALF_DOWN;
public static final int ROUND_HALF_EVEN = BigDecimal.ROUND_HALF_EVEN;
public static final int ROUND_UNNECESSARY = BigDecimal.ROUND_UNNECESSARY;


public Money multiply(double multiplicand, int roundingMode) {
    BigDecimal amount = this.getAmount().multiply(new BigDecimal(multiplicand));
    amount = amount.divide(BigDecimal.ONE,roundingMode);
    return new Money(amount.doubleValue(),this.getCurrency());
}

public Money divide(double divisor, int roundingMode) {
    BigDecimal amount = this.getAmount().divide(new BigDecimal(divisor),
            roundingMode);
    Money result = new Money(amount.doubleValue(), this.getCurrency());
    return result;
}
&lt;/pre&gt;&lt;/div&gt;
&lt;h1 id="4zhuan-cheng-ren-min-bi"&gt;4.转成人民币&lt;/h1&gt;
&lt;p&gt;尽管各领域的国际化提了十几年，但是在国内想直接用美元消费还是有一定困难。所以你决定将这笔钱换成人民币。&lt;/p&gt;
&lt;p&gt;对于账户来说，就是在美元账户和人民币账户分别做一笔转出和转入。 转入和转出的amount值是不同的，因为涉及到币种转换的问题。 显然，账户对象不应该知道如何进行汇率转换，责任又落在了Money类上。&lt;/p&gt;
&lt;p&gt;最直观的做法是在Money类上增加一个convertTo(Currency currency)的方法。 但汇率实在是一个复杂的问题：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;汇率是经常变化的；&lt;/li&gt;
&lt;li&gt;汇率转换时的舍入处理会有相关的约定；&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;这些复杂的问题处理如果直接放在Money类上会显得十分笨重，单独设计一个MoneyConverter类会比较好：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;java.util.Currency&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

&lt;span class="n"&gt;public&lt;/span&gt; &lt;span class="n"&gt;interface&lt;/span&gt; &lt;span class="n"&gt;MoneyConverter&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="n"&gt;Money&lt;/span&gt; &lt;span class="n"&gt;convertTo&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Money&lt;/span&gt; &lt;span class="n"&gt;money&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;Currency&lt;/span&gt; &lt;span class="n"&gt;currency&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="n"&gt;throws&lt;/span&gt; &lt;span class="ne"&gt;Exception&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;我们实现一个最简单的转化器，使用固定的汇率值：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;java.math.BigDecimal&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;java.util.Currency&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;java.util.Locale&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

&lt;span class="n"&gt;public&lt;/span&gt; &lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;SimpleMoneyConverter&lt;/span&gt; &lt;span class="n"&gt;implements&lt;/span&gt; &lt;span class="n"&gt;MoneyConverter&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;

    &lt;span class="n"&gt;private&lt;/span&gt; &lt;span class="n"&gt;static&lt;/span&gt; &lt;span class="n"&gt;final&lt;/span&gt; &lt;span class="n"&gt;BigDecimal&lt;/span&gt; &lt;span class="n"&gt;DOLLAR_TO_CNY&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt;  &lt;span class="n"&gt;new&lt;/span&gt; &lt;span class="n"&gt;BigDecimal&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mf"&gt;6.2365&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="n"&gt;private&lt;/span&gt; &lt;span class="n"&gt;static&lt;/span&gt; &lt;span class="n"&gt;final&lt;/span&gt; &lt;span class="n"&gt;Currency&lt;/span&gt; &lt;span class="n"&gt;DOLLAR&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Currency&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;getInstance&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Locale&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;US&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="n"&gt;private&lt;/span&gt; &lt;span class="n"&gt;static&lt;/span&gt; &lt;span class="n"&gt;final&lt;/span&gt; &lt;span class="n"&gt;Currency&lt;/span&gt; &lt;span class="n"&gt;CNY&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Currency&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;getInstance&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Locale&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;CHINA&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="nd"&gt;@Override&lt;/span&gt;
    &lt;span class="n"&gt;public&lt;/span&gt; &lt;span class="n"&gt;Money&lt;/span&gt; &lt;span class="n"&gt;convertTo&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Money&lt;/span&gt; &lt;span class="n"&gt;money&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;Currency&lt;/span&gt; &lt;span class="n"&gt;target&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="n"&gt;throws&lt;/span&gt; &lt;span class="ne"&gt;Exception&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="k"&gt;if&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="err"&gt;!&lt;/span&gt;&lt;span class="n"&gt;known&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;money&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;getCurrency&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt; &lt;span class="o"&gt;||&lt;/span&gt; &lt;span class="err"&gt;!&lt;/span&gt;&lt;span class="n"&gt;known&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;target&lt;/span&gt;&lt;span class="p"&gt;)){&lt;/span&gt;
            &lt;span class="n"&gt;throw&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;new&lt;/span&gt; &lt;span class="ne"&gt;Exception&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"unknown currency"&lt;/span&gt;&lt;span class="p"&gt;));&lt;/span&gt;
        &lt;span class="p"&gt;}&lt;/span&gt;

        &lt;span class="n"&gt;BigDecimal&lt;/span&gt; &lt;span class="n"&gt;factorSource&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;BigDecimal&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ONE&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;factorTarget&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;BigDecimal&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ONE&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
        &lt;span class="k"&gt;if&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;money&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;getCurrency&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;equals&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;DOLLAR&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
                &lt;span class="n"&gt;factorSource&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;DOLLAR_TO_CNY&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
        &lt;span class="k"&gt;if&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;target&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;equals&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;DOLLAR&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
                &lt;span class="n"&gt;factorTarget&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;DOLLAR_TO_CNY&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
        &lt;span class="n"&gt;BigDecimal&lt;/span&gt; &lt;span class="n"&gt;value&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;money&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;getAmount&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;multiply&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;factorSource&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;divide&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;factorTarget&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;new&lt;/span&gt; &lt;span class="n"&gt;Money&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;value&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;doubleValue&lt;/span&gt;&lt;span class="p"&gt;(),&lt;/span&gt;&lt;span class="n"&gt;target&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;

    &lt;span class="n"&gt;private&lt;/span&gt; &lt;span class="n"&gt;boolean&lt;/span&gt; &lt;span class="n"&gt;known&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Currency&lt;/span&gt; &lt;span class="n"&gt;currency&lt;/span&gt;&lt;span class="p"&gt;){&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;currency&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;equals&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;DOLLAR&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;||&lt;/span&gt; &lt;span class="n"&gt;currency&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;equals&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;CNY&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;可以看到，即使是最简单的转换器，处理起来也比较麻烦。所以千万不要在Money类中做这件事情。&lt;/p&gt;
&lt;p&gt;通过转换器可以很容易得到转成人民币后的值。&lt;/p&gt;
&lt;h1 id="5fen-qian"&gt;5.分钱&lt;/h1&gt;
&lt;p&gt;有好处不能独享。这笔钱你决定和老婆三七开。当然，你三！&lt;/p&gt;
&lt;p&gt;这又是一个新的舍入问题：即使你指定各自的舍入计算方法，也不能保证各部分舍入后的值加总后仍等于原值。&lt;/p&gt;
&lt;p&gt;前面的&amp;ldquo;可定制乘除法&amp;rdquo;似乎不能很好的解决这个问题，所以我们需要一个新的方法： Money[] allocate(double[] ratioes)&lt;/p&gt;
&lt;p&gt;传入分配比例的数组，返回分配结果的数组。&lt;/p&gt;
&lt;p&gt;为了保证分配的公平，可以使用伪随机数来处理误差。&lt;/p&gt;
&lt;p&gt;该方法的实现如下：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;public Money[] allocate(double[] ratioes) throws Exception{
    if(ratioes.length==0){
        throw (new Exception("there is no ratio"));
    }

    double ratioTotal = 0;
    for(double ratio:ratioes){
        ratioTotal += ratio;
    }

    if(0==ratioTotal){
        throw(new Exception("total of ratioes is zero"));
    }


    double total = this.getAmount().doubleValue();
    double delta = total;
    Money[] results = new Money[ratioes.length];

    for(int i=0;i&amp;lt;ratioes.length;i++){
        double amount = total*ratioes[i]/ratioTotal;
        results[i] = new Money(amount,this.getCurrency());
        delta -= results[i].getAmount().doubleValue();
    }

    int i = (int)(Math.random() * ratioes.length);
    results[i] = results[i].minus(new Money(delta,this.getCurrency()));
    return results;
}
&lt;/pre&gt;&lt;/div&gt;
&lt;h1 id="6ji-zhang"&gt;6.记账&lt;/h1&gt;
&lt;p&gt;将一切重要的数据保存到数据库是很通常的做法。但是将Money保存到数据库的时候，你要小心了！&lt;/p&gt;
&lt;p&gt;Money不能作为单独的实体。如果把Money当做实体来处理，就会产生一些问题：&lt;/p&gt;
&lt;p&gt;会有很多实体关联到Money，比如本文中的Account，Entry等。
需要非常小心处理对Money对象的引用，避免多个实体引用到同一个Money对象。在第一点的前提下，这会变得很困难。
所以应该把Money嵌入到需要的实体中，而不是把Money作为单独的实体。这样，Money仅仅是实体对象（比如Entry）的一个属性，只不过其具有多个内置的属性值。&lt;/p&gt;
&lt;p&gt;在JPA中，可以使用@Embeddable来标注Money类。&lt;/p&gt;
&lt;p&gt;更复杂的情况是，由于一个Account中的所有Entry都应该具有相同的Currency，将Currency保存到Account中会更简洁，Entry中只记录ammount。&lt;/p&gt;
&lt;p&gt;可以为Money的currency属性增加@Transient标注，在Entry类的getMoney中进行组装。&lt;/p&gt;
&lt;h1 id="7lai-dian-gao-ji-de"&gt;7.来点高级的&lt;/h1&gt;
&lt;p&gt;在DDD（领域驱动设计）中，Money是典型的值对象（Value Object）。值对象与实体的根本区别是：值对象不需要进行标识（ID）。&lt;/p&gt;
&lt;p&gt;这会带来一些处理上的不同：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;实体对象根据ID判断是否相等，值对象只根据内部属性值判断是否相等&lt;/li&gt;
&lt;li&gt;值对象通常小而且简单，创建的代价较小&lt;/li&gt;
&lt;li&gt;值对象只传递值，不传递对象引用，不用判断值对象是否指向同一个物理对象&lt;/li&gt;
&lt;li&gt;通常将值对象设计为通过构造函数进行属性设置，一旦创建就无法改变其属性值&lt;/li&gt;
&lt;li&gt;由于值对象根据内部属性值判等，我们要为Money类覆盖equals方法： public boolean equals(Object other)&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id="8qi-ta-wei-jin-shi-yi"&gt;8.其他未尽事宜&lt;/h1&gt;
&lt;p&gt;我们还可以为Money类增加互相比较的方法（略）&lt;/p&gt;
&lt;p&gt;可以在构造函数中进行格式校验（略）&lt;/p&gt;
&lt;p&gt;可以增加一些帮助显式的方法 使用currency的getSymbol(Locale locale)方法、和NumberFormat的format方法，比如：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;NumberFormat nf=NumberFormat.getCurrencyInstance(Locale.CHINA);

String s=nf.format(73084.803984);// result：￥73,084.80
&lt;/pre&gt;&lt;/div&gt;
&lt;h1 id="9xiao-jie"&gt;9.小结&lt;/h1&gt;
&lt;p&gt;本文探讨如何在应用中处理货币类型，包括币种转换、各种计算、如何持久化等内容。&lt;/p&gt;
&lt;p&gt;货币类型是典型的值对象，本文也介绍了一点值对象的特点。更多的内容可以参考DDD。&lt;/p&gt;&lt;/hr&gt;&lt;/hr&gt;</content><category term="领域模型"></category></entry><entry><title>JPA概要</title><link href="http://holbrook.github.io/2012/12/30/JPA_intro.html" rel="alternate"></link><published>2012-12-30T00:00:00+08:00</published><updated>2012-12-30T00:00:00+08:00</updated><author><name>Holbrook</name></author><id>tag:holbrook.github.io,2012-12-30:/2012/12/30/JPA_intro.html</id><summary type="html">&lt;p&gt;JPA定义了Java ORM及实体操作API的标准。本文摘录了JPA的一些关键信息以备查阅。如果有hibernate的基础，通过本文也可以快速掌握JPA的基本概念及使用。&lt;/p&gt;</summary><content type="html">&lt;h1 id="1-jpagai-shu"&gt;1 JPA概述&lt;/h1&gt;
&lt;p&gt;JPA（Java Persistence API，Java持久化API），定义了对象-关系映射（ORM）以及实体对象持久化的标准接口。&lt;/p&gt;
&lt;p&gt;JPA1.0是&lt;a href="https://jcp.org/en/jsr/detail?id=220"&gt;JSR-220&lt;/a&gt;（EJB3.0）规范的一部分，在JSR-220中规定实体对象（EntityBean）由JPA进行支持。&lt;/p&gt;
&lt;p&gt;后来，JPA2.0迁移到&lt;a href="https://jcp.org/en/jsr/detail?id=317"&gt;JSR-317&lt;/a&gt;（Java Persistence 2.0），已经不局限于EJB3.0，而是作为POJO持久化的标准规范，可以脱离容器独立运行，开发和测试更加方便。&lt;/p&gt;
&lt;p&gt;JPA在应用中的位置如下图所示：&lt;/p&gt;
&lt;p&gt;&lt;img alt="arcitecture" src="images/jpa/arcitecture.png"/&gt;&lt;/p&gt;
&lt;p&gt;JPA维护一个Persistence Context（持久化上下文），在持久化上下文中维护实体的生命周期。主要包含三个方面的内容：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ORM元数据。JPA支持annotion或xml两种形式描述对象-关系映射。&lt;/li&gt;
&lt;li&gt;实体操作API。实现对实体对象的CRUD操作。&lt;/li&gt;
&lt;li&gt;查询语言。约定了面向对象的查询语言JPQL（Java Persistence Query Language）。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;JPA的主要API都定义在javax.persistence包中。&lt;/p&gt;
&lt;p&gt;&lt;img alt="arcitecture" src="images/jpa/api.png"/&gt;&lt;/p&gt;
&lt;p&gt;如果你熟悉Hibernate，可以很容易做出对应：&lt;/p&gt;
&lt;table border="2" cellpadding="6" cellspacing="0" frame="hsides" rules="groups" style="border-collapse: collapse;"&gt;&lt;caption&gt;&amp;nbsp;&lt;/caption&gt;&lt;colgroup&gt;&lt;col class="left" style="margin-left: 0px; margin-right: auto; text-align: left;"&gt;&lt;col class="left" style="margin-left: 0px; margin-right: auto; text-align: left;"&gt;&lt;col class="left" style="margin-left: 0px; margin-right: auto; text-align: left;"&gt;&lt;/col&gt;&lt;/col&gt;&lt;/col&gt;&lt;/colgroup&gt;
&lt;thead&gt;
&lt;tr&gt;&lt;th class="left" scope="col" style="vertical-align: top; margin-left: 0px; margin-right: auto; text-align: center;"&gt;org.hibernate&lt;/th&gt;&lt;th class="left" scope="col" style="vertical-align: top; margin-left: 0px; margin-right: auto; text-align: center;"&gt;javax.persistence&lt;/th&gt;&lt;th class="left" scope="col" style="vertical-align: top; margin-left: 0px; margin-right: auto; text-align: center;"&gt;说明&lt;/th&gt;&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td class="left" style="vertical-align: top; margin-left: 0px; margin-right: auto; text-align: left;"&gt;cfg.Configuration&lt;/td&gt;
&lt;td class="left" style="vertical-align: top; margin-left: 0px; margin-right: auto; text-align: left;"&gt;Persistence&lt;/td&gt;
&lt;td class="left" style="vertical-align: top; margin-left: 0px; margin-right: auto; text-align: left;"&gt;读取配置信息&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class="left" style="vertical-align: top; margin-left: 0px; margin-right: auto; text-align: left;"&gt;SessionFactory&lt;/td&gt;
&lt;td class="left" style="vertical-align: top; margin-left: 0px; margin-right: auto; text-align: left;"&gt;EntityManagerFactory&lt;/td&gt;
&lt;td class="left" style="vertical-align: top; margin-left: 0px; margin-right: auto; text-align: left;"&gt;用于创建会话/实体管理器的工厂类&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class="left" style="vertical-align: top; margin-left: 0px; margin-right: auto; text-align: left;"&gt;Session&lt;/td&gt;
&lt;td class="left" style="vertical-align: top; margin-left: 0px; margin-right: auto; text-align: left;"&gt;EntityManager&lt;/td&gt;
&lt;td class="left" style="vertical-align: top; margin-left: 0px; margin-right: auto; text-align: left;"&gt;提供实体操作API，管理事务，创建查询&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class="left" style="vertical-align: top; margin-left: 0px; margin-right: auto; text-align: left;"&gt;Transaction&lt;/td&gt;
&lt;td class="left" style="vertical-align: top; margin-left: 0px; margin-right: auto; text-align: left;"&gt;EntityTransaction&lt;/td&gt;
&lt;td class="left" style="vertical-align: top; margin-left: 0px; margin-right: auto; text-align: left;"&gt;管理事务&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class="left" style="vertical-align: top; margin-left: 0px; margin-right: auto; text-align: left;"&gt;Query&lt;/td&gt;
&lt;td class="left" style="vertical-align: top; margin-left: 0px; margin-right: auto; text-align: left;"&gt;Query&lt;/td&gt;
&lt;td class="left" style="vertical-align: top; margin-left: 0px; margin-right: auto; text-align: left;"&gt;执行查询&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h1 id="2-shi-ti-sheng-ming-zhou-qi"&gt;2 实体生命周期&lt;/h1&gt;
&lt;p&gt;实体生命周期是JPA中非常重要的概念，描述了实体对象从创建到受控、从删除到游离的状态变换。对实体的操作主要就是改变实体的状态。&lt;/p&gt;
&lt;p&gt;JPA中实体的生命周期如下图：&lt;/p&gt;
&lt;p&gt;&lt;img alt="arcitecture" src="images/jpa/lifecycle.png"/&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;New，新创建的实体对象，没有主键(identity)值&lt;/li&gt;
&lt;li&gt;Managed，对象处于Persistence Context(持久化上下文）中，被EntityManager管理&lt;/li&gt;
&lt;li&gt;Detached，对象已经游离到Persistence Context之外，进入Application Domain&lt;/li&gt;
&lt;li&gt;Removed, 实体对象被删除&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;EntityManager提供一系列的方法管理实体对象的生命周期，包括：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;persist, 将新创建的或已删除的实体转变为Managed状态，数据存入数据库。&lt;/li&gt;
&lt;li&gt;remove，删除受控实体&lt;/li&gt;
&lt;li&gt;merge，将游离实体转变为Managed状态，数据存入数据库。&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;如果使用了事务管理，则事务的commit/rollback也会改变实体的状态。&lt;/p&gt;
&lt;h1 id="3-shi-ti-guan-xi-ying-she-orm"&gt;3 实体关系映射（ORM）&lt;/h1&gt;
&lt;h2 id="31-ji-ben-ying-she"&gt;3.1 基本映射&lt;/h2&gt;
&lt;table border="2" cellpadding="6" cellspacing="0" frame="hsides" rules="groups" style="border-collapse: collapse;"&gt;&lt;caption&gt;&amp;nbsp;&lt;/caption&gt;&lt;colgroup&gt;&lt;col class="left" style="margin-left: 0px; margin-right: auto; text-align: left;"&gt;&lt;col class="left" style="margin-left: 0px; margin-right: auto; text-align: left;"&gt;&lt;col class="left" style="margin-left: 0px; margin-right: auto; text-align: left;"&gt;&lt;col class="left" style="margin-left: 0px; margin-right: auto; text-align: left;"&gt;&lt;/col&gt;&lt;/col&gt;&lt;/col&gt;&lt;/col&gt;&lt;/colgroup&gt;
&lt;thead&gt;
&lt;tr&gt;&lt;th class="left" scope="col" style="vertical-align: top; margin-left: 0px; margin-right: auto; text-align: center;"&gt;对象端&lt;/th&gt;&lt;th class="left" scope="col" style="vertical-align: top; margin-left: 0px; margin-right: auto; text-align: center;"&gt;数据库端&lt;/th&gt;&lt;th class="left" scope="col" style="vertical-align: top; margin-left: 0px; margin-right: auto; text-align: center;"&gt;annotion&lt;/th&gt;&lt;th class="left" scope="col" style="vertical-align: top; margin-left: 0px; margin-right: auto; text-align: center;"&gt;可选annotion&lt;/th&gt;&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td class="left" style="vertical-align: top; margin-left: 0px; margin-right: auto; text-align: left;"&gt;Class&lt;/td&gt;
&lt;td class="left" style="vertical-align: top; margin-left: 0px; margin-right: auto; text-align: left;"&gt;Table&lt;/td&gt;
&lt;td class="left" style="vertical-align: top; margin-left: 0px; margin-right: auto; text-align: left;"&gt;@Entity&lt;/td&gt;
&lt;td class="left" style="vertical-align: top; margin-left: 0px; margin-right: auto; text-align: left;"&gt;@Table(name="table_name")&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class="left" style="vertical-align: top; margin-left: 0px; margin-right: auto; text-align: left;"&gt;property&lt;/td&gt;
&lt;td class="left" style="vertical-align: top; margin-left: 0px; margin-right: auto; text-align: left;"&gt;column&lt;/td&gt;
&lt;td class="left" style="vertical-align: top; margin-left: 0px; margin-right: auto; text-align: left;"&gt;&amp;ndash;&lt;/td&gt;
&lt;td class="left" style="vertical-align: top; margin-left: 0px; margin-right: auto; text-align: left;"&gt;@Column(name = "column_name")&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class="left" style="vertical-align: top; margin-left: 0px; margin-right: auto; text-align: left;"&gt;property&lt;/td&gt;
&lt;td class="left" style="vertical-align: top; margin-left: 0px; margin-right: auto; text-align: left;"&gt;primary key&lt;/td&gt;
&lt;td class="left" style="vertical-align: top; margin-left: 0px; margin-right: auto; text-align: left;"&gt;@Id&lt;/td&gt;
&lt;td class="left" style="vertical-align: top; margin-left: 0px; margin-right: auto; text-align: left;"&gt;@GeneratedValue 详见ID生成策略&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class="left" style="vertical-align: top; margin-left: 0px; margin-right: auto; text-align: left;"&gt;property&lt;/td&gt;
&lt;td class="left" style="vertical-align: top; margin-left: 0px; margin-right: auto; text-align: left;"&gt;NONE&lt;/td&gt;
&lt;td class="left" style="vertical-align: top; margin-left: 0px; margin-right: auto; text-align: left;"&gt;@Transient&lt;/td&gt;
&lt;td class="left" style="vertical-align: top; margin-left: 0px; margin-right: auto; text-align: left;"&gt;&amp;nbsp;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;h2 id="32-idsheng-cheng-ce-lue"&gt;3.2 ID生成策略&lt;/h2&gt;
&lt;p&gt;ID对应数据库表的主键，是保证唯一性的重要属性。JPA提供了以下几种ID生成策略：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;GeneratorType.AUTO ，由JPA自动生成&lt;/li&gt;
&lt;li&gt;GenerationType.IDENTITY，使用数据库的自增长字段，需要数据库的支持（如SQL Server、MySQL、DB2、Derby等）&lt;/li&gt;
&lt;li&gt;GenerationType.SEQUENCE，使用数据库的序列号，需要数据库的支持（如Oracle）&lt;/li&gt;
&lt;li&gt;GenerationType.TABLE，使用指定的数据库表记录ID的增长 需要定义一个TableGenerator，在@GeneratedValue中引用。例如：&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;@TableGenerator( name="myGenerator", table="GENERATORTABLE", pkColumnName = "ENTITYNAME", pkColumnValue="MyEntity", valueColumnName = "PKVALUE", allocationSize=1 )&lt;/p&gt;
&lt;p&gt;@GeneratedValue(strategy = GenerationType.TABLE,generator="myGenerator")&lt;/p&gt;
&lt;h2 id="33-guan-lian-guan-xi"&gt;3.3 关联关系&lt;/h2&gt;
&lt;p&gt;JPA定义了one-to-one、one-to-many、many-to-one、many-to-many 4种关系。&lt;/p&gt;
&lt;p&gt;对于数据库来说，通常在一个表中记录对另一个表的外键关联；对应到实体对象，持有关联数据的一方称为owning-side，另一方称为inverse-side。&lt;/p&gt;
&lt;p&gt;为了编程的方便，我们经常会希望在inverse-side也能引用到owning-side的对象，此时就构建了双向关联关系。 在双向关联中，需要在inverse-side定义mappedBy属性，以指明在owning-side是哪一个属性持有的关联数据。&lt;/p&gt;
&lt;p&gt;对关联关系映射的要点如下：&lt;/p&gt;
&lt;table border="2" cellpadding="6" cellspacing="0" frame="hsides" rules="groups" style="border-collapse: collapse;"&gt;&lt;caption&gt;&amp;nbsp;&lt;/caption&gt;&lt;colgroup&gt;&lt;col class="left" style="margin-left: 0px; margin-right: auto; text-align: left;"&gt;&lt;col class="left" style="margin-left: 0px; margin-right: auto; text-align: left;"&gt;&lt;col class="left" style="margin-left: 0px; margin-right: auto; text-align: left;"&gt;&lt;/col&gt;&lt;/col&gt;&lt;/col&gt;&lt;/colgroup&gt;
&lt;thead&gt;
&lt;tr&gt;&lt;th class="left" scope="col" style="vertical-align: top; margin-left: 0px; margin-right: auto; text-align: center;"&gt;关系类型&lt;/th&gt;&lt;th class="left" scope="col" style="vertical-align: top; margin-left: 0px; margin-right: auto; text-align: center;"&gt;Owning-Side&lt;/th&gt;&lt;th class="left" scope="col" style="vertical-align: top; margin-left: 0px; margin-right: auto; text-align: center;"&gt;Inverse-Side&lt;/th&gt;&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td class="left" style="vertical-align: top; margin-left: 0px; margin-right: auto; text-align: left;"&gt;one-to-one&lt;/td&gt;
&lt;td class="left" style="vertical-align: top; margin-left: 0px; margin-right: auto; text-align: left;"&gt;@OneToOne&lt;/td&gt;
&lt;td class="left" style="vertical-align: top; margin-left: 0px; margin-right: auto; text-align: left;"&gt;@OneToOne(mappedBy="othersideName")&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class="left" style="vertical-align: top; margin-left: 0px; margin-right: auto; text-align: left;"&gt;one-to-many / many-to-one&lt;/td&gt;
&lt;td class="left" style="vertical-align: top; margin-left: 0px; margin-right: auto; text-align: left;"&gt;@ManyToOne&lt;/td&gt;
&lt;td class="left" style="vertical-align: top; margin-left: 0px; margin-right: auto; text-align: left;"&gt;@OneToMany(mappedBy="xxx")&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class="left" style="vertical-align: top; margin-left: 0px; margin-right: auto; text-align: left;"&gt;many-to-many&lt;/td&gt;
&lt;td class="left" style="vertical-align: top; margin-left: 0px; margin-right: auto; text-align: left;"&gt;@ManyToMany&lt;/td&gt;
&lt;td class="left" style="vertical-align: top; margin-left: 0px; margin-right: auto; text-align: left;"&gt;@ManyToMany(mappedBy ="xxx")&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;其中 many-to-many关系的owning-side可以使用@JoinTable声明自定义关联表，比如Book和Author之间的关联表：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;@JoinTable(name = "BOOKAUTHOR", joinColumns = { @JoinColumn(name = "BOOKID", referencedColumnName = "id") }, inverseJoinColumns = { @JoinColumn(name = "AUTHORID", referencedColumnName = "id") })
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;关联关系还可以定制延迟加载和级联操作的行为（owning-side和inverse-side可以分别设置）：&lt;/p&gt;
&lt;p&gt;通过设置fetch=FetchType.LAZY 或 fetch=FetchType.EAGER来决定关联对象是延迟加载或立即加载。&lt;/p&gt;
&lt;p&gt;通过设置cascade={options}可以设置级联操作的行为，其中options可以是以下组合：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;CascadeType.MERGE 级联更新&lt;/li&gt;
&lt;li&gt;CascadeType.PERSIST 级联保存&lt;/li&gt;
&lt;li&gt;CascadeType.REFRESH 级联刷新&lt;/li&gt;
&lt;li&gt;CascadeType.REMOVE 级联删除&lt;/li&gt;
&lt;li&gt;CascadeType.ALL 级联上述4种操作&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="34-ji-cheng-guan-xi"&gt;3.4 继承关系&lt;/h2&gt;
&lt;p&gt;JPA通过在父类增加@Inheritance(strategy=InheritanceType.xxx)来声明继承关系。A支持3种继承策略：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;单表继承（InheritanceType.SINGLETABLE），所有继承树上的类共用一张表，在父类指定（@DiscriminatorColumn）声明并在每个类指定@DiscriminatorValue来区分类型。&lt;/li&gt;
&lt;li&gt;类表继承（InheritanceType.JOINED），父子类共同的部分公用一张表，其余部分保存到各自的表，通过join进行关联。&lt;/li&gt;
&lt;li&gt;具体表继承（InheritanceType.TABLEPERCLASS)，每个具体类映射到自己的表。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;其中1和2能够支持多态，但是1需要允许字段为NULL，2需要多个JOIN关系；3最适合关系数据库，对多态支持不好。具体应用时根据需要取舍。&lt;/p&gt;
&lt;h2 id="35-zhi-dui-xiang-guan-lian-biao"&gt;3.5 值对象、关联表&lt;/h2&gt;
&lt;p&gt;在领域驱动设计(DDD)中，值对象不具有唯一标识，而是依附在实体上，只能通过实体获取。&lt;/p&gt;
&lt;p&gt;通常，值对象的字段作为所嵌入的实体对象对应的表中的字段。如有必要，也可以通过&lt;code&gt;@SecondaryTable&lt;/code&gt;和&lt;code&gt;@AttributeOverrides&lt;/code&gt;注解将值对象的字段放到关联表中。&lt;/p&gt;
&lt;p&gt;JPA使用&lt;code&gt;@Embeddable&lt;/code&gt;标记一个类为值对象；在实体对象中使用&lt;code&gt;@Embedded&lt;/code&gt;使用值对象作为属性。&lt;/p&gt;
&lt;p&gt;比如：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;@Embeddable
public class Address {
    private String street;
    private String city;
    private String state;
    @Column(name="ZIP_CODE")
    private String zip;
    &amp;hellip;&amp;hellip;
}

@Entity
@Table(name="EMP")
@SecondaryTable(name="EMP_ADDRESS",
                pkJoinColumns=@PrimaryKeyJoinColumn(name="EMP_ID"))
public class Professor {
    @Id private int id;
    private String name;
    @Embedded
    @AttributeOverrides({
        @AttributeOverride(name="street", column=@Column(table="EMP_ADDRESS")),
        @AttributeOverride(name="city", column=@Column(name="CITY", table="EMP_ADDRESS")),
        @AttributeOverride(name="state", column=@Column(name="STATE", table="EMP_ADDRESS")),
        @AttributeOverride(name="zip",
                           column=@Column(name="ZIP_CODE", table="EMP_ADDRESS"))
    })
    private Address address;
    &amp;hellip;&amp;hellip;
}
&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id="36-fu-he-zhu-jian"&gt;3.6 复合主键&lt;/h2&gt;
&lt;p&gt;JPA中，可以使用&lt;code&gt;@EmbeddedId&lt;/code&gt;主键将一个值对象声明为复合主键。作为复合主键的值对象要实现&lt;code&gt;Serializable&lt;/code&gt;接口，
并覆盖&lt;code&gt;equals&lt;/code&gt;和&lt;code&gt;hashCode&lt;/code&gt;方法：&lt;/p&gt;
&lt;p&gt;比如：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;@Embeddable
public class SectionPK implements Serializable{
  @ManyToOne
  private Security target;
  private Interval interval;
  private Date datetime;

  @Override
  public int hashCode() {
      final int prime = 31;
      int result = 1;
      result = prime * result + ((target == null) ? 0 : target.hashCode());
      result = prime * result
              + ((datetime == null) ? 0 : datetime.hashCode());
      result = prime * result +
          ((interval == null) ? 0 : interval.hashCode());
      return result;
  }

  @Override
  public boolean equals(Object obj) {
      if (this == obj)
          return true;
      if (obj == null)
          return false;
      if (getClass() != obj.getClass())
          return false;

      SectionPK other = (SectionPK) obj;
      if(!isEqual(this.getDatetime(),other.getDatetime()))
        return false;
      if(!isEqual(this.getInterval(),other.getInterval()))
        return false;
      if(!isEqual(this.getTarget(),other.getTarget()))
        return false;
      return true;
  }

  private boolean isEqual(Object obj1,Object obj2){
    if(obj1==null){
      if(obj2!=null)
        return false;
    }else if(!obj1.equals(obj2)){
      return false;
    }
    return true;
  }

}

@Entity
public class Section {
  @EmbeddedId
  SectionPK key;
  &amp;hellip;&amp;hellip;
}
&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id="37-ji-he-ying-she"&gt;3.7 集合映射&lt;/h2&gt;
&lt;p&gt;从JPA2.0开始，不仅支持实体集合的映射，还支持基本类型(如String,Integer等）集合以及值对象(Embeded)集合的映射。&lt;/p&gt;
&lt;p&gt;JPA通过&lt;code&gt;@ElementCollection&lt;/code&gt;注解集合映射，可以自动检测元素类型，也可以通过&lt;code&gt;targetClass&lt;/code&gt;参数指定。&lt;/p&gt;
&lt;p&gt;通过&lt;code&gt;@CollectionTable&lt;/code&gt;注解可以指定集合表的详细信息。当然，也可以使用&lt;code&gt;@JoinTable&lt;/code&gt;注解进行指定。&lt;/p&gt;
&lt;p&gt;比如，基本类型集合的映射：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;//Set
    @ElementCollection
    @JoinTable(name = "item", joinColumns = { @JoinColumn(nullable = false, name = "item_id", referencedColumnName = "id") })
    @Column(name = "filename", nullable = false)
    private Set&amp;lt;String&amp;gt; images = new HashSet&amp;lt;String&amp;gt;();

//List
    @ElementCollection(targetClass = java.lang.String.class)
    @JoinTable(name = "item", joinColumns = { @JoinColumn(nullable = false, name = "item_id") })
    @IndexColumn(name = "position", base = 1)
    @Column(name = "filename", nullable = false)
    @OrderBy(clause="item_id desc")
    private List&amp;lt;String&amp;gt; listImages = new ArrayList&amp;lt;String&amp;gt;();

//Map
    @ElementCollection
    @JoinTable(name="item", joinColumns={ @JoinColumn(nullable=false, name="item_id")})
    @MapKeyColumn(name="map_key")
    @Column(name="filename", nullable=false)
    private Map&amp;lt;String, String&amp;gt; mapImages = new HashMap&amp;lt;String, String&amp;gt;();
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;值对象集合映射：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;public enum FeatureType { AC, CRUISE, PWR, BLUETOOTH, TV, ... }

@Embeddable
public class ServiceVisit {
&amp;hellip;&amp;hellip;
}




@Entity
public class Vehicle {
@Id
int vin;

@ElementCollection
@CollectionTable(name="VEH_OPTNS")
@Column(name="FEAT")
Set&amp;lt;FeatureType&amp;gt; optionalFeatures;

@ElementCollection
@CollectionTable(name="VEH_SVC")
@OrderBy("serviceDate")
List&amp;lt;ServiceVisit&amp;gt; serviceHistory;
&lt;/pre&gt;&lt;/div&gt;
&lt;h1 id="4-shi-jian-ji-jian-ting_1"&gt;4 事件及监听&lt;/h1&gt;
&lt;p&gt;&lt;img alt="events" src="images/jpa/events.png"/&gt;&lt;/p&gt;
&lt;p&gt;通过在实体的方法上标注@PrePersist，@PostPersist等声明即可在事件发生时触发这些方法。&lt;/p&gt;
&lt;h1 id="5-query-language-cha-xun-yu-yan"&gt;5 Query Language 查询语言&lt;/h1&gt;
&lt;p&gt;JPA提供两种查询方式，一种是根据主键查询，使用EntityManager的find方法：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;  T find(Class entityClass, Object primaryKey)
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;另一种就是使用JPQL查询语言。JPQL是完全面向对象的，具备继承、多态和关联等特性，和hibernate HQL很相似。&lt;/p&gt;
&lt;p&gt;使用EntityManager的createQuery方法：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;Query createQuery(String qlString)
&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id="51-shi-yong-can-shu"&gt;5.1 使用参数&lt;/h2&gt;
&lt;p&gt;可以在JPQL语句中使用参数。JPQL支持命名参数和位置参数两种参数，但是在一条JPQL语句中所有的参数只能使用同一种类型。&lt;/p&gt;
&lt;p&gt;举例如下：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;命令参数&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;Query query = em.createQuery("select p from Person p where p.personid=:Id");
  query.setParameter("Id",new Integer(1));&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;位置参数&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;Query query = em.createQuery("select p from Person p where p.personid=?1");
  query.setParameter(1,new Integer(1));&lt;/code&gt;&lt;/p&gt;
&lt;h2 id="52-ming-ming-cha-xun"&gt;5.2 命名查询&lt;/h2&gt;
&lt;p&gt;如果某个JPQL语句需要在多个地方使用，还可以使用&lt;code&gt;@NamedQuery&lt;/code&gt; 或者 &lt;code&gt;@NamedQueries&lt;/code&gt;在实体对象上预定义命名查询。&lt;/p&gt;
&lt;p&gt;在需要调用的地方只要引用该查询的名字即可。&lt;/p&gt;
&lt;p&gt;例如：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;@NamedQuery(name="getPerson", query= "FROM Person WHERE personid=?1")

@NamedQueries({ @NamedQuery(name="getPerson1", query= "FROM Person WHERE personid=?1"), @NamedQuery(name="getPersonList", query= "FROM Person WHERE age&amp;gt;?1") })

Query query = em.createNamedQuery("getPerson");
&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id="53-pai-xu"&gt;5.3 排序&lt;/h2&gt;
&lt;p&gt;JPQL也支持排序，类似于SQL中的语法。例如：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;Query query = em.createQuery("select p from Person p order by p.age, p.birthday desc");
&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id="54-ju-he-cha-xun"&gt;5.4 聚合查询&lt;/h2&gt;
&lt;p&gt;JPQL支持AVG、SUM、COUNT、MAX、MIN五个聚合函数。例如：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;Query query = em.createQuery("select max(p.age) from Person p");
Object result = query.getSingleResult(); String maxAge = result.toString();
&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id="55-geng-xin-he-shan-chu"&gt;5.5 更新和删除&lt;/h2&gt;
&lt;p&gt;JPQL不仅用于查询，还可以用于批量更新和删除。如：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;Query query = em.createQuery("update Order as o set o.amount=o.amount+10"); //update 的记录数 int result = query.executeUpdate();

Query query = em.createQuery("delete from OrderItem item where item.order in(from Order as o where o.amount&amp;lt;100)");
query.executeUpdate();

query = em.createQuery("delete from Order as o where o.amount&amp;lt;100");
query.executeUpdate();//delete的记录数
&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id="56-geng-duo"&gt;5.6 更多&lt;/h2&gt;
&lt;p&gt;与SQL类似，JPQL还涉及到更多的语法，可以参考&lt;a href="http://docs.oracle.com/cd/E11035_01/kodo41/full/html/ejb3_langref.html"&gt;这里&lt;/a&gt;。&lt;/p&gt;
&lt;h2 id="6-shi-wu-guan-li"&gt;6 事务管理&lt;/h2&gt;
&lt;p&gt;JPA支持本地事务管理（RESOURCELOCAL）和容器事务管理（JTA），容器事务管理只能用在EJB/Web容器环境中。&lt;/p&gt;
&lt;p&gt;事务管理的类型可以在persistence.xml文件中的&amp;ldquo;transaction-type&amp;rdquo;元素配置。&lt;/p&gt;
&lt;p&gt;JPA中通过EntityManager的getTransaction()方法获取事务的实例（EntityTransaction），之后可以调用事务的begin()、commit()、rollback()方法。&lt;/p&gt;</content><category term="java"></category></entry><entry><title>Java规则引擎规范：JSR94</title><link href="http://holbrook.github.io/2012/12/07/jsr94.html" rel="alternate"></link><published>2012-12-07T00:00:00+08:00</published><updated>2012-12-07T00:00:00+08:00</updated><author><name>Holbrook</name></author><id>tag:holbrook.github.io,2012-12-07:/2012/12/07/jsr94.html</id><summary type="html">&lt;p&gt;Java World似乎总会出现一些接口规范，这样做的好处是可以面向接口编程，可以在实现了该接口的产品/组件之间自由切换，避免被厂商绑架。 本文要介绍的JSR94:Java Rule Engine API，Java规则引擎API规范。&lt;/p&gt;</summary><content type="html">&lt;p&gt;Java World似乎总会出现一些接口规范，这样做的好处是可以面向接口编程，可以在实现了该接口的产品/组件之间自由切换，避免被厂商绑架。 本文要介绍的&lt;a href="http://jcp.org/aboutJava/communityprocess/final/jsr094/index.html"&gt;JSR94:Java Rule Engine API&lt;/a&gt;，
Java规则引擎API规范。&lt;/p&gt;
&lt;h1 id="gai-shu"&gt;概述&lt;/h1&gt;
&lt;p&gt;JSR-94是JCP(Java Community Process)制定的关于Java规则引擎API的规范，包括接口定义和示例代码。于2004年8月发布。 JSR-94定义了javax.rules和javax.rules.admin,前者包含了Java规则引擎运行时（Rumtime)API及异常（Exception）定义，后者包含了规则管理相关的API和异常定义。&lt;/p&gt;
&lt;h1 id="gui-ze-guan-li-api"&gt;规则管理API&lt;/h1&gt;
&lt;p&gt;规则管理API在javax.rules.admin中定义,主要包括以下类/接口：&lt;/p&gt;
&lt;p&gt;&lt;img alt="javax.rules.admin" src="images/rule-engine/javax.rules.admin.png"/&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Rule：规则实体&lt;/li&gt;
&lt;li&gt;RuleExecutionSet：执行集，某个规则对应的动作&lt;/li&gt;
&lt;li&gt;LocalRuleExecutionSetProvider：用于从本地创建执行集，如InputStream,Reader等&lt;/li&gt;
&lt;li&gt;RuleExectuionSetProvider：用于从本地或远程创建执行集，如xml Element，Serializable等&lt;/li&gt;
&lt;li&gt;RuleAdministrator：用于获取ExecutionSetProvider，并管理执行集的注册/注销&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;规则管理API实现的功能包括：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;装载规则（Rule）和执行集（RuleExecutionSet)&lt;/li&gt;
&lt;li&gt;执行集的注册/注销,只有注册的执行集对应的规则才能被客户访问&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id="yun-xing-shi-api"&gt;运行时API&lt;/h1&gt;
&lt;p&gt;运行时API在javax.rules中定义，主要包括以下类/接口：&lt;/p&gt;
&lt;p&gt;&lt;img alt="javax.rules" src="images/rule-engine/javax.rules.png"/&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;RuleServiceProviderManager: 通过URL注册/注销RuleServiceProvider&lt;/li&gt;
&lt;li&gt;RuleServiceProvider: 提供对RuleRuntime和RuleAdministrator的访问&lt;/li&gt;
&lt;li&gt;RuleRuntime: 规则引擎运行时，可以创建规则会话&lt;/li&gt;
&lt;li&gt;RuleSession: 规则会话，用于执行规则&lt;/li&gt;
&lt;li&gt;RuleExecutionSetMetaData: 执行集元数据，包括name,url,description等。执行集元数据会被RuleSession使用&lt;/li&gt;
&lt;li&gt;StatelessRuleSession: 无状态规则会话&lt;/li&gt;
&lt;li&gt;StatefulRuleSession: 有状态规则会话&lt;/li&gt;
&lt;li&gt;Handle和ObjectFilter: 有状态会话维护会话状态的帮助类&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;规则引擎运行时API实现的功能包括：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;注册/注销规则引擎实例，只有注册的规则引擎实例才能被使用&lt;/li&gt;
&lt;li&gt;从注册的规则引擎实例创建Runtime&lt;/li&gt;
&lt;li&gt;从Runtime创建会话，包括有状态和无状态两种会话&lt;/li&gt;
&lt;li&gt;通过会话执行规则&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id="yi-chang-ding-yi"&gt;异常定义&lt;/h1&gt;
&lt;p&gt;除了前面提到的主要类/接口外，JSR94还规定了规则引擎运行时及管理的一些异常，如下：&lt;/p&gt;
&lt;p&gt;&lt;img alt="javax.rules.exceptions" src="images/rule-engine/javax.rules.exceptions.png"/&gt;&lt;/p&gt;
&lt;h1 id="dai-ma-shi-li"&gt;代码示例&lt;/h1&gt;
&lt;p&gt;下面是使用Drools作为规则引擎实例的一个例子，规则文件使用了Drools的drl格式：&lt;/p&gt;
&lt;p&gt;JSR94Sample.java&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="kn"&gt;package&lt;/span&gt; &lt;span class="nn"&gt;com.sample&lt;/span&gt;&lt;span class="o"&gt;;&lt;/span&gt;

&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;java.io.FileReader&lt;/span&gt;&lt;span class="o"&gt;;&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;java.util.ArrayList&lt;/span&gt;&lt;span class="o"&gt;;&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;java.util.HashMap&lt;/span&gt;&lt;span class="o"&gt;;&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;java.util.List&lt;/span&gt;&lt;span class="o"&gt;;&lt;/span&gt;

&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;javax.rules.ConfigurationException&lt;/span&gt;&lt;span class="o"&gt;;&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;javax.rules.RuleRuntime&lt;/span&gt;&lt;span class="o"&gt;;&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;javax.rules.RuleServiceProvider&lt;/span&gt;&lt;span class="o"&gt;;&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;javax.rules.RuleServiceProviderManager&lt;/span&gt;&lt;span class="o"&gt;;&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;javax.rules.StatelessRuleSession&lt;/span&gt;&lt;span class="o"&gt;;&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;javax.rules.admin.LocalRuleExecutionSetProvider&lt;/span&gt;&lt;span class="o"&gt;;&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;javax.rules.admin.RuleAdministrator&lt;/span&gt;&lt;span class="o"&gt;;&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;javax.rules.admin.RuleExecutionSet&lt;/span&gt;&lt;span class="o"&gt;;&lt;/span&gt;

&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;org.drools.jsr94.rules.RuleServiceProviderImpl&lt;/span&gt;&lt;span class="o"&gt;;&lt;/span&gt;

&lt;span class="kd"&gt;public&lt;/span&gt; &lt;span class="kd"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;JSR94Sample&lt;/span&gt; &lt;span class="o"&gt;{&lt;/span&gt;
    &lt;span class="kd"&gt;private&lt;/span&gt; &lt;span class="kd"&gt;static&lt;/span&gt; &lt;span class="n"&gt;RuleServiceProvider&lt;/span&gt; &lt;span class="n"&gt;ruleProvider&lt;/span&gt;&lt;span class="o"&gt;;&lt;/span&gt;

    &lt;span class="kd"&gt;private&lt;/span&gt; &lt;span class="kd"&gt;static&lt;/span&gt; &lt;span class="kt"&gt;void&lt;/span&gt; &lt;span class="nf"&gt;initProvider&lt;/span&gt;&lt;span class="o"&gt;(){&lt;/span&gt;
        &lt;span class="n"&gt;String&lt;/span&gt; &lt;span class="n"&gt;uri&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;RuleServiceProviderImpl&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;RULE_SERVICE_PROVIDER&lt;/span&gt;&lt;span class="o"&gt;;&lt;/span&gt;
        &lt;span class="n"&gt;Class&lt;/span&gt; &lt;span class="n"&gt;providerClass&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;RuleServiceProviderImpl&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;class&lt;/span&gt;&lt;span class="o"&gt;;&lt;/span&gt;

        &lt;span class="k"&gt;try&lt;/span&gt;&lt;span class="o"&gt;{&lt;/span&gt;
            &lt;span class="c1"&gt;//注册ruleProvider&lt;/span&gt;
            &lt;span class="n"&gt;RuleServiceProviderManager&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;registerRuleServiceProvider&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="n"&gt;uri&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="n"&gt;providerClass&lt;/span&gt;&lt;span class="o"&gt;);&lt;/span&gt;

            &lt;span class="c1"&gt;//从RuleServiceProviderManager获取ruleProvider&lt;/span&gt;
            &lt;span class="n"&gt;ruleProvider&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;RuleServiceProviderManager&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;getRuleServiceProvider&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="n"&gt;uri&lt;/span&gt;&lt;span class="o"&gt;);&lt;/span&gt;
        &lt;span class="o"&gt;}&lt;/span&gt;&lt;span class="k"&gt;catch&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ConfigurationException&lt;/span&gt; &lt;span class="n"&gt;e&lt;/span&gt;&lt;span class="o"&gt;){&lt;/span&gt;
            &lt;span class="n"&gt;e&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;printStackTrace&lt;/span&gt;&lt;span class="o"&gt;();&lt;/span&gt;
        &lt;span class="o"&gt;}&lt;/span&gt;
    &lt;span class="o"&gt;}&lt;/span&gt;

    &lt;span class="kd"&gt;private&lt;/span&gt; &lt;span class="kd"&gt;static&lt;/span&gt; &lt;span class="kt"&gt;void&lt;/span&gt; &lt;span class="nf"&gt;adminSample&lt;/span&gt;&lt;span class="o"&gt;(){&lt;/span&gt;


        &lt;span class="k"&gt;try&lt;/span&gt;&lt;span class="o"&gt;{&lt;/span&gt;
            &lt;span class="c1"&gt;//获取RuleAdministrator实例&lt;/span&gt;
            &lt;span class="n"&gt;RuleAdministrator&lt;/span&gt; &lt;span class="n"&gt;admin&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;ruleProvider&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;getRuleAdministrator&lt;/span&gt;&lt;span class="o"&gt;();&lt;/span&gt;

            &lt;span class="c1"&gt;//获取RuleExectuionSetProvider&lt;/span&gt;
            &lt;span class="n"&gt;HashMap&lt;/span&gt; &lt;span class="n"&gt;properties&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;new&lt;/span&gt; &lt;span class="n"&gt;HashMap&lt;/span&gt;&lt;span class="o"&gt;();&lt;/span&gt;
            &lt;span class="n"&gt;properties&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;put&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="s"&gt;"name"&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="s"&gt;"My Rules"&lt;/span&gt;&lt;span class="o"&gt;);&lt;/span&gt;
            &lt;span class="n"&gt;properties&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;put&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="s"&gt;"description"&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="s"&gt;"A trivial rulebase"&lt;/span&gt;&lt;span class="o"&gt;);&lt;/span&gt;

            &lt;span class="n"&gt;LocalRuleExecutionSetProvider&lt;/span&gt; &lt;span class="n"&gt;ruleExecutionSetProvider&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;admin&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;getLocalRuleExecutionSetProvider&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="n"&gt;properties&lt;/span&gt;&lt;span class="o"&gt;);&lt;/span&gt;

            &lt;span class="c1"&gt;//创建RuleExecutionSet&lt;/span&gt;
            &lt;span class="n"&gt;FileReader&lt;/span&gt; &lt;span class="n"&gt;reader&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;new&lt;/span&gt; &lt;span class="n"&gt;FileReader&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="s"&gt;"bin/sample.drl"&lt;/span&gt;&lt;span class="o"&gt;);&lt;/span&gt;
            &lt;span class="n"&gt;RuleExecutionSet&lt;/span&gt; &lt;span class="n"&gt;reSet&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;ruleExecutionSetProvider&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;createRuleExecutionSet&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="n"&gt;reader&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="n"&gt;properties&lt;/span&gt;&lt;span class="o"&gt;);&lt;/span&gt;

            &lt;span class="c1"&gt;//注册RuleExecutionSet&lt;/span&gt;
            &lt;span class="n"&gt;admin&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;registerRuleExecutionSet&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="s"&gt;"mysample"&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt;&lt;span class="n"&gt;reSet&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt;&lt;span class="n"&gt;properties&lt;/span&gt;&lt;span class="o"&gt;);&lt;/span&gt;
        &lt;span class="o"&gt;}&lt;/span&gt;&lt;span class="k"&gt;catch&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Exception&lt;/span&gt; &lt;span class="n"&gt;e&lt;/span&gt;&lt;span class="o"&gt;){&lt;/span&gt;
            &lt;span class="n"&gt;e&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;printStackTrace&lt;/span&gt;&lt;span class="o"&gt;();&lt;/span&gt;
        &lt;span class="o"&gt;}&lt;/span&gt;

    &lt;span class="o"&gt;}&lt;/span&gt;


    &lt;span class="kd"&gt;private&lt;/span&gt; &lt;span class="kd"&gt;static&lt;/span&gt; &lt;span class="kt"&gt;void&lt;/span&gt; &lt;span class="nf"&gt;runtimeSampe&lt;/span&gt;&lt;span class="o"&gt;(){&lt;/span&gt;
        &lt;span class="k"&gt;try&lt;/span&gt;&lt;span class="o"&gt;{&lt;/span&gt;
            &lt;span class="c1"&gt;//获取RuleRuntime, 创建会话&lt;/span&gt;
            &lt;span class="n"&gt;RuleRuntime&lt;/span&gt; &lt;span class="n"&gt;runtime&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;ruleProvider&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;getRuleRuntime&lt;/span&gt;&lt;span class="o"&gt;();&lt;/span&gt;
            &lt;span class="n"&gt;StatelessRuleSession&lt;/span&gt; &lt;span class="n"&gt;ruleSession&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="n"&gt;StatelessRuleSession&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;&lt;span class="n"&gt;runtime&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;createRuleSession&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="s"&gt;"mysample"&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt;&lt;span class="kc"&gt;null&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt;&lt;span class="n"&gt;RuleRuntime&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;STATELESS_SESSION_TYPE&lt;/span&gt;&lt;span class="o"&gt;);&lt;/span&gt;

            &lt;span class="c1"&gt;//初始化输入数据&lt;/span&gt;
            &lt;span class="n"&gt;Message&lt;/span&gt; &lt;span class="n"&gt;message1&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;new&lt;/span&gt; &lt;span class="n"&gt;Message&lt;/span&gt;&lt;span class="o"&gt;();&lt;/span&gt;
            &lt;span class="n"&gt;message1&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;setMessage&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="s"&gt;"Hello World"&lt;/span&gt;&lt;span class="o"&gt;);&lt;/span&gt;
            &lt;span class="n"&gt;message1&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;setStatus&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Message&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;HELLO&lt;/span&gt;&lt;span class="o"&gt;);&lt;/span&gt;

            &lt;span class="n"&gt;Message&lt;/span&gt; &lt;span class="n"&gt;message2&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;new&lt;/span&gt; &lt;span class="n"&gt;Message&lt;/span&gt;&lt;span class="o"&gt;();&lt;/span&gt;
            &lt;span class="n"&gt;message2&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;setMessage&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="s"&gt;"Goodbye World"&lt;/span&gt;&lt;span class="o"&gt;);&lt;/span&gt;
            &lt;span class="n"&gt;message2&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;setStatus&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Message&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;GOODBYE&lt;/span&gt;&lt;span class="o"&gt;);&lt;/span&gt;


            &lt;span class="n"&gt;List&lt;/span&gt; &lt;span class="n"&gt;inputs&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;new&lt;/span&gt; &lt;span class="n"&gt;ArrayList&lt;/span&gt;&lt;span class="o"&gt;();&lt;/span&gt;
            &lt;span class="n"&gt;inputs&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;add&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="n"&gt;message1&lt;/span&gt;&lt;span class="o"&gt;);&lt;/span&gt;
            &lt;span class="n"&gt;inputs&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;add&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="n"&gt;message2&lt;/span&gt;&lt;span class="o"&gt;);&lt;/span&gt;

            &lt;span class="c1"&gt;//执行规则&lt;/span&gt;
            &lt;span class="n"&gt;List&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;Message&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;results&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;ruleSession&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;executeRules&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="n"&gt;inputs&lt;/span&gt;&lt;span class="o"&gt;);&lt;/span&gt;
            &lt;span class="k"&gt;for&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="o"&gt;;&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;results&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;size&lt;/span&gt;&lt;span class="o"&gt;();&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="o"&gt;++){&lt;/span&gt;
                &lt;span class="n"&gt;Message&lt;/span&gt; &lt;span class="n"&gt;msg&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;results&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;get&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="o"&gt;);&lt;/span&gt;
                &lt;span class="n"&gt;System&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;out&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;println&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="n"&gt;msg&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;message&lt;/span&gt;&lt;span class="o"&gt;);&lt;/span&gt;
            &lt;span class="o"&gt;}&lt;/span&gt;


            &lt;span class="c1"&gt;//释放会话资源&lt;/span&gt;
            &lt;span class="n"&gt;ruleSession&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;release&lt;/span&gt;&lt;span class="o"&gt;();&lt;/span&gt;

        &lt;span class="o"&gt;}&lt;/span&gt;&lt;span class="k"&gt;catch&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Exception&lt;/span&gt; &lt;span class="n"&gt;e&lt;/span&gt;&lt;span class="o"&gt;){&lt;/span&gt;
            &lt;span class="n"&gt;e&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;printStackTrace&lt;/span&gt;&lt;span class="o"&gt;();&lt;/span&gt;
        &lt;span class="o"&gt;}&lt;/span&gt;
    &lt;span class="o"&gt;}&lt;/span&gt;


    &lt;span class="kd"&gt;public&lt;/span&gt; &lt;span class="kd"&gt;static&lt;/span&gt; &lt;span class="kt"&gt;void&lt;/span&gt; &lt;span class="nf"&gt;main&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="n"&gt;String&lt;/span&gt;&lt;span class="o"&gt;[]&lt;/span&gt; &lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="o"&gt;{&lt;/span&gt;
        &lt;span class="c1"&gt;// TODO Auto-generated method stub&lt;/span&gt;
        &lt;span class="n"&gt;initProvider&lt;/span&gt;&lt;span class="o"&gt;();&lt;/span&gt;
        &lt;span class="n"&gt;adminSample&lt;/span&gt;&lt;span class="o"&gt;();&lt;/span&gt;
        &lt;span class="n"&gt;runtimeSampe&lt;/span&gt;&lt;span class="o"&gt;();&lt;/span&gt;
    &lt;span class="o"&gt;}&lt;/span&gt;


    &lt;span class="kd"&gt;public&lt;/span&gt; &lt;span class="kd"&gt;static&lt;/span&gt; &lt;span class="kd"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;Message&lt;/span&gt; &lt;span class="o"&gt;{&lt;/span&gt;

        &lt;span class="kd"&gt;public&lt;/span&gt; &lt;span class="kd"&gt;static&lt;/span&gt; &lt;span class="kd"&gt;final&lt;/span&gt; &lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;HELLO&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="o"&gt;;&lt;/span&gt;
        &lt;span class="kd"&gt;public&lt;/span&gt; &lt;span class="kd"&gt;static&lt;/span&gt; &lt;span class="kd"&gt;final&lt;/span&gt; &lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;GOODBYE&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="o"&gt;;&lt;/span&gt;

        &lt;span class="kd"&gt;private&lt;/span&gt; &lt;span class="n"&gt;String&lt;/span&gt; &lt;span class="n"&gt;message&lt;/span&gt;&lt;span class="o"&gt;;&lt;/span&gt;

        &lt;span class="kd"&gt;private&lt;/span&gt; &lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;status&lt;/span&gt;&lt;span class="o"&gt;;&lt;/span&gt;

        &lt;span class="kd"&gt;public&lt;/span&gt; &lt;span class="n"&gt;String&lt;/span&gt; &lt;span class="nf"&gt;getMessage&lt;/span&gt;&lt;span class="o"&gt;()&lt;/span&gt; &lt;span class="o"&gt;{&lt;/span&gt;
            &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;message&lt;/span&gt;&lt;span class="o"&gt;;&lt;/span&gt;
        &lt;span class="o"&gt;}&lt;/span&gt;

        &lt;span class="kd"&gt;public&lt;/span&gt; &lt;span class="kt"&gt;void&lt;/span&gt; &lt;span class="nf"&gt;setMessage&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="n"&gt;String&lt;/span&gt; &lt;span class="n"&gt;message&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="o"&gt;{&lt;/span&gt;
            &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;message&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;message&lt;/span&gt;&lt;span class="o"&gt;;&lt;/span&gt;
        &lt;span class="o"&gt;}&lt;/span&gt;

        &lt;span class="kd"&gt;public&lt;/span&gt; &lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="nf"&gt;getStatus&lt;/span&gt;&lt;span class="o"&gt;()&lt;/span&gt; &lt;span class="o"&gt;{&lt;/span&gt;
            &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;status&lt;/span&gt;&lt;span class="o"&gt;;&lt;/span&gt;
        &lt;span class="o"&gt;}&lt;/span&gt;

        &lt;span class="kd"&gt;public&lt;/span&gt; &lt;span class="kt"&gt;void&lt;/span&gt; &lt;span class="nf"&gt;setStatus&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="kt"&gt;int&lt;/span&gt; &lt;span class="n"&gt;status&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt; &lt;span class="o"&gt;{&lt;/span&gt;
            &lt;span class="k"&gt;this&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="na"&gt;status&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;status&lt;/span&gt;&lt;span class="o"&gt;;&lt;/span&gt;
        &lt;span class="o"&gt;}&lt;/span&gt;

    &lt;span class="o"&gt;}&lt;/span&gt;

&lt;span class="o"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;规则文件使用的就是&lt;a href="/2012/12/06/rule_language.html"&gt;这里&lt;/a&gt;的例子。&lt;/p&gt;
&lt;h1 id="shi-xian-jsr94de-chan-pin"&gt;实现JSR94的产品&lt;/h1&gt;
&lt;p&gt;主要的一些实现了JSR94的规则引擎产品如下：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://www.jboss.org/drools/"&gt;Drools&lt;/a&gt;:   开源  DRL,xDRL,DSL,Decision Table ReteOO  Eclipse,excel   文件系统    jar&lt;/li&gt;
&lt;li&gt;&lt;a href="http://mandarax.sourceforge.net/"&gt;Mandarax&lt;/a&gt;:     开源  RuleML&lt;/li&gt;
&lt;li&gt;&lt;a href="http://openrules.com/"&gt;OpenRules&lt;/a&gt;:   开源  Decision Table  Rete    excel       war&lt;/li&gt;
&lt;li&gt;&lt;a href="http://jlisa.sourceforge.net/"&gt;JLisa&lt;/a&gt;:   开源&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www.fico.com/en/Products/DMTools/Pages/FICO-Blaze-Advisor-System.aspx"&gt;Blaze&lt;/a&gt;:    商业  SRL&lt;/li&gt;
&lt;li&gt;&lt;a href="http://www-01.ibm.com/software/integration/business-rule-management/jrules-family/"&gt;WebSphere ILOG JRules&lt;/a&gt;:  商业&lt;/li&gt;
&lt;li&gt;&lt;a href="http://herzberg.ca.sandia.gov/"&gt;JESS&lt;/a&gt;:   商业&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id="xiao-jie"&gt;小结&lt;/h1&gt;
&lt;p&gt;JSR94为规则引擎提供了公用标准API,为实现规则管理API和运行时API提供了指导规范, 目前已经获得很多开源/商业规则引擎产品的支持。 但是JSR94没有对&lt;a href="/2012/12/06/rule_language.html"&gt;规则的描述语言&lt;/a&gt;进行规范，导致各规则引擎产品大多采用自己私有的描述语言。&lt;/p&gt;</content><category term="规则引擎"></category><category term="Java"></category></entry><entry><title>Drools规则描述语言快速手册</title><link href="http://holbrook.github.io/2012/12/06/rule_language.html" rel="alternate"></link><published>2012-12-06T00:00:00+08:00</published><updated>2012-12-06T00:00:00+08:00</updated><author><name>Holbrook</name></author><id>tag:holbrook.github.io,2012-12-06:/2012/12/06/rule_language.html</id><summary type="html">&lt;p&gt;&lt;a href="/2012/03/20/rule_engine_1.html"&gt;在规则引擎中，通常会使用某种表述性的语言（而不是编程语言）来描述规则&lt;/a&gt;。
所以规则描述语言也是规则引擎的一个重要组成部分。&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;a href="/2012/03/20/rule_engine_1.html"&gt;在规则引擎中，通常会使用某种表述性的语言（而不是编程语言）来描述规则&lt;/a&gt;。
所以规则描述语言也是规则引擎的一个重要组成部分。&lt;/p&gt;
&lt;p&gt;目前在规则描述语言方面，并没有一个通用的标准获得规则引擎厂商的广泛支持，大部分规则描述语言都是厂商私有的。&lt;/p&gt;
&lt;p&gt;大体来说，规则语言可以分为结构化的（Structured)和基于标记的（Markup，通常为xml）。&lt;/p&gt;
&lt;p&gt;常见的规则描述语言包括：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;srl(Structured Rule Language) : Fair Isaac（以前是Blaze Software）定义的结构化规则描述语言&lt;/li&gt;
&lt;li&gt;drl(Drools Rule Language) : Jboss（以前是drools.org)定义的结构化规则描述语言&lt;/li&gt;
&lt;li&gt;RuleML(Rule Markup Language）: www.ruleml.org定义的xml规则描述语言&lt;/li&gt;
&lt;li&gt;SRML(Simple Rule Markup Language): xml规则描述语言&lt;/li&gt;
&lt;li&gt;BRML(Business Rules Markup Language):xml规则描述语言&lt;/li&gt;
&lt;li&gt;SWRL（A Semantic Web Rule Language):www.daml.org定义的xml规则描述语言&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;不管是哪种规则描述语言，都需要描述一组条件以及在此条件下执行的操作（即规则）。&lt;/p&gt;
&lt;h1 id="gai-lan"&gt;概览&lt;/h1&gt;
&lt;p&gt;下面是一个drl的例子：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;package&lt;/span&gt; &lt;span class="n"&gt;com&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sample&lt;/span&gt;

&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;com.sample.DroolsTest.Message&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

&lt;span class="n"&gt;rule&lt;/span&gt; &lt;span class="s2"&gt;"Hello World"&lt;/span&gt;
    &lt;span class="n"&gt;when&lt;/span&gt;
        &lt;span class="n"&gt;m&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;Message&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="n"&gt;status&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="n"&gt;Message&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;HELLO&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;myMessage&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;message&lt;/span&gt; &lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;then&lt;/span&gt;
        &lt;span class="n"&gt;System&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;out&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;println&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="n"&gt;myMessage&lt;/span&gt; &lt;span class="p"&gt;);&lt;/span&gt;
        &lt;span class="n"&gt;m&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;setMessage&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="s2"&gt;"Goodbye cruel world"&lt;/span&gt; &lt;span class="p"&gt;);&lt;/span&gt;
        &lt;span class="n"&gt;m&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;setStatus&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="n"&gt;Message&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;GOODBYE&lt;/span&gt; &lt;span class="p"&gt;);&lt;/span&gt;
        &lt;span class="n"&gt;update&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="n"&gt;m&lt;/span&gt; &lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="n"&gt;end&lt;/span&gt;

&lt;span class="n"&gt;rule&lt;/span&gt; &lt;span class="s2"&gt;"GoodBye"&lt;/span&gt;
    &lt;span class="n"&gt;when&lt;/span&gt;
        &lt;span class="n"&gt;Message&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="n"&gt;status&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="n"&gt;Message&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;GOODBYE&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;myMessage&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;message&lt;/span&gt; &lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;then&lt;/span&gt;
        &lt;span class="n"&gt;System&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;out&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;println&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt; &lt;span class="n"&gt;myMessage&lt;/span&gt; &lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="n"&gt;end&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;完整的drl文件会包含以下几个部分：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;package 声明&lt;/li&gt;
&lt;li&gt;imports&lt;/li&gt;
&lt;li&gt;declares&lt;/li&gt;
&lt;li&gt;globals&lt;/li&gt;
&lt;li&gt;functions&lt;/li&gt;
&lt;li&gt;queries&lt;/li&gt;
&lt;li&gt;rules&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id="packagehe-importsheng-ming"&gt;package和import声明&lt;/h1&gt;
&lt;p&gt;与Java语言类似，drl的头部需要有package和import的声明。&lt;/p&gt;
&lt;p&gt;规则文件当中必须要有一个 &lt;strong&gt;package&lt;/strong&gt; 声明,同时 package 声明必须要放在规则文件的第一行。&lt;/p&gt;
&lt;h1 id="gui-ze-ding-yi"&gt;规则定义&lt;/h1&gt;
&lt;p&gt;drl中，一个规则的标准结构如下：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;rule "name"
    attributes
    when
        LHS
    then
        RHS
end
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;一个规则通常包括三个部分:属性部分(attribute)、条件 部分(LHS)和结果部分(RHS)。&lt;/p&gt;
&lt;h2 id="tiao-jian-bu-fen-lhs"&gt;条件部分(LHS)&lt;/h2&gt;
&lt;p&gt;在 LHS 当中,可以包含多个条件,如果 LHS 部分没空的话,那么引擎会自动添加一 个 eval(true)的条件。&lt;/p&gt;
&lt;p&gt;多个条件之间之间用可以使用 &lt;strong&gt;and&lt;/strong&gt; 或 &lt;strong&gt;or&lt;/strong&gt; 来进行连接。默认是 &lt;strong&gt;and&lt;/strong&gt; 关系。&lt;/p&gt;
&lt;p&gt;每个条件的语法为：&lt;/p&gt;
&lt;p&gt;[绑定变量名:]Object([field 约束])&lt;/p&gt;
&lt;p&gt;&amp;ldquo;绑定变量名&amp;rdquo;是可选的。绑定的变量可以在该LHS后续的条件中引用。&lt;/p&gt;
&lt;p&gt;&amp;ldquo;field 约束&amp;rdquo;是指当前对象里相关字段的条件限制, 多个约束之间可以用&amp;ldquo;&amp;amp;&amp;amp;&amp;rdquo;(and)、&amp;ldquo;||&amp;rdquo;(or)和&amp;ldquo;,&amp;rdquo;(and)来连接。&lt;/p&gt;
&lt;p&gt;举例如下：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="x"&gt;when&lt;/span&gt;
&lt;span class="x"&gt;    &lt;/span&gt;&lt;span class="p"&gt;$&lt;/span&gt;&lt;span class="nv"&gt;customer&lt;/span&gt;&lt;span class="x"&gt;:Customer()&lt;/span&gt;
&lt;span class="x"&gt;then&lt;/span&gt;
&lt;span class="x"&gt;    &amp;hellip;&amp;hellip;&lt;/span&gt;


&lt;span class="x"&gt;when&lt;/span&gt;
&lt;span class="x"&gt;    &lt;/span&gt;&lt;span class="p"&gt;$&lt;/span&gt;&lt;span class="nv"&gt;customer&lt;/span&gt;&lt;span class="x"&gt;:Customer(age&amp;gt;20,gender==􏰃male􏰃)&lt;/span&gt;
&lt;span class="x"&gt;    Order(customer==&lt;/span&gt;&lt;span class="p"&gt;$&lt;/span&gt;&lt;span class="nv"&gt;customer&lt;/span&gt;&lt;span class="x"&gt;,price&amp;gt;1000)&lt;/span&gt;
&lt;span class="x"&gt;then&lt;/span&gt;
&lt;span class="x"&gt;    &amp;hellip;&amp;hellip;&lt;/span&gt;


&lt;span class="x"&gt;when&lt;/span&gt;
&lt;span class="x"&gt;    Customer(age&amp;gt;20 || (gender=='male' &amp;amp;&amp;amp; city==&amp;lsquo;sh'))&lt;/span&gt;
&lt;span class="x"&gt;then&lt;/span&gt;
&lt;span class="x"&gt;    &amp;hellip;&amp;hellip;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;约束中可以使用的比较操作符包括：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&amp;gt;、&amp;gt;=、&amp;lt;、&amp;lt;=、= =、!=、contains、not contains、 memberof、not memberof、matches、not matches
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;举例如下：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nt"&gt;when&lt;/span&gt;
    &lt;span class="o"&gt;$&lt;/span&gt;&lt;span class="nt"&gt;order&lt;/span&gt;&lt;span class="nd"&gt;:Order&lt;/span&gt;&lt;span class="o"&gt;();&lt;/span&gt;
    &lt;span class="o"&gt;$&lt;/span&gt;&lt;span class="nt"&gt;customer&lt;/span&gt;&lt;span class="nd"&gt;:Customer&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nt"&gt;age&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="nt"&gt;20&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="nt"&gt;orders&lt;/span&gt; &lt;span class="nt"&gt;contains&lt;/span&gt; &lt;span class="o"&gt;$&lt;/span&gt;&lt;span class="nt"&gt;order&lt;/span&gt;&lt;span class="o"&gt;);&lt;/span&gt;
&lt;span class="nt"&gt;then&lt;/span&gt;
    &lt;span class="err"&gt;&amp;hellip;&amp;hellip;&lt;/span&gt;


&lt;span class="nt"&gt;when&lt;/span&gt;
    &lt;span class="o"&gt;$&lt;/span&gt;&lt;span class="nt"&gt;order&lt;/span&gt;&lt;span class="nd"&gt;:Order&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nt"&gt;name&lt;/span&gt; &lt;span class="nt"&gt;memberOf&lt;/span&gt; &lt;span class="nt"&gt;orderNames&lt;/span&gt;&lt;span class="o"&gt;);&lt;/span&gt; &lt;span class="err"&gt;#&lt;/span&gt; &lt;span class="nt"&gt;orderNames为数组或集合类型&lt;/span&gt;
&lt;span class="nt"&gt;then&lt;/span&gt;
    &lt;span class="err"&gt;&amp;hellip;&amp;hellip;&lt;/span&gt;

&lt;span class="nt"&gt;when&lt;/span&gt;
    &lt;span class="o"&gt;$&lt;/span&gt;&lt;span class="nt"&gt;customer&lt;/span&gt;&lt;span class="nd"&gt;:Customer&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nt"&gt;name&lt;/span&gt; &lt;span class="nt"&gt;matches&lt;/span&gt; &lt;span class="s2"&gt;"李.*"&lt;/span&gt;&lt;span class="o"&gt;);&lt;/span&gt; &lt;span class="err"&gt;#&lt;/span&gt; &lt;span class="nt"&gt;正则表达式匹配&lt;/span&gt;
&lt;span class="nt"&gt;then&lt;/span&gt;
    &lt;span class="err"&gt;&amp;hellip;&amp;hellip;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id="jie-guo-bu-fen-rhs"&gt;结果部分(RHS)&lt;/h2&gt;
&lt;p&gt;RHS 部分定义了当LHS满足是要进行的操作。&lt;/p&gt;
&lt;p&gt;RHS中可以编写代码，可以使用 LHS 部分当中定义的绑定变量名以及drl头部定义的全局变量。&lt;/p&gt;
&lt;p&gt;在 RHS 当中虽然可以直接编写 Java 代码,但不建议在代码当中有条件判断,如果需要条件判断,那么请重新考虑将其放在 LHS 当中,否则就违背了使用规则的初衷。&lt;/p&gt;
&lt;h3 id="shi-yong-hong-han-shu"&gt;使用宏函数&lt;/h3&gt;
&lt;p&gt;RHS中可以使用宏函数对工作空间(Working Memory)进行操作。当调用宏函数后，所有未设置&amp;ldquo;no-loop&amp;rdquo;属性的规则都会被重新匹配，符合条件的重新触发。&lt;/p&gt;
&lt;p&gt;宏函数包括：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;insert：将一个 Fact 对象插入到当前的 Working Memory&lt;/li&gt;
&lt;li&gt;update：对当前 Working Memory 中的 Fact 进行更新&lt;/li&gt;
&lt;li&gt;retract ：从 Working Memory 中删除某个 Fact 对象&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;这些宏函数都是StatefulSession中定义的方法。&lt;/p&gt;
&lt;p&gt;举例如下：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nt"&gt;when&lt;/span&gt;
    &lt;span class="err"&gt;&amp;hellip;&amp;hellip;&lt;/span&gt;
&lt;span class="nt"&gt;then&lt;/span&gt;
    &lt;span class="nt"&gt;Customer&lt;/span&gt; &lt;span class="nt"&gt;cus&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nt"&gt;new&lt;/span&gt; &lt;span class="nt"&gt;Customer&lt;/span&gt;&lt;span class="o"&gt;();&lt;/span&gt;
    &lt;span class="nt"&gt;cus&lt;/span&gt;&lt;span class="nc"&gt;.setName&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"张三"&lt;/span&gt;&lt;span class="o"&gt;);&lt;/span&gt;
    &lt;span class="nt"&gt;insert&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nt"&gt;cus&lt;/span&gt;&lt;span class="o"&gt;);&lt;/span&gt;


&lt;span class="nt"&gt;when&lt;/span&gt;
    &lt;span class="o"&gt;$&lt;/span&gt;&lt;span class="nt"&gt;customer&lt;/span&gt;&lt;span class="nd"&gt;:Customer&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="o"&gt;==&lt;/span&gt;&lt;span class="s2"&gt;"张三"&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;age&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;10&lt;/span&gt;&lt;span class="o"&gt;);&lt;/span&gt;
&lt;span class="nt"&gt;then&lt;/span&gt;
    &lt;span class="o"&gt;$&lt;/span&gt;&lt;span class="nt"&gt;customer&lt;/span&gt;&lt;span class="nc"&gt;.setAge&lt;/span&gt;&lt;span class="o"&gt;($&lt;/span&gt;&lt;span class="nt"&gt;customer&lt;/span&gt;&lt;span class="nc"&gt;.getAge&lt;/span&gt;&lt;span class="o"&gt;()+&lt;/span&gt;&lt;span class="nt"&gt;1&lt;/span&gt;&lt;span class="o"&gt;);&lt;/span&gt;
    &lt;span class="nt"&gt;update&lt;/span&gt;&lt;span class="o"&gt;($&lt;/span&gt;&lt;span class="nt"&gt;customer&lt;/span&gt;&lt;span class="o"&gt;);&lt;/span&gt;


&lt;span class="nt"&gt;when&lt;/span&gt;
    &lt;span class="o"&gt;$&lt;/span&gt;&lt;span class="nt"&gt;customer&lt;/span&gt;&lt;span class="nd"&gt;:Customer&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="o"&gt;==&lt;/span&gt;&lt;span class="s2"&gt;"张三"&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;age&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;10&lt;/span&gt;&lt;span class="o"&gt;);&lt;/span&gt;
&lt;span class="nt"&gt;then&lt;/span&gt;
    &lt;span class="nt"&gt;Customer&lt;/span&gt; &lt;span class="nt"&gt;customer&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nt"&gt;new&lt;/span&gt; &lt;span class="nt"&gt;Customer&lt;/span&gt;&lt;span class="o"&gt;();&lt;/span&gt;
    &lt;span class="nt"&gt;customer&lt;/span&gt;&lt;span class="nc"&gt;.setName&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"张三"&lt;/span&gt;&lt;span class="o"&gt;);&lt;/span&gt;
    &lt;span class="nt"&gt;customer&lt;/span&gt;&lt;span class="nc"&gt;.setAge&lt;/span&gt;&lt;span class="o"&gt;($&lt;/span&gt;&lt;span class="nt"&gt;customer&lt;/span&gt;&lt;span class="nc"&gt;.getAge&lt;/span&gt;&lt;span class="o"&gt;()+&lt;/span&gt;&lt;span class="nt"&gt;1&lt;/span&gt;&lt;span class="o"&gt;);&lt;/span&gt;

    &lt;span class="err"&gt;#&lt;/span&gt; &lt;span class="nt"&gt;用新对象替换Working&lt;/span&gt; &lt;span class="nt"&gt;Memory中的旧对象&lt;/span&gt;
    &lt;span class="nt"&gt;update&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nt"&gt;drools&lt;/span&gt;&lt;span class="nc"&gt;.getWorkingMemory&lt;/span&gt;&lt;span class="o"&gt;()&lt;/span&gt;&lt;span class="nc"&gt;.getFactHandleByIdentity&lt;/span&gt;&lt;span class="o"&gt;($&lt;/span&gt;&lt;span class="nt"&gt;customer&lt;/span&gt;&lt;span class="o"&gt;),&lt;/span&gt;&lt;span class="nt"&gt;customer&lt;/span&gt;&lt;span class="o"&gt;);&lt;/span&gt;


&lt;span class="nt"&gt;when&lt;/span&gt;
    &lt;span class="o"&gt;$&lt;/span&gt;&lt;span class="nt"&gt;customer&lt;/span&gt;&lt;span class="nd"&gt;:Customer&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="o"&gt;==&lt;/span&gt;&lt;span class="s2"&gt;"张三"&lt;/span&gt;&lt;span class="o"&gt;);&lt;/span&gt;
&lt;span class="nt"&gt;then&lt;/span&gt;
    &lt;span class="nt"&gt;retract&lt;/span&gt;&lt;span class="o"&gt;($&lt;/span&gt;&lt;span class="nt"&gt;customer&lt;/span&gt;&lt;span class="o"&gt;);&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id="modifydai-ma-kuai"&gt;modify代码块&lt;/h3&gt;
&lt;p&gt;modify代码块用于快速修改并更新(update)某个 Fact 对象的多个属性。语法及例子如下：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nt"&gt;modify&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nt"&gt;fact-expression&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="err"&gt;修改&lt;/span&gt; &lt;span class="n"&gt;Fact&lt;/span&gt; &lt;span class="err"&gt;属性的表达式&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;&lt;span class="cp"&gt;[&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nx"&gt;修改&lt;/span&gt; &lt;span class="nx"&gt;Fact&lt;/span&gt; &lt;span class="nx"&gt;属性的表达式&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;*&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;


&lt;span class="nt"&gt;when&lt;/span&gt;
    &lt;span class="o"&gt;$&lt;/span&gt;&lt;span class="nt"&gt;customer&lt;/span&gt;&lt;span class="nd"&gt;:Customer&lt;/span&gt;&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="o"&gt;==&lt;/span&gt;&lt;span class="s2"&gt;"张三"&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt;&lt;span class="nt"&gt;age&lt;/span&gt;&lt;span class="o"&gt;==&lt;/span&gt;&lt;span class="nt"&gt;20&lt;/span&gt;&lt;span class="o"&gt;);&lt;/span&gt;
&lt;span class="nt"&gt;then&lt;/span&gt;
    &lt;span class="nt"&gt;modify&lt;/span&gt;&lt;span class="o"&gt;($&lt;/span&gt;&lt;span class="nt"&gt;customer&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;&lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="n"&gt;setId&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"super man"&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt;
        &lt;span class="n"&gt;setAge&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="m"&gt;30&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id="droolshong-dui-xiang"&gt;drools宏对象&lt;/h3&gt;
&lt;p&gt;通过使用 drools 宏对象可以实现在规则文件里直接访问 Working Memory, 从而获取对当前的 Working Memory 的更多控制。&lt;/p&gt;
&lt;p&gt;drools 宏对象的常用方法包括：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;drools.getWorkingMemory()：获取当前的 WorkingMemory 对象&lt;/li&gt;
&lt;li&gt;drools.halt()：在当前规则执行完成后,不再执行 其它未执行的规则。&lt;/li&gt;
&lt;li&gt;drools.getRule()：得到当前的规则对象&lt;/li&gt;
&lt;li&gt;drools.insert(new Object)：向当前的 WorkingMemory 当中插入 指定的对象,功能与宏函数 insert 相同。&lt;/li&gt;
&lt;li&gt;drools.update(new Object)：更新当前的 WorkingMemory 中指定 的对象,功能与宏函数 update 相同。&lt;/li&gt;
&lt;li&gt;drools.update(FactHandle Object)：更新当前的 WorkingMemory 中指定 的对象,功能与宏函数 update 相同。&lt;/li&gt;
&lt;li&gt;drools.retract(new Object)：从当前的 WorkingMemory 中删除指 定的对象,功能与宏函数 retract 相 同。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;例如：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;when
    eval(true);
then
    Customer cus=new Customer();
    cus.setName("张三");
    drools.insert(cus)
&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id="kcontexthong-dui-xiang"&gt;kcontext宏对象&lt;/h3&gt;
&lt;p&gt;kcontext 也是 Drools 提供的一个宏对象,它的作用主要是用来得到当前的 KnowledgeRuntime 对象,KnowledgeRuntime 对象可以实现与引擎的各种交互。&lt;/p&gt;
&lt;h2 id="gui-ze-shu-xing_1"&gt;规则属性&lt;/h2&gt;
&lt;p&gt;主要的规则属性如下：&lt;/p&gt;
&lt;p&gt;13 个:  auto-focus、、lock-on-active、no-loop、 ruleflow-group、、when。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;salience&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;设置规则执行的优先级,数字越大越先执行，数字相同的使用随机顺序。默认值为0，可以设置为负数。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;no-loop&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;默认为false。设置为true时，表示该规则只会被引擎检查一次。引擎内部对Fact更新时，忽略本规则的再次检查。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;date-effective&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;设置规则的开始生效日期。默认接受&amp;ldquo;dd-MMM-yyyy&amp;rdquo;格式的字符串。可以用代码修改日期格式，如：&lt;/p&gt;
&lt;p&gt;&lt;code&gt;System.setProperty("drools.dateformat","yyyy-MM-dd")&lt;/code&gt;。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;date-expires&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;设置规则的过期日期。格式与&lt;code&gt;date-effective&lt;/code&gt;相同。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;enabled&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;默认为true。设置规则是否可用。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;dialect&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;设置规则中使用的编程语言。默认为java，还可以设置为mvel。通过drools.getRule().getDialect()可以获取该属性的设置。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;duration&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;延迟指定的时间后，在 &lt;strong&gt;另一个线程中&lt;/strong&gt; 触发规则。单位为毫秒。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;activation-group&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;为规则划指定一个活动组（组名为字符串）。同一个活动组中的规则只执行一个，根据优先级(salience)来决定执行哪一个规则。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;agenda-group 和 auto-focus&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;为规则指定一个议程(agenda)组。指定了议程组的规则只有在该议程组得到焦点时才被触发。但如果规则同时指定了auto-focus属性为true，则该规则自动得到焦点。&lt;/p&gt;
&lt;p&gt;指定议程组焦点可以通过回话(session)：&lt;/p&gt;
&lt;p&gt;&lt;code&gt;session.getAgenda().getAgendaGroup("GROUP_NAME").setFocus();
  session.fireAllRules();&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;也可以实现org.drools.runtime.rule.AgendaFilter 接口：&lt;/p&gt;
&lt;p&gt;{% highlight java %}
    package test;
    import org.drools.runtime.rule.Activation;
    import org.drools.runtime.rule.AgendaFilter;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;public class TestAgendaFilter implements AgendaFilter {
    private String startName;
    public TestAgendaFilter(String startName){
        this.startName=startName;
    }
    public boolean accept(Activation activation) {
        String ruleName=activation.getRule().getName();
        if(ruleName.startsWith(this.startName)){
            return true;
        }else{
            return false;
        }
    }
}
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;{% endhighlight %}&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ruleflow-group&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;指定规则流组。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;lock-on-active&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;当在规则上使用 ruleflow-group 属性或 agenda-group 属性的时候,将 lock-on-action 属性 的值设置为 true,可能避免因某些 Fact 对象被修改而使已经执行过的规则再次被激活执行。lock-on-active 是 no-loop 的增强版属性，在规则流中很有用。&lt;/p&gt;
&lt;p&gt;举例如下：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;rule "rule1"
    salience 1
    when
    &amp;hellip;&amp;hellip;
&lt;/pre&gt;&lt;/div&gt;
&lt;h1 id="zhu-shi_1"&gt;注释&lt;/h1&gt;
&lt;p&gt;Drools 当中注释的写法与编写 Java 类的注 释的写法完全相同,注释的写法分两种:单行注释与多行注释。&lt;/p&gt;
&lt;p&gt;单行注释可以采用&amp;ldquo;#&amp;rdquo;或者&amp;ldquo;//&amp;rdquo;来进行标记， 多行注释以&amp;ldquo;/&lt;em&gt;&amp;rdquo;开始,以&amp;ldquo;&lt;/em&gt;/&amp;rdquo;结束。&lt;/p&gt;
&lt;p&gt;例如：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="cm"&gt;/* 规则rule1的注释&lt;/span&gt;
&lt;span class="cm"&gt;这是一个测试用规则&lt;/span&gt;
&lt;span class="cm"&gt;*/&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
rule&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s"&gt;"rule1"&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;when&lt;span class="w"&gt;&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;eval&lt;span class="o"&gt;(&lt;/span&gt;true&lt;span class="o"&gt;)&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="err"&gt;#没有条件判断&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;span class="w"&gt;    &lt;/span&gt;&lt;span class="kr"&gt;then&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;span class="w"&gt;        &lt;/span&gt;System&lt;span class="o"&gt;.&lt;/span&gt;out&lt;span class="o"&gt;.&lt;/span&gt;println&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="s"&gt;"rule1 execute"&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;&lt;span class="err"&gt;;&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="o"&gt;//&lt;/span&gt;&lt;span class="err"&gt;仅仅是输出&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;span class="kr"&gt;end&lt;/span&gt;&lt;span class="w"&gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h1 id="lei-xing-sheng-ming"&gt;类型声明&lt;/h1&gt;
&lt;p&gt;可以在规则文件中定义Fact类型，而不需要编写Java类。比如：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;declare Address
    city : String
    addressName : String
end

declare Person
    name:String
    birthday:Date
    address:Address //使用declare声明的对象作为address属性类型
    order:Order //使用名为Order的JavaBean作为order属性类型
end
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;在KnowledgeBase中可以获取规则文件中定义的Fact类型，比如：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;//获取规则文件当中定义的Address对象并对其进行实例化
FactType addressType=knowledgeBase.getFactType("test","Address");
Object add=addressType.newInstance();
addressType.set(add, "city","Beijing");
addressType.set(add, "addressName","Capital");
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;在声明中还可以定义元数据。可以为 Fact 对象、Fact对象的属性或者是规则来定义元数据,元数据定义采用的是&amp;ldquo;@&amp;rdquo;符号开头。&lt;/p&gt;
&lt;p&gt;比如：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;declare User
    @createTime(2009-10-25)
    username : String @maxLenth(30)
    userid : String @key
    birthday : java.util.Date
end
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;元数据的获取？(TODO)&lt;/p&gt;
&lt;h1 id="quan-ju-bian-liang-todo"&gt;全局变量（TODO）&lt;/h1&gt;
&lt;h1 id="han-shu-he-import-function"&gt;函数和import function&lt;/h1&gt;
&lt;h2 id="han-shu-de-ding-yi-he-shi-yong"&gt;函数的定义和使用&lt;/h2&gt;
&lt;p&gt;函数是定义在规则文件当中一代码块,作用是将在规则文件当中若干个规则都会用到的业务操作封装起来,实现业务代码的复用,减少规则编写的工作量。
函数的可见范围是函数所在的规则文件。&lt;/p&gt;
&lt;p&gt;函数以function定义，可以是void，也可以有返回值。例如：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;package&lt;/span&gt; &lt;span class="n"&gt;test&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;java.util.List&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;java.util.ArrayList&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="o"&gt;/*&lt;/span&gt;
&lt;span class="err"&gt;一个测试函数&lt;/span&gt;
&lt;span class="err"&gt;用来向&lt;/span&gt;&lt;span class="n"&gt;Customer对象当中添加指定数量的Order对象的函数&lt;/span&gt;
&lt;span class="o"&gt;*/&lt;/span&gt;

&lt;span class="n"&gt;function&lt;/span&gt; &lt;span class="n"&gt;void&lt;/span&gt; &lt;span class="n"&gt;setOrder&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Customer&lt;/span&gt; &lt;span class="n"&gt;customer&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="nb"&gt;int&lt;/span&gt; &lt;span class="n"&gt;orderSize&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="n"&gt;List&lt;/span&gt; &lt;span class="n"&gt;ls&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;new&lt;/span&gt; &lt;span class="n"&gt;ArrayList&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
    &lt;span class="k"&gt;for&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;int&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt; &lt;span class="n"&gt;orderSize&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="o"&gt;++&lt;/span&gt;&lt;span class="p"&gt;){&lt;/span&gt;
        &lt;span class="n"&gt;Order&lt;/span&gt; &lt;span class="n"&gt;order&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;new&lt;/span&gt; &lt;span class="n"&gt;Order&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
        &lt;span class="n"&gt;ls&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;add&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;order&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
    &lt;span class="n"&gt;customer&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;setOrders&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ls&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="o"&gt;/*&lt;/span&gt;
&lt;span class="err"&gt;测试规则&lt;/span&gt;
&lt;span class="o"&gt;*/&lt;/span&gt;
&lt;span class="n"&gt;rule&lt;/span&gt; &lt;span class="s2"&gt;"rule1"&lt;/span&gt; &lt;span class="n"&gt;when&lt;/span&gt;
    &lt;span class="err"&gt;$&lt;/span&gt;&lt;span class="n"&gt;customer&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="n"&gt;Customer&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
&lt;span class="n"&gt;then&lt;/span&gt;
    &lt;span class="n"&gt;setOrder&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="err"&gt;$&lt;/span&gt;&lt;span class="n"&gt;customer&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="n"&gt;System&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;out&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;println&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"rule 1 customer has order size:"&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="err"&gt;$&lt;/span&gt;&lt;span class="n"&gt;customer&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;getOrders&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;size&lt;/span&gt;&lt;span class="p"&gt;());&lt;/span&gt;
&lt;span class="n"&gt;end&lt;/span&gt;

&lt;span class="o"&gt;/*&lt;/span&gt;
&lt;span class="err"&gt;测试规则&lt;/span&gt;
&lt;span class="o"&gt;*/&lt;/span&gt;
&lt;span class="n"&gt;rule&lt;/span&gt; &lt;span class="s2"&gt;"rule2"&lt;/span&gt; &lt;span class="n"&gt;when&lt;/span&gt;
    &lt;span class="err"&gt;$&lt;/span&gt;&lt;span class="n"&gt;customer&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="n"&gt;Customer&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
&lt;span class="n"&gt;then&lt;/span&gt;
    &lt;span class="n"&gt;setOrder&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="err"&gt;$&lt;/span&gt;&lt;span class="n"&gt;customer&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="n"&gt;System&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;out&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;println&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"rule 2 customer has order size:"&lt;/span&gt;&lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="err"&gt;$&lt;/span&gt;&lt;span class="n"&gt;customer&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;getOrders&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;size&lt;/span&gt;&lt;span class="p"&gt;());&lt;/span&gt;
&lt;span class="n"&gt;end&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h2 id="yin-ru-jing-tai-fang-fa"&gt;引入静态方法&lt;/h2&gt;
&lt;p&gt;实际应用当中,可以考虑使用在 Java 类当中定义静态方法的办法来替代在规则文件当 中定义函数。&lt;/p&gt;
&lt;p&gt;Drools 提供了一个特殊的 import 语句:import function,通过该 import 语句,可以实现将一个 Java 类中静态方法引入到一个规则文件当中,使得该文件当中的规 则可以像使用普通的 Drools 函数一样来使用 Java 类中某个静态方法。&lt;/p&gt;
&lt;p&gt;比如：&lt;/p&gt;
&lt;p _="%" endhighlight=""&gt;{% highlight java %}
package test;
public class RuleTools {
    public static void printInfo(String name){
        System.out.println("your name is :"+name);
    }
}&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;package&lt;/span&gt; &lt;span class="n"&gt;test&lt;/span&gt;
&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;function&lt;/span&gt; &lt;span class="nn"&gt;test.RuleTools.printInfo&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="o"&gt;/*&lt;/span&gt;
&lt;span class="err"&gt;测试规则&lt;/span&gt;
&lt;span class="o"&gt;*/&lt;/span&gt;
&lt;span class="n"&gt;rule&lt;/span&gt; &lt;span class="s2"&gt;"rule1"&lt;/span&gt;
    &lt;span class="n"&gt;when&lt;/span&gt;
        &lt;span class="nb"&gt;eval&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;true&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
    &lt;span class="n"&gt;then&lt;/span&gt;
        &lt;span class="n"&gt;printInfo&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;"test import function"&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="n"&gt;end&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;h1 id="cha-xun-ding-yi_1"&gt;查询定义&lt;/h1&gt;
&lt;p&gt;查询用于根据条件在当前的 WorkingMemory 当中查找 Fact。Drools 当中查询可分为两种:一种是不需要外部传入参数;一种是需要外部传入参 数。&lt;/p&gt;
&lt;p&gt;如：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="x"&gt;query "testQuery"&lt;/span&gt;
&lt;span class="x"&gt;    customer:Customer(age&amp;gt;30,orders.size &amp;gt;10)&lt;/span&gt;
&lt;span class="x"&gt;end&lt;/span&gt;

&lt;span class="x"&gt;query "testQuery2"(int &lt;/span&gt;&lt;span class="p"&gt;$&lt;/span&gt;&lt;span class="nv"&gt;age&lt;/span&gt;&lt;span class="x"&gt;,String &lt;/span&gt;&lt;span class="p"&gt;$&lt;/span&gt;&lt;span class="nv"&gt;gender&lt;/span&gt;&lt;span class="x"&gt;)&lt;/span&gt;
&lt;span class="x"&gt;    customer:Customer(age&amp;gt;&lt;/span&gt;&lt;span class="p"&gt;$&lt;/span&gt;&lt;span class="nv"&gt;age&lt;/span&gt;&lt;span class="x"&gt;,gender==&lt;/span&gt;&lt;span class="p"&gt;$&lt;/span&gt;&lt;span class="nv"&gt;gender&lt;/span&gt;&lt;span class="x"&gt;)&lt;/span&gt;
&lt;span class="x"&gt;end&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;通过session可以在外部调用规则文件中的查询，比如：&lt;/p&gt;
&lt;p&gt;{% highlight java %}
&amp;hellip;&amp;hellip;
QueryResults queryResults=statefulSession.getQueryResults("testQuery");
for(QueryResultsRow qr:queryResults){
    Customer cus=(Customer)qr.get("customer"); //打印查询结果
    System.out.println("customer name :"+cus.getName());
}&lt;/p&gt;
&lt;p&gt;QueryResults queryResults2=statefulSession.getQueryResults("testQuery2", new Object[]{new Integer(20),"F"});&lt;/p&gt;
&lt;p _="%" endhighlight=""&gt;&amp;hellip;&amp;hellip;&lt;/p&gt;</content><category term="规则引擎"></category></entry><entry><title>规则引擎中常用的模式匹配算法</title><link href="http://holbrook.github.io/2012/12/05/algorithm_of_pattern_match.html" rel="alternate"></link><published>2012-12-05T00:00:00+08:00</published><updated>2012-12-05T00:00:00+08:00</updated><author><name>Holbrook</name></author><id>tag:holbrook.github.io,2012-12-05:/2012/12/05/algorithm_of_pattern_match.html</id><summary type="html">&lt;p&gt;规则引擎的核心是Pattern Matcher(模式匹配器)。不管是正向推理还是反向推理，首先要解决一个模式匹配的问题。&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;a href="/2012/03/20/rule_engine_1.html"&gt;前面&lt;/a&gt;提到，规则引擎的核心是Pattern Matcher(模式匹配器)。不管是正向推理还是反向推理，首先要解决一个模式匹配的问题。&lt;/p&gt;
&lt;p&gt;对于规则的模式匹配，可以定义为： 一个规则是一组模式的集合。如果事实/假设的状态符合该规则的所有模式，则称为该规则是可满足的。 模式匹配的任务就是将事实/假设的状态与规则库中的规则一一匹配，找到所有可满足的规则。&lt;/p&gt;
&lt;h1 id="shi-yao-shi-mo-shi-pi-pei"&gt;什么是模式匹配&lt;/h1&gt;
&lt;p&gt;对于模式匹配我们都应该不陌生，我们经常使用的正则表达式就是一种模式匹配。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;正则表达式是一种&amp;ldquo;模式（pattern）&amp;rdquo;&lt;/li&gt;
&lt;li&gt;编程语言提供的&amp;ldquo;正则表达式引擎&amp;rdquo;就是Pattern Matcher。比如python中的re模块&lt;/li&gt;
&lt;li&gt;首先输入&amp;ldquo;知识&amp;rdquo;：re.compile(r'string')&lt;/li&gt;
&lt;li&gt;然后就可以让其匹配（match）事实（字符串）&lt;/li&gt;
&lt;li&gt;最后通过正则表达式引擎可以得到匹配后的结果&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;对于规则匹配，通常定义如下：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;条件部分，也称为LHS(left-hand side)&lt;/li&gt;
&lt;li&gt;事实部分，也称为RHS(right-hand side)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;假设系统中有N条规则，平均每个规则的条件部分有P个模式，在某个时点有M个事实需要处理。则规则匹配要做的事情就是： 对每一个规则r，判断当前的事实o是否满足LHS(r)=True,如果满足，则将规则r的实例r(o)，即规则+满足该规则的事实，加到冲突集中等待处理。 通常采取如下过程：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;从N条规则中取出一条r；&lt;/li&gt;
&lt;li&gt;从M个事实中取出P个事实的一个组合c；&lt;/li&gt;
&lt;li&gt;用c测试LHS(r)，如果LHS(r（c）)=True，将RHS(r（c）)加入队列中；&lt;/li&gt;
&lt;li&gt;如果M个事实还存在其他的组合c，goto 3；&lt;/li&gt;
&lt;li&gt;取出下一条规则r，goto 2；&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;实际的问题可能更复杂，在规则的执行过程中可能会改变RHS的数据，从而使得已经匹配的规则实例失效或者产生新的满足规则的匹配，形成一种&amp;ldquo;动态&amp;rdquo;的匹配链。&lt;/p&gt;
&lt;p&gt;上面的处理由于涉及到组合，过程很复杂。有必要通过特定的算法优化匹配的效率。目前常见的模式匹配算法包括Rete、Treat、Leaps，HAL，Matchbox等。&lt;/p&gt;
&lt;h1 id="retesuan-fa"&gt;Rete算法&lt;/h1&gt;
&lt;p&gt;Rete算法是目前使用最广泛的规则匹配算法，由Charles L. Forgy博士在1979年发明。Rete算法是一种快速的Forward-Chaining推理算法，其匹配速度与规则的数量无关。 Rete的高效率主要来自两个重要的假设：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;时间冗余性&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;假设facts在推理过程中的变化是缓慢的, 即在每个执行周期中,只有少数的facts发生变化，因此影响到的规则也只占很小的比例。所以可以只考虑每个执行周期中已经匹配的facts.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;结构相似性&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;假设许多规则常常包含类似的模式和模式组。&lt;/p&gt;
&lt;p&gt;Rete算法的基本思想是保存过去匹配过程中留下的全部信息,以空间代价来换取执行效率 。对每一个模式 ,附加一个匹配元素表来记录WorkingMemory中所有能与之匹配的元素。当一个新元素加入到WorkingMemory时, 找出所有能与之匹配的模式, 并将该元素加入到匹配元素表中; 当一个无素从WorkingMemory中删除时,同样找出所有与该元素匹配的模式,并将元素从匹配元素表中删除。 Rete算法接受对工作存储器的修改操作描述 ,产生一个修改冲突集的动作 。&lt;/p&gt;
&lt;p&gt;Rete算法的步骤如下：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;将初始数据（fact）输入Working Memory。&lt;/li&gt;
&lt;li&gt;使用Pattern Matcher比较规则（rule）和数据（fact）。&lt;/li&gt;
&lt;li&gt;如果执行规则存在冲突（conflict），即同时激活了多个规则，将冲突的规则放入冲突集合。&lt;/li&gt;
&lt;li&gt;解决冲突，将激活的规则按顺序放入Agenda。&lt;/li&gt;
&lt;li&gt;使用规则引擎执行Agenda中的规则。重复步骤2至5，直到执行完毕所有Agenda中的规则。&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id="treadsuan-fa"&gt;Tread算法&lt;/h1&gt;
&lt;p&gt;在 Rete算法中 ,同一规则连接结点上的寄存器保留了大量的冗余结果。实际上, 寄存器中大部分信息已经体现在冲突集的规则实例中。因此 ,如果在部分匹配过程中直接使用冲突集来限制模式之间的变量约束,不仅可以减少寄存器的数量 ,而且能够加快匹配处理效率 。这一思想称为 冲突集支撑策略 。&lt;/p&gt;
&lt;p&gt;考虑增删事实对匹配过程的影响，当向工作存储器增加一个事实时 ,冲突集中已有的规则实例仍然保留,只是将与该事实匹配的规则实例加入到冲突集中; 当从工作存储器删去一个事实时，不可能有新的规则实例产生, 只是将 包含该事实的规则实例从冲突集中删去。&lt;/p&gt;
&lt;p&gt;基于冲突集支撑策略和上述观察, Treat算法放弃了Rete算法中利用寄存器保存模式之间变量约束中间结果的思想,对于每一个模式 ,除保留原有 a寄存器的外 ,增加两个新链来记录与该模式匹配的增删事实,一个叫做增链 (addlist),另一个叫做删链 (deletelist)。当修改描述的操作符为 &amp;ldquo;+&amp;rdquo;时,临时执行部分连接任务;当修改描述的操作符为 &amp;ldquo;一&amp;rdquo;时,直接删去冲突集中包含该事实的规则实例。&lt;/p&gt;
&lt;p&gt;Treat算法的步骤如下：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;行动 :根据点火规则的 RHS,生成修改描述表 CHANGES;&lt;/li&gt;
&lt;li&gt;模式匹配:置每一模式的删链和增链为空,对 CHANGES的每一个修改描述 ,执行模式匹配。对于与修改描述中的事实匹配成功的模式,若修改描述的操作符为 &amp;ldquo;+&amp;rdquo;, 将该事实加入这一模式的增链;若修改描述的操作符为 &amp;ldquo;一&amp;rdquo;,将该事实加入这一模式的 删链。&lt;/li&gt;
&lt;li&gt;删去事实的处理:对于任一模式链中的每一个事实,找到冲突集中所有包含该事实 的规则实例,并将这一规则实例从冲突集中删去。相应地修改该模式的 a寄存器 。&lt;/li&gt;
&lt;li&gt;新增事实的处理:对 于 每 一 模 式 ,若 其 增 链 非 空 ,则 将 增 链 中 的 所 有 事 实 加 入 该 模 式的a寄存器 ,并对与新增事实相关的每一条规则临时执行部分匹配,寻找该规则新的实 例。具体做法为:首先将第一个模式增链中的事实集合与后一模式的 a寄存器进行连接 , 再将部分连接结果与第三个模式的a寄存器进行连接 ,一直到所有模式均连接完成为止。 其中 ,a寄存器 的内容包括新增 事实。若连接结果非空 ,则将找到 的规则 实例插入到冲突 集中。&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id="leaps-suan-fa"&gt;Leaps 算法&lt;/h1&gt;
&lt;p&gt;前向推理引擎，包括LEAPS，都包括了匹配-选择-执行（match-select-action）循环。即，确定可以匹配的规则，选择某个匹配的元 组，此元组相应的规则动作被执行。重复这一过程，直到某一状态（如没有更多的规则动作）。RETE和TREAT匹配算法速度慢的原因是，它们把满足规则条 件的元组都实例化。Leaps算法的最大的改进就是使用一种"lazy"的方法来评估条件（conditions），即仅当必要时才进行元组的实例化。这 一改进极大的减少了前向推理引擎的时空复杂度，极大提高了规则执行速度。&lt;/p&gt;
&lt;p&gt;Leaps算法将所有的 asserted 的 facts ，按照其被 asserted 在 Working Memory 中的顺序（ FIFO ），放在主堆栈中。它一个个的检查 facts ，通过迭代匹配 data type 的 facts 集合来找出每一个相关规则的匹配。当一个匹配的数据被发现时，系统记住此时的迭代位置以备待会的继续迭代，并且激发规则结果（ consequence ）。当结果（ consequence ）执行完成以后，系统就会继续处理处于主堆栈顶部的 fact 。如此反复。&lt;/p&gt;
&lt;p&gt;Leaps算法的效率可以比Rete算法和Tread算法高几个数量级。&lt;/p&gt;
&lt;h1 id="qi-ta-suan-fa"&gt;其他算法&lt;/h1&gt;
&lt;p&gt;对于HAL算法和Matchbox算法，使用的范围不是很广，这里不做过多的介绍。&lt;/p&gt;</content><category term="规则引擎"></category></entry><entry><title>CEP：鱼与熊掌可以兼得</title><link href="http://holbrook.github.io/2012/11/06/cep_about.html" rel="alternate"></link><published>2012-11-06T00:00:00+08:00</published><updated>2012-11-06T00:00:00+08:00</updated><author><name>Holbrook</name></author><id>tag:holbrook.github.io,2012-11-06:/2012/11/06/cep_about.html</id><summary type="html">&lt;p&gt;简单的说，事件驱动模式包括三个参与者：事件产生者，事件分发器和事件处理器。&lt;/p&gt;</summary><content type="html">&lt;h1 id="cong-shi-jian-qu-dong-bian-cheng-event-driven-programmingkai-shi"&gt;从事件驱动编程（Event-driven Programming)开始&lt;/h1&gt;
&lt;p&gt;如果你写过GUI程序，对事件处理一定不陌生。事实上，事件驱动编程已经成为一种设计模式。大多数的GUI库都会采用这一模式。&lt;/p&gt;
&lt;p&gt;简单的说，事件驱动模式包括三个参与者：事件产生者，事件分发器和事件处理器。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;事件产生者（Events Generator）&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;决定是否需要产生事件。比如，GUI上的每个组件都是一个事件产生者，可以根据用户操作产生鼠标事件或者键盘事件。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;事件分发器（Events Dispatcher）&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;收集所有事件产生者发出的事件放入事件队列(Events Queue)，
并根据事件的类型将事件分发给已经注册的事件处理器。事件分发器通常由GUI框架实现。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;事件处理器（Events Handler)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;根据接收到的事件进行处理，需要GUI框架的使用者自行编写。&lt;/p&gt;
&lt;p&gt;事件驱动编程的核心价值在于：程序的执行流程不是预先定义好的，而是由程序的使用者决定的。这将极大增强程序的交互性。&lt;/p&gt;
&lt;p&gt;就好像DVD与RPG游戏的区别：前者的剧情是设定好的，你只能进行开始、暂停、快进、回退等有限的交互；后者可以决定主角的行为从而影响故事的结局。&lt;/p&gt;
&lt;h1 id="shi-jian-qu-dong-ye-wu-event-driven-business"&gt;事件驱动业务（Event-driven Business)&lt;/h1&gt;
&lt;p&gt;代码的世界不可能是现实世界的完整镜像，但一定是对现实世界的某种抽象，这种抽象能够简化代码世界中对问题的分析和处理。
同时，这种抽象还可以反向映射到现实世界，为我们解决现实问题提供思路。&lt;/p&gt;
&lt;p&gt;现代企业生存的外部环境处于剧烈的变化之中，&amp;ldquo;敏捷企业&amp;rdquo;已经成为生存之道，而事件驱动业务是敏捷企业的一个基本要求。&lt;/p&gt;
&lt;p&gt;事件驱动业务（Event-driven Business)，是在 连续
的业务过程中进行决策的一种业务管理方式，即根据不同时点上出现的一系列事件触发相关的任务，并调度可用的资源执行任务。
如果说事件驱动编程能够为软件带来更灵活的交互性和强大的功能，那么企业中的事件驱动业务能够大幅度提高业务的效率和灵活性。&lt;/p&gt;
&lt;p&gt;事件驱动业务依托于比较成熟的信息化建设。各个业务应用系统在产生连续不断的数据流的同时，根据定义好的条件产生一些&amp;ldquo;业务事件&amp;rdquo;，按照策略对这些业务事件进行分析处理，触发新的业务事件或者业务流程，即实现了业务的事件驱动。&lt;/p&gt;
&lt;p&gt;从上面的描述可以看出，事件驱动业务要求能够快速（毫秒级）、不间断的处理连续、海量的数据，具备灵活的规则或策略设置，从而具备迅速识别、捕获、响应实时业务数据的能力。
而传统的企业IT架构通常采用：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;在业务应用系统中处理业务操作&lt;/li&gt;
&lt;li&gt;遵循固定的业务流程（Business
    Process）处理跨系统事务，并且这些流程很少变化&lt;/li&gt;
&lt;li&gt;基于数据仓库进行海量数据的存储及事后分析&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;这种IT架构远远达不到事件驱动业务的要求。&lt;/p&gt;
&lt;p&gt;事件驱动业务能够应用的业务领域很多，凡是需要快速处理连续性数据、需要能够灵活制定策略的业务，都可以采用事件驱动的业务模式。如证券行业常见的风险分析预警（事前及事中风控）、投资决策（程序化交易）、经纪人绩效计算等。&lt;/p&gt;
&lt;h1 id="ye-wu-shi-jian-chu-li-de-ji-ge-ceng-ci"&gt;业务事件处理的几个层次&lt;/h1&gt;
&lt;p&gt;其实在传统的IT架构中，我们已经实现了业务事件的处理。比如在传统的业务应用系统中，我们通常将业务数据存储在数据库中，通过应用系统的操作界面由人工发现和处理业务事件。&lt;/p&gt;
&lt;p&gt;这样的处理方式存在两个不足，一是速度慢，二是对于复杂的情况只靠人脑难以处理。于是有了两个技术方向：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;消息队列（MQ）
    对于速度慢的解决办法是用机器代替人工，为了在多个系统之间传递消息，发展出了消息队列（MQ）的技术&lt;/li&gt;
&lt;li&gt;商业智能（BI）
    为了应对复杂性，通过数据仓库将数据整合到一起，并用专门的工具在数据模型的基础上进行分析&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;但是上述两个方向是正交的：MQ不适合处理复杂性，而BI主要适应于对结构化的历史数据的分析，无法处理&amp;ldquo;现在&amp;rdquo;的情况。&lt;/p&gt;
&lt;h1 id="cepyu-yu-xiong-zhang-ke-yi-jian-de"&gt;CEP：鱼与熊掌可以兼得&lt;/h1&gt;
&lt;p&gt;CEP（Complex Event
Processing）的出现解决了上述两个方面的问题，在实时性和复杂性方面都得到了很好的解决。&lt;/p&gt;
&lt;h2 id="chu-li-shu-ju-liu"&gt;处理数据流&lt;/h2&gt;
&lt;p&gt;不管是单独的应用系统，还是数据仓库，都是先将数据存储到数据库/数据仓库，然后再处理或查询。
而CEP与MQ类似的将数据看作是 数据流
。在连续数据的快速移动过程中进行分析处理。
这样的方式不需要很大的数据加载，完全可以在内存中进行，从而能够快速产生结果。&lt;/p&gt;
&lt;p&gt;&lt;img alt="数据流" src="./assets/images/rule_engine/cep.png"/&gt;&lt;/p&gt;
&lt;h2 id="chu-li-fu-za-xing"&gt;处理复杂性&lt;/h2&gt;
&lt;p&gt;业务事件可能很复杂，在各种不同的数据流中源源不断产生各种类型的事件。需要对这些业务事件进行复杂的计算，如过滤、关联、聚合等，同时还需要考虑这些也是事件出现的时间序列。
最终才能产生有意义的事件，或触发业务流程。同时，这些计算的规则可能还会经常变化。&lt;/p&gt;
&lt;p&gt;这一类的问题通常通过基于规则的推理机（即规则引擎）来实现。&lt;/p&gt;
&lt;p&gt;&lt;img alt="复杂性" src="./assets/images/rule_engine/complex.png"/&gt;&lt;/p&gt;
&lt;h2 id="cepde-jia-gou"&gt;CEP的架构&lt;/h2&gt;
&lt;p&gt;&lt;img alt="CEP的架构" src="./assets/images/rule_engine/cep_architecture.png"/&gt;&lt;/p&gt;
&lt;p&gt;综上所述，CEP在逻辑上应该包括：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;事件发生器
    通过应用系统、文件系统、数据库、互联网、人工、以及传感器产生事件&lt;/li&gt;
&lt;li&gt;事件处理器 模式的匹配、验证和改进，路由，转换以及编排&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;事件消费者
    与事件发生器类似，也可以是应用系统、文件系统、数据库、互联网、人工界面等&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;小结&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;CEP是一种比较新的企业架构(EA,Enterprise
Architure)组件。CEP将数据看做一种数据流，基于规则引擎对业务过程中持续产生的各种事件进行复杂的处理，能够实现对连续数据的快速分析处理。可以应用在多种业务场景，如风险分析、程序化交易等。&lt;/p&gt;
&lt;p&gt;如果说BI实现了商业智能，那么CEP则实现了&amp;ldquo;持续智能（Continuous
Intelligence）&amp;ldquo;。&lt;/p&gt;</content><category term="CEP"></category></entry><entry><title>NoSQL数据库选型指引</title><link href="http://holbrook.github.io/2012/11/06/nosql_list.html" rel="alternate"></link><published>2012-11-06T00:00:00+08:00</published><updated>2012-11-06T00:00:00+08:00</updated><author><name>Holbrook</name></author><id>tag:holbrook.github.io,2012-11-06:/2012/11/06/nosql_list.html</id><summary type="html">&lt;p&gt;从设计原则上，NoSQL不再强调ACID（酸），而是强调BASE（碱）。&lt;/p&gt;</summary><content type="html">&lt;h1 id="shi-yao-shi-nosql"&gt;什么是NoSQL&lt;/h1&gt;
&lt;p&gt;NoSQL可以有两种解释：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;No SQL：&amp;ldquo;不使用SQL查询语言&amp;rdquo;。强调其轻量的特点&lt;/li&gt;
&lt;li&gt;Not Only SQL：&amp;rdquo;不仅仅是查询&amp;ldquo;。强调其高性能，分布式，大容量等传统关系数据库所不具备的特性&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;从设计原则上，NoSQL不再强调ACID（酸），而是强调BASE（碱）。&lt;/p&gt;
&lt;p&gt;ACID是指：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;atomicity（原子性）：一个事务中的所有操作，要么全部完成，要么全部不完成。如果中途发生错误需要回滚（Rollback）&lt;/li&gt;
&lt;li&gt;consistency(一致性)：在事务开始之前和事务结束以后，数据库的完整性没有被破坏。這表示寫入的資料必須完全符合所有的預設規則，這包含資料的精確度、串聯性以及後續数据库可以自發性地完成預定的工作。&lt;/li&gt;
&lt;li&gt;isolation(隔離性)：当两个或者多个事务并发访问（此处访问指查询和修改的操作）数据库的同一数据时所表现出的相互关系。事务隔离分为不同级别，包括读未提交（Read uncommitted）、读提交（read committed）、可重复读（repeatable read）和串行化（Serializable）&lt;/li&gt;
&lt;li&gt;durability(持久性)：在事务完成以后，该事务对数据库所作的更改便持久地保存在数据库之中，并且是完全的&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;BASE是指：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Basically Available（基本可用）&lt;/li&gt;
&lt;li&gt;Soft-state（软状态/柔性事务）&lt;/li&gt;
&lt;li&gt;Eventually Consistent（最终一致性）&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;NoSQL与关系数据库的原则不同：NoSQL牺牲高一致性，换取获得可用性或可靠性。软状态意味着状态是异步的，在某些时段状态是不一致的；但最终一致保证数据早晚会一致。&lt;/p&gt;
&lt;h1 id="nosqlxuan-xing-yao-su"&gt;NoSQL选型要素&lt;/h1&gt;
&lt;ol&gt;
&lt;li&gt;存储结构&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;由于NoSQL的目的和原则的不同，NoSQL中的数据不是按照表存储。根据NoSQL存储结构的不同，可以分为：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;文档存储&lt;/li&gt;
&lt;li&gt;图存储&lt;/li&gt;
&lt;li&gt;key/value儲存&lt;/li&gt;
&lt;li&gt;列存储&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;对象数据库&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;是否持久化&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;有的NoSQL是纯内存存储，不支持持久化&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;是否支持嵌入式&lt;/li&gt;
&lt;li&gt;是否支持集群部署&lt;/li&gt;
&lt;li&gt;操作接口的丰富程度&lt;/li&gt;
&lt;/ol&gt;
&lt;h1 id="chang-jian-de-nosqlshu-ju-ku"&gt;常见的NoSQL数据库&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;文档数据库&lt;/li&gt;
&lt;/ul&gt;
&lt;table&gt;
&lt;th&gt;&lt;td&gt;名称&lt;/td&gt;&lt;td&gt;持久化&lt;/td&gt;&lt;td&gt;部署方式&lt;/td&gt;&lt;td&gt;操作接口&lt;/td&gt;&lt;td&gt;备注&lt;/td&gt;&lt;/th&gt;
&lt;tr&gt;&lt;td&gt;CouchDB&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;分布式&lt;/td&gt;&lt;td&gt;JavaScript MapReduce, RESTful JSON API&lt;/td&gt;&lt;td&gt;HTTP访问，内置了Web管理控制台&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;JackRabbit&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;Java&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;Lotus Notes&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;LotusScript, Java&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;BaseX&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;XQuery, Java&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;MongoDB&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;服务，集群&lt;/td&gt;&lt;td&gt;PHP，Python，Perl，Ruby，JavaScript，C++等&lt;/td&gt;&lt;td&gt;JSON数据库，支持全文索引，自动分片，跨LAN或WAN扩展&lt;/td&gt;&lt;/tr&gt;
&lt;/table&gt;
&lt;ul&gt;
&lt;li&gt;图形数据库&lt;/li&gt;
&lt;/ul&gt;
&lt;table&gt;
&lt;th&gt;&lt;td&gt;名称&lt;/td&gt;&lt;td&gt;持久化&lt;/td&gt;&lt;td&gt;部署方式&lt;/td&gt;&lt;td&gt;操作接口&lt;/td&gt;&lt;td&gt;备注&lt;/td&gt;&lt;/th&gt;
&lt;tr&gt;&lt;td&gt;Neo4j&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;Java&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;DEX&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;Java , C#&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;AllegroGraph&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;SPARQL&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;FlockDB&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;Scala&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;/table&gt;
&lt;ul&gt;
&lt;li&gt;key/value数据库&lt;/li&gt;
&lt;/ul&gt;
&lt;table&gt;
&lt;th&gt;&lt;td&gt;名称&lt;/td&gt;&lt;td&gt;持久化&lt;/td&gt;&lt;td&gt;部署方式&lt;/td&gt;&lt;td&gt;操作接口&lt;/td&gt;&lt;td&gt;备注&lt;/td&gt;&lt;/th&gt;
&lt;tr&gt;&lt;td&gt;BigTable&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;memcached&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;Redis&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;Oracle Berkeley DB&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;/table&gt;
&lt;ul&gt;
&lt;li&gt;列数据库&lt;/li&gt;
&lt;/ul&gt;
&lt;table&gt;
&lt;th&gt;&lt;td&gt;名称&lt;/td&gt;&lt;td&gt;持久化&lt;/td&gt;&lt;td&gt;部署方式&lt;/td&gt;&lt;td&gt;操作接口&lt;/td&gt;&lt;td&gt;备注&lt;/td&gt;&lt;/th&gt;
&lt;tr&gt;&lt;td&gt;Cassandra&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;HBase&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;Hypertable&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;/table&gt;
&lt;ul&gt;
&lt;li&gt;对象数据库&lt;/li&gt;
&lt;/ul&gt;
&lt;table&gt;
&lt;th&gt;&lt;td&gt;名称&lt;/td&gt;&lt;td&gt;持久化&lt;/td&gt;&lt;td&gt;部署方式&lt;/td&gt;&lt;td&gt;操作接口&lt;/td&gt;&lt;td&gt;备注&lt;/td&gt;&lt;/th&gt;
&lt;tr&gt;&lt;td&gt;db4o&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;iBoxDB&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;JADE&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;ZODB&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;ObjectStore&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;/table&gt;</content><category term="NoSQL"></category></entry><entry><title>如何规划blog的分类和标签</title><link href="http://holbrook.github.io/2012/11/05/2012-11-05-blog_design_categories_and_tags.html" rel="alternate"></link><published>2012-11-05T00:00:00+08:00</published><updated>2012-11-05T00:00:00+08:00</updated><author><name>Holbrook</name></author><id>tag:holbrook.github.io,2012-11-05:/2012/11/05/2012-11-05-blog_design_categories_and_tags.html</id><summary type="html">&lt;p&gt;使用知识地图的思想规划博客的标签(tags)和分类(categories)&lt;/p&gt;</summary><content type="html">&lt;p&gt;一篇旧的博文，原文发表在&lt;a href="http://www.cnblogs.com/holbrook/archive/2012/11/05/2755268.html"&gt;博客园&lt;/a&gt;。&lt;/p&gt;</content><category term="blog"></category><category term="知识管理"></category></entry><entry><title>QQ 餐厅与系统性能模型(续)：如何评价系统的性能</title><link href="http://holbrook.github.io/2012/10/29/performance_test.html" rel="alternate"></link><published>2012-10-29T00:00:00+08:00</published><updated>2012-10-29T00:00:00+08:00</updated><author><name>Holbrook</name></author><id>tag:holbrook.github.io,2012-10-29:/2012/10/29/performance_test.html</id><summary type="html">&lt;p&gt;作为QQ餐厅的客人，对餐厅效率的评价就是供餐“快”或者“慢”。但是对于餐厅的经营者，这样简单的考虑问题显然是不够的。
在《QQ餐厅与系统性能模型》 中提到了系统性能的很多指标，而客人感觉“快”或者“慢”仅仅对应其中的 响应时间 这一指标。本文讨论如何全面评价一个系统的性能"&lt;/p&gt;</summary><content type="html">&lt;p&gt;作为QQ餐厅的客人，对餐厅效率的评价就是供餐&amp;ldquo;快&amp;rdquo;或者&amp;ldquo;慢&amp;rdquo;。但是对于餐厅的经营者，这样简单的考虑问题显然是不够的。&lt;/p&gt;
&lt;p&gt;在&lt;a href="/2012/10/23/whats_performance.html"&gt;《QQ餐厅与系统性能模型》&lt;/a&gt; 中提到了系统性能的很多指标，而客人感觉&amp;ldquo;快&amp;rdquo;或者&amp;ldquo;慢&amp;rdquo;仅仅对应其中的 &lt;em&gt;响应时间&lt;/em&gt; 这一指标。&lt;/p&gt;
&lt;p&gt;对于QQ餐厅的经营者，应该如何考虑呢？&lt;/p&gt;
&lt;p&gt;在《QQ餐厅与系统性能模型》 中已经描述了客人数量增加时餐厅中发生的一系列&amp;ldquo;故事&amp;rdquo;，让我们回顾一下：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;资源利用率与负载&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;资源利用率随负载的增加而增加，最终达到100%。此时再增加负载，资源利用率也不会增加。当然，这是对单一资源来说，现实中总是有某种资源最先达到100%而其他的资源仍有空闲。&lt;/p&gt;
&lt;p&gt;资源利用率达到100%时对应的并发用户数称为 &lt;strong&gt;最佳并发用户数&lt;/strong&gt; 。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;响应时间与负载&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;当并发用户数小于前面定义的&amp;ldquo;最大并发用户数&amp;rdquo;时，系统的响应时间是一个固定的值。如果继续增加系统的负载，用户等待时间就会增加从而延长响应时 间。假设用户有一个能容忍的最长等待时间，则负载增加到一定程度时系统对某些请求的响应时间就会超过用户的容忍度。在临界状态的负载称为 最大并发用户数 。&lt;/p&gt;
&lt;p&gt;在最大并发用户数的情况下，系统的吞吐量应该达到最大值。超过最大并发用户数的负载会导致资源浪费在超时的请求上，从而使吞吐量下降。&lt;/p&gt;
&lt;p&gt;（在系统负载略高于最大并发用户数时，可能吞吐量会有一定程度的增加，但此时的吞吐量已经没有意义。所以应该考量最大并发用户数下系统的吞吐量）&lt;/p&gt;
&lt;h1 id="ping-jie-xi-tong-de-xing-neng"&gt;评价系统的性能&lt;/h1&gt;
&lt;p&gt;从系统建设者的角度来说，系统性能不仅仅是&amp;rdquo;快&amp;ldquo;或者&amp;rdquo;慢&amp;ldquo;，而是应该有一个全面的描述。比如对于&amp;rdquo;QQ餐厅系统&amp;ldquo;，至少要有如下的描述才能评价其性能：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;QQ餐厅的可用资源包括：2位厨师，6名服务员，30套座位&lt;/li&gt;
&lt;li&gt;QQ餐厅最理想情况是同时接待25位客人，此时2名厨师工作量饱和，服务员空闲1人，座位空闲5套&lt;/li&gt;
&lt;li&gt;在25人就餐的情况下，没小时可以卖出8道菜，客人评价就餐时间为10分钟，99%的客人可以在30分钟完成内用餐&lt;/li&gt;
&lt;li&gt;假设 客人能容忍的最长用餐时间为60分钟，则QQ餐厅最多能容纳35人就餐&lt;/li&gt;
&lt;li&gt;在35人就餐的情况下，每小时可以卖出10道菜，客人平均就餐时间为20分钟，99%的客人可以在50分钟内完成用餐&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id="ti-gao-xi-tong-de-xing-neng"&gt;提高系统的性能&lt;/h1&gt;
&lt;p&gt;有了前面比较系统的性能描述，就很容易知道如何提高系统的性能。提高系统性能的目标有两个级别：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;在现有的响应时间基础上，提高最佳并发用户数和最大并发用户数。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;这两个指标的现实意义在于：最佳并发用户数要不小于系统的平均负载，最大并发用户数要不小于系统的峰值负载（通常应该达到峰值的1.5&amp;ndash;2倍）。&lt;/p&gt;
&lt;p&gt;实现这个级别的目标通常比较容易，主要是增加系统的可用资源。必要时还可以横向扩展（增加服务器数量）。比如对于前面的QQ餐厅性能情况，增加厨师数量就能够有效提高最佳并发数和最大并发数。&lt;/p&gt;
&lt;p&gt;当然，如果能够说服用户增加所能容忍的等待时间，也可以提高最大并发数。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;增加系统整体的响应速度&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;用户感受到的整体响应时间=请求传输时间+等待时间+处理时间+响应返回时间。针对这些不同的时间片段可以分别想办法提高速度。比如：&lt;/p&gt;
&lt;p&gt;提高网络带宽可以减小请求传输时间和响应返回时间； 增加处理单元可以减小等待时间； 优化算法可以减小处理时间。&lt;/p&gt;
&lt;p&gt;上面的几种办法实现起来难度都比较大，所以提高系统性能应该优先考虑第一个级别的办法。&lt;/p&gt;
&lt;h1 id="zui-jing-jian-de-xing-neng-ce-shi-de-li-zi"&gt;最精简的性能测试的例子&lt;/h1&gt;
&lt;p&gt;使用Apache ab进行性能测试，访问NginX上面部署的静态页面。在不同并发下测试100万次请求，结果如下：&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;并发数 失败请求数 每秒完成请求  平均响应时间ms  99%请求响应时间ms 吞吐量(kb/s)&lt;/p&gt;
&lt;p&gt;100 0 13005.97  7.689 10  24132.19&lt;/p&gt;
&lt;p&gt;500 0 24132.19  36.193  232 25632.78&lt;/p&gt;
&lt;p&gt;600 0 13948.85  43.014  296 25881.7&lt;/p&gt;
&lt;p&gt;700 0 14317.11  48.893  232 25632.78&lt;/p&gt;
&lt;p&gt;800 288 14264.21  56.084  2570  26461.06&lt;/p&gt;
&lt;p&gt;1000  390 14752.1 67.787  3013  27363.46&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;在各轮测试中，Nginx均没有发生故障切换。&lt;/p&gt;
&lt;p&gt;从测试数据中可以得出以下结论：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;当前的性能瓶颈在于网络带宽&lt;/li&gt;
&lt;li&gt;当前系统的最佳并发数为500，最大并发为700&lt;/li&gt;
&lt;li&gt;在最佳并发下，系统每秒可以处理2.4万个请求，平均响应时间36ms，99%的请求在232ms内完成&lt;/li&gt;
&lt;li&gt;在最大并发下，系统每秒可以处理1.4万个请求，平均响应时间48ms，99%的请求在232ms内完成&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id="fu-zai-jun-heng-qi-de-xing-neng-zhi-biao"&gt;负载均衡器的性能指标&lt;/h1&gt;
&lt;p&gt;对于负载均衡器，需要的性能指标与具体的应用服务器不太一样。更关注如下指标：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;每秒的会话处理数，要区分4层和7层&lt;/li&gt;
&lt;li&gt;最多保持的连接数&lt;/li&gt;
&lt;li&gt;吞吐量，要区分4层和7层&lt;/li&gt;
&lt;li&gt;支持的虚拟服务器的个数&lt;/li&gt;
&lt;li&gt;支持的后端真实服务器的个数&lt;/li&gt;
&lt;/ul&gt;</content><category term="测试"></category></entry><entry><title>QQ餐厅与系统性能模型</title><link href="http://holbrook.github.io/2012/10/23/whats_performance.html" rel="alternate"></link><published>2012-10-23T00:00:00+08:00</published><updated>2012-10-23T00:00:00+08:00</updated><author><name>Holbrook</name></author><id>tag:holbrook.github.io,2012-10-23:/2012/10/23/whats_performance.html</id><summary type="html">&lt;p&gt;如果你在玩QQ餐厅的时候被老板抓到，可以理直气壮的说：'我在研究系统性能模型'。本文以QQ餐厅作为模型，讨论系统性能的主要指标&lt;/p&gt;</summary><content type="html">&lt;h1 id="qqcan-ting-xi-tong"&gt;QQ餐厅&amp;rdquo;系统&amp;ldquo;&lt;/h1&gt;
&lt;p&gt;QQ餐厅是一个系统。 其中包括各种资源：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;厨师是 &lt;em&gt;CPU&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;服务员是 &lt;em&gt;内存&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;桌椅板凳是 &lt;em&gt;磁盘IO&lt;/em&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;这个系统中只运行一个 &lt;em&gt;应用&lt;/em&gt; ，该应用只提供一个 &lt;em&gt;服务&lt;/em&gt; ：就餐服务。显然，系统的所有资源都会用于这个服务。 QQ餐厅当然会有很多客人，称之为 并发用户数 ，或者叫 &lt;em&gt;负载&lt;/em&gt; 。&lt;/p&gt;
&lt;p&gt;开始的时候客人不多，桌椅板凳或厨师、服务员都可能空闲，叫做 &lt;em&gt;资源闲置&lt;/em&gt; ，已经使用的资源比例叫做 &lt;em&gt;资源利用率&lt;/em&gt; 。&lt;/p&gt;
&lt;p&gt;随着资源和人的增加，资源利用率也会逐渐增长，并最终达到100%。此时餐厅已经&amp;rdquo;全速运转&amp;ldquo;，这是的并发用户数叫做 &lt;em&gt;最佳并发数&lt;/em&gt; ， 所谓&amp;rdquo;最佳&amp;ldquo;是指资源已经充分利用，并且每个请求没有额外的等待。&lt;/p&gt;
&lt;p&gt;如果某些资源不足，就会发生该资源的利用率已经达到100%，但是其他资源仍有空闲的情况。此时该项资源成为 &lt;em&gt;性能瓶颈&lt;/em&gt; 。为避免性能瓶颈，最理想的情况是使得所有资源的利用率同时达到100%，此时各种资源的比例叫做 &lt;em&gt;最佳资源配比&lt;/em&gt; 。 QQ餐厅玩家很重要的一项任务就是在餐厅的不断扩建过程中，始终维持各资源的最佳配比。&lt;/p&gt;
&lt;p&gt;当客人的数量超过&amp;rdquo;最佳并发数&amp;ldquo;时，就会产生额外的等待。也就是说， &lt;em&gt;等待时间&lt;/em&gt; 会随着并发用户数的增加而增长。而从客人的角度来说，等待时间+供餐所需的固有时间（服务员点菜、传菜、结账和厨师做菜等需要的，不可减少的时间）= 响应时间 ，所以等待时间的延长会导致响应时间的延长。而客人的耐心是有限的，如果响应时间过长，客人就会愤然离去，这叫做 &lt;em&gt;响应超时&lt;/em&gt; 。&lt;/p&gt;
&lt;p&gt;由于响应超时会导致客人的离去，我们应该区分满意离开的客人和因为超时而离开的客人。我们把餐厅在单位时间接待的客人叫做 &lt;em&gt;吞吐量&lt;/em&gt; ，并发用户数-吞吐量=超时的请求。不发生超时情况下的最大并发用户数成为 &lt;em&gt;最大并发数&lt;/em&gt; 。 此时系统的吞吐量达到最大。&lt;/p&gt;
&lt;h1 id="xi-tong-xing-neng-zhi-biao"&gt;系统性能指标&lt;/h1&gt;
&lt;p&gt;在QQ餐厅中，涉及到了很多系统性能指标，让我们来回顾一下：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;系统，应用，服务&lt;/li&gt;
&lt;li&gt;资源： CPU、内存、磁盘IO等&lt;/li&gt;
&lt;li&gt;负载，并发用户数&lt;/li&gt;
&lt;li&gt;资源利用率、性能瓶颈、资源闲置&lt;/li&gt;
&lt;li&gt;最佳并发数，最佳资源配比&lt;/li&gt;
&lt;li&gt;等待时间、响应时间与响应超时&lt;/li&gt;
&lt;li&gt;吞吐量、最大并发数&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;当然，由于QQ餐厅的模型比较简单，有一些性能指标没有体现出来：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;用户响应时间和系统响应时间&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;前面的响应时间是从餐厅（系统）角度考虑的，如果从客人（用户）角度考虑，可能还需要加上从家到餐厅以及从餐厅返回到家的时间。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;吞吐量的计量&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;前面把餐厅在单位时间接待的客人数量作为吞吐量，这是因为QQ餐厅进行了简化，假设每位顾客只点一种套餐（一道菜+一份饮料）并且只点一次。更复杂 的情况是根据粒度的不同，分别用每秒完成菜品的数量（流量）、完成点餐的数量（请求）、用餐次数（事务）作为吞吐量的计量，根据需要选择一个或者多个指 标。&lt;/p&gt;
&lt;h1 id="xiao-jie"&gt;小结&lt;/h1&gt;
&lt;p&gt;综上所述，QQ餐厅是一个系统，玩QQ餐厅就是考虑如何优化系统的性能。 而需要分析系统的哪些性能指标、如何分析决定能否对系统性能进行有效的优化。 这些内容可以继续围观&lt;a href="/2012/10/29/performance_test.html"&gt;《QQ餐厅与系统性能模型(续)：如何评价系统的性能》&lt;/a&gt;。&lt;/p&gt;</content><category term="测试"></category></entry><entry><title>开发和部署JBoss FUSE中的路由(Route)</title><link href="http://holbrook.github.io/2012/04/14/fuse_develop_route.html" rel="alternate"></link><published>2012-04-14T00:00:00+08:00</published><updated>2012-04-14T00:00:00+08:00</updated><author><name>Holbrook</name></author><id>tag:holbrook.github.io,2012-04-14:/2012/04/14/fuse_develop_route.html</id><summary type="html"></summary><content type="html">&lt;h1 id="kuai-su-kai-shi"&gt;快速开始&lt;/h1&gt;
&lt;p&gt;因为&lt;em&gt;Fuse的核心组成部分是ServiceMix&lt;/em&gt;，而ServiceMix的核心组成部分是Apache
Camel，所以&amp;ldquo;用Fuse开发路由&amp;rdquo;也就是&amp;ldquo;开发Camel路由&amp;rdquo;。&lt;/p&gt;
&lt;p&gt;&lt;a href="http://search.maven.org/#search%7Cga%7C1%7Corg.apache.camel.archetypes"&gt;Camel提供了大量的开发&lt;/a&gt;工具
，其中&lt;a href="http://search.maven.org/#search%7Cga%7C1%7Ca%3A%22camel-archetype-blueprint%22"&gt;camel-archetype-blueprint&lt;/a&gt;
是一个&lt;a href="http://maven.apache.org/guides/introduction/introduction-to-archetypes.html"&gt;maven
archetype&lt;/a&gt;，
可以基于&lt;em&gt;Blueprint&lt;/em&gt;，以依赖注入的方式配置CamelContext。下面快速创建一个demo:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;    mvn archetype:generate  &lt;span class="se"&gt;\&lt;/span&gt;
    -DarchetypeGroupId&lt;span class="o"&gt;=&lt;/span&gt;org.apache.camel.archetypes &lt;span class="se"&gt;\&lt;/span&gt;
    -DarchetypeArtifactId&lt;span class="o"&gt;=&lt;/span&gt;camel-archetype-blueprint &lt;span class="se"&gt;\&lt;/span&gt;
    -DarchetypeVersion&lt;span class="o"&gt;=&lt;/span&gt;2.12.2 &lt;span class="se"&gt;\&lt;/span&gt;
    -DgroupId&lt;span class="o"&gt;=&lt;/span&gt;thinkinside.demo.fuse &lt;span class="se"&gt;\&lt;/span&gt;
    -DartifactId&lt;span class="o"&gt;=&lt;/span&gt;route-demo &lt;span class="se"&gt;\&lt;/span&gt;
    -Dversion&lt;span class="o"&gt;=&lt;/span&gt;1.0.0-SNAPSHOT
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;会创建如下结构的一个工程：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="./assets/images/fuse/route-demo-structure.png"/&gt;&lt;/p&gt;
&lt;p&gt;从 &lt;code&gt;pom.xml&lt;/code&gt;
来看，这是一个&lt;em&gt;使用maven-bundle-plugin构建的OSGibundle工程&lt;/em&gt;。&lt;/p&gt;
&lt;h1 id="ji-yu-blueprintzhuang-pei-camel"&gt;基于&lt;em&gt;Blueprint&lt;/em&gt;装配Camel&lt;/h1&gt;
&lt;p&gt;Context&lt;/p&gt;
&lt;p&gt;工程的`META-INF/blueprint/blueprint.xml'文件是一个Blueprint配置文件：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;      &lt;span class="cp"&gt;&amp;lt;?xml version="1.0" encoding="UTF-8"?&amp;gt;&lt;/span&gt;
      &lt;span class="nt"&gt;&amp;lt;blueprint&lt;/span&gt; &lt;span class="na"&gt;xmlns=&lt;/span&gt;&lt;span class="s"&gt;"http://www.osgi.org/xmlns/blueprint/v1.0.0"&lt;/span&gt;
             &lt;span class="na"&gt;xmlns:xsi=&lt;/span&gt;&lt;span class="s"&gt;"http://www.w3.org/2001/XMLSchema-instance"&lt;/span&gt;
             &lt;span class="na"&gt;xmlns:camel=&lt;/span&gt;&lt;span class="s"&gt;"http://camel.apache.org/schema/blueprint"&lt;/span&gt;
             &lt;span class="na"&gt;xsi:schemaLocation=&lt;/span&gt;&lt;span class="s"&gt;"&lt;/span&gt;
&lt;span class="s"&gt;             http://www.osgi.org/xmlns/blueprint/v1.0.0 http://www.osgi.org/xmlns/blueprint/v1.0.0/blueprint.xsd&lt;/span&gt;
&lt;span class="s"&gt;             http://camel.apache.org/schema/blueprint http://camel.apache.org/schema/blueprint/camel-blueprint.xsd"&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;

        &lt;span class="nt"&gt;&amp;lt;bean&lt;/span&gt; &lt;span class="na"&gt;id=&lt;/span&gt;&lt;span class="s"&gt;"helloBean"&lt;/span&gt; &lt;span class="na"&gt;class=&lt;/span&gt;&lt;span class="s"&gt;"thinkinside.demo.fuse.HelloBean"&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
            &lt;span class="nt"&gt;&amp;lt;property&lt;/span&gt; &lt;span class="na"&gt;name=&lt;/span&gt;&lt;span class="s"&gt;"say"&lt;/span&gt; &lt;span class="na"&gt;value=&lt;/span&gt;&lt;span class="s"&gt;"Hi from Camel"&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;/bean&amp;gt;&lt;/span&gt;

        &lt;span class="nt"&gt;&amp;lt;camelContext&lt;/span&gt; &lt;span class="na"&gt;id=&lt;/span&gt;&lt;span class="s"&gt;"blueprintContext"&lt;/span&gt; &lt;span class="na"&gt;trace=&lt;/span&gt;&lt;span class="s"&gt;"false"&lt;/span&gt; &lt;span class="na"&gt;xmlns=&lt;/span&gt;&lt;span class="s"&gt;"http://camel.apache.org/schema/blueprint"&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
          &lt;span class="nt"&gt;&amp;lt;route&lt;/span&gt; &lt;span class="na"&gt;id=&lt;/span&gt;&lt;span class="s"&gt;"timerToLog"&lt;/span&gt;&lt;span class="nt"&gt;&amp;gt;&lt;/span&gt;
            &lt;span class="nt"&gt;&amp;lt;from&lt;/span&gt; &lt;span class="na"&gt;uri=&lt;/span&gt;&lt;span class="s"&gt;"timer:foo?period=5000"&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
            &lt;span class="nt"&gt;&amp;lt;setBody&amp;gt;&lt;/span&gt;
                &lt;span class="nt"&gt;&amp;lt;method&lt;/span&gt; &lt;span class="na"&gt;ref=&lt;/span&gt;&lt;span class="s"&gt;"helloBean"&lt;/span&gt; &lt;span class="na"&gt;method=&lt;/span&gt;&lt;span class="s"&gt;"hello"&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
            &lt;span class="nt"&gt;&amp;lt;/setBody&amp;gt;&lt;/span&gt;
            &lt;span class="nt"&gt;&amp;lt;log&lt;/span&gt; &lt;span class="na"&gt;message=&lt;/span&gt;&lt;span class="s"&gt;"The message contains ${body}"&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
            &lt;span class="nt"&gt;&amp;lt;to&lt;/span&gt; &lt;span class="na"&gt;uri=&lt;/span&gt;&lt;span class="s"&gt;"mock:result"&lt;/span&gt;&lt;span class="nt"&gt;/&amp;gt;&lt;/span&gt;
          &lt;span class="nt"&gt;&amp;lt;/route&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;/camelContext&amp;gt;&lt;/span&gt;

      &lt;span class="nt"&gt;&amp;lt;/blueprint&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;该配置文件中，定义了一个id为 &lt;code&gt;blueprintContext&lt;/code&gt; 的Camel
Context。这个Context中定义了一个路由：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;入口为一个Timer类型的Endpoint&lt;/li&gt;
&lt;li&gt;使用预定义的bean为Message设置body&lt;/li&gt;
&lt;li&gt;记录日志&lt;/li&gt;
&lt;li&gt;出口为一个Mock类型的Endpoint&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;如果使用FuseIDE，可以看到图形化的配置界面：&lt;/p&gt;
&lt;p&gt;&lt;img alt="" src="./assets/images/fuse/route-design.png"&gt;
部署到ServiceMix
================&lt;/img&gt;&lt;/p&gt;
&lt;p&gt;执行 &lt;code&gt;mvn package&lt;/code&gt; 后，得到 &lt;code&gt;route-demo-1.0.0-SNAPSHOT.jar&lt;/code&gt;
，这是一个OSGi bundle。可以将jar文件部署到&lt;/p&gt;
&lt;p&gt;=\$SERVICEMIX~HOME~/deploy/=
目录中。正常情况下，bundle的依赖关系被满足，该bundle会被自动启动。&lt;/p&gt;
&lt;h1 id="cong-servicemixdao-fuse"&gt;从ServiceMix到Fuse&lt;/h1&gt;
&lt;p&gt;上述的过程也适用于JBoss Fuse。&lt;/p&gt;
&lt;p&gt;但是Fuse对ServiceMix进行了再次封装，需要使用Fuse对应的版本。比如，=camel-archetype-blueprint=
的版本可能要使用 &lt;code&gt;2.10.0.redhat-60024&lt;/code&gt;
这样的&amp;ldquo;Fuse版本号&amp;rdquo;，否则在部署到Fuse是可能会发生版本不匹配的问题。&lt;/p&gt;
&lt;p&gt;Fuse提供了一个maven仓库，专门提供这种定制版本的组件，需要在maven中配置：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;        &lt;span class="nt"&gt;&amp;lt;repository&amp;gt;&lt;/span&gt;
            &lt;span class="nt"&gt;&amp;lt;id&amp;gt;&lt;/span&gt;fusesource&lt;span class="nt"&gt;&amp;lt;/id&amp;gt;&lt;/span&gt;
            &lt;span class="nt"&gt;&amp;lt;url&amp;gt;&lt;/span&gt;http://repo.fusesource.com/nexus/content/groups/public/&lt;span class="nt"&gt;&amp;lt;/url&amp;gt;&lt;/span&gt;
            &lt;span class="nt"&gt;&amp;lt;snapshots&amp;gt;&lt;/span&gt;
                &lt;span class="nt"&gt;&amp;lt;enabled&amp;gt;&lt;/span&gt;false&lt;span class="nt"&gt;&amp;lt;/enabled&amp;gt;&lt;/span&gt;
            &lt;span class="nt"&gt;&amp;lt;/snapshots&amp;gt;&lt;/span&gt;
            &lt;span class="nt"&gt;&amp;lt;releases&amp;gt;&lt;/span&gt;
                 &lt;span class="nt"&gt;&amp;lt;enabled&amp;gt;&lt;/span&gt;true&lt;span class="nt"&gt;&amp;lt;/enabled&amp;gt;&lt;/span&gt;
             &lt;span class="nt"&gt;&amp;lt;/releases&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;/repository&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</content></entry><entry><title>规则，推理机和规则引擎</title><link href="http://holbrook.github.io/2012/03/20/rule_engine_1.html" rel="alternate"></link><published>2012-03-20T00:00:00+08:00</published><updated>2012-03-20T00:00:00+08:00</updated><author><name>Holbrook</name></author><id>tag:holbrook.github.io,2012-03-20:/2012/03/20/rule_engine_1.html</id><summary type="html">&lt;p&gt;规则作为一种知识，其典型运用就是通过实际情况，根据给定的一组规则，得出结论。
这种规则的运用过程叫做推理。如果由程序来处理推理过程，那么这个程序就叫做推理机/推理引擎（Inference Engine）。
基于规则的推理机称为“规则引擎”。&lt;/p&gt;</summary><content type="html">&lt;h1 id="shi-yao-shi-gui-ze"&gt;什么是规则&lt;/h1&gt;
&lt;p&gt;在现实生活中，规则无处不在。我们最长接触的是法律、法规和各种制度；对于企业级应用来说，第一步的业务调研中很重要的内容就是了解业务规则。在企业流程再造中，可能还会接触到流程规则。&lt;/p&gt;
&lt;p&gt;在IT技术领域，很多地方也应用了规则，比如路由表，防火墙策略，乃至角色权限控制(RBAC)，或者Web框架中的URL匹配。&lt;/p&gt;
&lt;p&gt;不管是哪种种规则，都规定了一组确定的条件和此条件所产生的结果。&lt;/p&gt;
&lt;p&gt;举一个例子，是纷繁复杂的保险费率计算中的一条规则：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;IF&lt;/li&gt;
&lt;li&gt;汽车是红色&lt;/li&gt;
&lt;li&gt;车是运动型的&lt;/li&gt;
&lt;li&gt;驾驶员是男性&lt;/li&gt;
&lt;li&gt;驾驶员在16-25岁之间&lt;/li&gt;
&lt;li&gt;THEN&lt;/li&gt;
&lt;li&gt;保险费用增加20%&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;从这个例子可以看出：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;每条规则都是一组条件决定的一系列结果&lt;/li&gt;
&lt;li&gt;一条规则可能与其他规则共同决定最终结果。比如例子中的规则只产生了增量，还需要与确定基数的规则共同作用才能决定最终的费率&lt;/li&gt;
&lt;li&gt;可能存在条件互相交叉的规则，此时有必要规定规则的优先级&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id="tui-li-ji-yu-gui-ze-yin-qing"&gt;推理机与规则引擎&lt;/h1&gt;
&lt;p&gt;规则作为一种知识，其典型运用就是通过实际情况，根据给定的一组规则，得出结论。这个结论可能是某种静态的结果，也可能是需要进行的一组操作。
这种规则的运用过程叫做推理。如果由程序来处理推理过程，那么这个程序就叫做推理机/推理引擎（Inference Engine）。推理机是专家系统（专家系统是人工智能的一个分支）的核心模块。&lt;/p&gt;
&lt;p&gt;&lt;img alt="推理机" src="images/rule-engine/inference_engine.png"/&gt;&lt;/p&gt;
&lt;p&gt;推理引擎根据知识表示的不同采取的控制策略也是不同的，常见的类型包括基于神经网络、基于案例和基于规则的推理机。其中，基于规则的推理机易于理解、易于获取、易于管理，被广泛采用。这种推理引擎被称为&amp;ldquo;规则引擎&amp;rdquo;。&lt;/p&gt;
&lt;p&gt;在规则引擎中，将知识表达为规则（rules），要分析的情况定义为事实（facts）。二者在内存中的存储分别称为Production Memory和Working Memory，如下图：&lt;/p&gt;
&lt;p&gt;&lt;img alt="规则引擎" src="images/rule-engine/rule_engine.png"/&gt;&lt;/p&gt;
&lt;p&gt;rules和facts是规则引擎接受的输入参数，而规则引擎本身包括两个组成部分：Pattern Matcher和Agenda。Pattern Matcher根据facts找到匹配的rules，Agenda管理PatternMatcher挑选出来的规则的执行次序。在外围，还会有一个执行引擎（Execution Engine）负责根据Agenda输出的rules执行具体的操作。&lt;/p&gt;
&lt;p&gt;其中Pattern Matcher是规则引擎负责推理的核心。和人类的思维相对应，规则引擎中也存在两种推理方式：正向推理（Forward-Chaining）和反向推理（Backward-Chaining）。&lt;/p&gt;
&lt;p&gt;正向推理也叫演绎法，由事实驱动，从 一个初始的事实出发，不断地应用规则得出结论。首先在候选队列中选择一条规则作为启用规则进行推理，记录其结论作为下一步推理时的证据。如此重复这个过程，直到再无可用规则可被选用或者求得了所要求的解为止。&lt;/p&gt;
&lt;p&gt;反向推理也叫归纳法，由目标驱动，首先提出某个假设，然后寻找支持该假设的证据，若所需的证据都能找到，说明原假设是正确的；若无论如何都找不到所需要的证据，则说明原假设不成立，此时需要另做新的假设。&lt;/p&gt;
&lt;h1 id="gui-ze-yin-qing-de-zuo-yong"&gt;规则引擎的作用&lt;/h1&gt;
&lt;p&gt;规则引擎可以将规则的定义从代码中分离出来，将推理过程封装到规则引擎内部进行处理，这带来几个好处：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;规则外部化，即有利于规则知识的复用，也可避免改变规则时带来的代码变更问题&lt;/li&gt;
&lt;li&gt;由规则引擎使用某种算法进行推理过程，不需要编写复杂晦涩的逻辑判断代码&lt;/li&gt;
&lt;li&gt;开发人员的不需要过多关注逻辑判断，可以专注于逻辑处理&lt;/li&gt;
&lt;/ol&gt;</content><category term="规则引擎"></category></entry><entry><title>多线程的基本概念</title><link href="http://holbrook.github.io/2012/02/23/multi_thread.html" rel="alternate"></link><published>2012-02-23T00:00:00+08:00</published><updated>2012-02-23T00:00:00+08:00</updated><author><name>Holbrook</name></author><id>tag:holbrook.github.io,2012-02-23:/2012/02/23/multi_thread.html</id><summary type="html"></summary><content type="html">&lt;p&gt;多线程编程必须理解的一些基本概念，适用于所有编程语言。内容：
并发式编程
多任务操作系统
多线程vs多进程
线程安全
线程的生命周期
线程的类型&lt;/p&gt;
&lt;h1 id="bing-fa-shi-bian-cheng"&gt;并发式编程&lt;/h1&gt;
&lt;p&gt;不同的编程范式对软件有不同的视角。并发式编程将软件看做任务和资源的组合&amp;mdash;&amp;mdash;任务之间竞争和共享资源，当资源满足时执行任务，否则等待资源。&lt;/p&gt;
&lt;p&gt;并发式编程使得软件易于理解和重用，在某些场景能够极大提高性能。&lt;/p&gt;
&lt;h1 id="duo-ren-wu-cao-zuo-xi-tong"&gt;多任务操作系统&lt;/h1&gt;
&lt;p&gt;要实现并发，首先需要操作系统的支持。现在的操作系统大部分都是多任务操作系统，可以&amp;ldquo;同时&amp;rdquo;执行多个任务。&lt;/p&gt;
&lt;p&gt;多任务可以在进程或线程的层面执行。
进程是指一个内存中运行的应用程序，每个进程都有自己独立的一块内存空间。多任务操作系统可以&amp;ldquo;并发&amp;rdquo;执行这些进程。
线程是指进程中乱序、多次执行的代码块，多个线程可以&amp;ldquo;同时&amp;rdquo;运行，所以认为多个线程是&amp;ldquo;并发&amp;rdquo;的。多线程的目的是为了最大限度的利用CPU资源。比如一个JVM进程中，所有的程序代码都以线程的方式运行。&lt;/p&gt;
&lt;p&gt;这里面的&amp;ldquo;同时&amp;rdquo;、&amp;ldquo;并发&amp;rdquo;只是一种宏观上的感受，实际上从微观层面看只是进程/线程的轮换执行，只不过切换的时间非常短，所以产生了&amp;ldquo;并行&amp;rdquo;的感觉。&lt;/p&gt;
&lt;h1 id="duo-xian-cheng-vsduo-jin-cheng"&gt;多线程vs多进程&lt;/h1&gt;
&lt;p&gt;操作系统会为每个进程分配不同的内存块，而多个线程共享进程的内存块。这带来最直接的不同就是创建线程的开销远小于创建进程的开销。&lt;/p&gt;
&lt;p&gt;同时，由于内存块不同，所以进程之间的通信相对困难。需要采用pipe/named pipe，signal, message queue, shared memory,socket等手段；而线程间的通信简单快速，就是共享进程内的全局变量。&lt;/p&gt;
&lt;p&gt;但是，进程的调度由操作系统负责，线程的调度就需要我们自己来考虑，避免死锁，饥饿，活锁，资源枯竭等情况的发生，这会增加一定的复杂度。而且，由于线程之间共享内存，我们还需要考虑线程安全性的问题。&lt;/p&gt;
&lt;h1 id="xian-cheng-an-quan"&gt;线程安全&lt;/h1&gt;
&lt;p&gt;因为线程间共享进程中的全局变量，所以当其他线程改变了共享的变量时，可能会对本线程产生影响。&lt;/p&gt;
&lt;p&gt;所谓线程安全的约束是指一个函数被多个并发线程反复调用时，要一直产生正确的结果。要保证线程安全，主要是通过加锁的方式保证共享变量的正确访问。&lt;/p&gt;
&lt;p&gt;比线程安全更严格的约束是"可重入性"，即函数在一个线程内执行的过程中被暂停，接下来又在另一个线程内被调用，之后在返回原线程继续执行。在整个过程中都能保证正确执行。保证可重入性，通常通过制作全局变量的本地拷贝来实现。&lt;/p&gt;
&lt;h1 id="xian-cheng-de-sheng-ming-zhou-qi"&gt;线程的生命周期&lt;/h1&gt;
&lt;p&gt;所谓的xx生命周期，其实就是某对象的包含产生和销毁的一张状态图。线程的生命周期如下图所示：&lt;/p&gt;
&lt;p&gt;&lt;img alt="multi-thread-states" src="images/2013/multi_thread/thread_state.jpg"/&gt;&lt;/p&gt;
&lt;p&gt;各状态的说明如下：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;New新建。新创建的线程经过初始化后，进入Runnable状态。&lt;/li&gt;
&lt;li&gt;Runnable就绪。等待线程调度。调度后进入运行状态。&lt;/li&gt;
&lt;li&gt;Running运行。&lt;/li&gt;
&lt;li&gt;Blocked阻塞。暂停运行，解除阻塞后进入Runnable状态重新等待调度。&lt;/li&gt;
&lt;li&gt;Dead消亡。线程方法执行完毕返回或者异常终止。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;可能有3种情况从Running进入Blocked：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;同步：线程中获取同步锁，但是资源已经被其他线程锁定时，进入Locked状态，直到该资源可获取（获取的顺序由Lock队列控制）&lt;/li&gt;
&lt;li&gt;睡眠：线程运行sleep()或join()方法后，线程进入Sleeping状态。区别在于sleep等待固定的时间，而join是等待子线程执行完。当然join也可以指定一个&amp;ldquo;超时时间&amp;rdquo;。从语义上来说，如果两个线程a,b, 在a中调用b.join()，相当于合并(join)成一个线程。最常见的情况是在主线程中join所有的子线程。&lt;/li&gt;
&lt;li&gt;等待：线程中执行wait()方法后，线程进入Waiting状态，等待其他线程的通知(notify）。&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id="xian-cheng-de-lei-xing"&gt;线程的类型&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;主线程：当一个程序启动时，就有一个进程被操作系统（OS）创建，与此同时一个线程也立刻运行，该线程通常叫做程序的主线程（Main Thread）。每个进程至少都有一个主线程，主线程通常最后关闭。&lt;/li&gt;
&lt;li&gt;子线程：在程序中创建的其他线程，相对于主线程来说就是这个主线程的子线程。&lt;/li&gt;
&lt;li&gt;守护线程：daemon thread，对线程的一种标识。守护线程为其他线程提供服务，如JVM的垃圾回收线程。当剩下的全是守护线程时，进程退出。&lt;/li&gt;
&lt;li&gt;前台线程：相对于守护线程的其他线程称为前台线程。&lt;/li&gt;
&lt;/ul&gt;</content><category term="多线程"></category></entry><entry><title>Python之禅(The Zen of Python)</title><link href="http://holbrook.github.io/2012/02/12/zen_of_python.html" rel="alternate"></link><published>2012-02-12T00:00:00+08:00</published><updated>2012-02-12T00:00:00+08:00</updated><author><name>Holbrook</name></author><id>tag:holbrook.github.io,2012-02-12:/2012/02/12/zen_of_python.html</id><summary type="html">&lt;p&gt;Python之禅, 中英对照&lt;/p&gt;</summary><content type="html">&lt;h1 id="the-zen-of-python"&gt;&lt;a href="http://www.python.org/dev/peps/pep-0020/"&gt;The Zen of Python&lt;/a&gt;&lt;/h1&gt;
&lt;p&gt;by Tim Peters&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Beautiful is better than ugly.&lt;/li&gt;
&lt;li&gt;Explicit is better than implicit.&lt;/li&gt;
&lt;li&gt;Simple is better than complex.&lt;/li&gt;
&lt;li&gt;Complex is better than complicated.&lt;/li&gt;
&lt;li&gt;Flat is better than nested.&lt;/li&gt;
&lt;li&gt;Sparse is better than dense.&lt;/li&gt;
&lt;li&gt;Readability counts.&lt;/li&gt;
&lt;li&gt;Special cases aren't special enough to break the rules.&lt;/li&gt;
&lt;li&gt;Although practicality beats purity.&lt;/li&gt;
&lt;li&gt;Errors should never pass silently.&lt;/li&gt;
&lt;li&gt;Unless explicitly silenced.&lt;/li&gt;
&lt;li&gt;In the face of ambiguity, refuse the temptation to guess.&lt;/li&gt;
&lt;li&gt;There should be one-- and preferably only one --obvious way to do it.&lt;/li&gt;
&lt;li&gt;Although that way may not be obvious at first unless you're Dutch.&lt;/li&gt;
&lt;li&gt;Now is better than never.&lt;/li&gt;
&lt;li&gt;Although never is often better than &lt;em&gt;right&lt;/em&gt; now.&lt;/li&gt;
&lt;li&gt;If the implementation is hard to explain, it's a bad idea.&lt;/li&gt;
&lt;li&gt;If the implementation is easy to explain, it may be a good idea.&lt;/li&gt;
&lt;li&gt;Namespaces are one honking great idea -- let's do more of those!&lt;/li&gt;
&lt;/ul&gt;
&lt;h1 id="pythonzhi-shan"&gt;Python之禅&lt;/h1&gt;
&lt;p&gt;&lt;a href="http://blog.csdn.net/lanphaday/article/details/2151918"&gt;赖勇浩 翻译&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;优美胜于丑陋（Python 以编写优美的代码为目标）&lt;/li&gt;
&lt;li&gt;明了胜于晦涩（优美的代码应当是明了的，命名规范，风格相似）&lt;/li&gt;
&lt;li&gt;简洁胜于复杂（优美的代码应当是简洁的，不要有复杂的内部实现）&lt;/li&gt;
&lt;li&gt;复杂胜于凌乱（如果复杂不可避免，那代码间也不能有难懂的关系，要保持接口简洁）&lt;/li&gt;
&lt;li&gt;扁平胜于嵌套（优美的代码应当是扁平的，不能有太多的嵌套）&lt;/li&gt;
&lt;li&gt;间隔胜于紧凑（优美的代码有适当的间隔，不要奢望一行代码解决问题）&lt;/li&gt;
&lt;li&gt;可读性很重要（优美的代码是可读的）&lt;/li&gt;
&lt;li&gt;即便假借特例的实用性之名，也不可违背这些规则（这些规则至高无上）&lt;/li&gt;
&lt;li&gt;不要包容所有错误，除非你确定需要这样做（精准地捕获异常，不写 except:pass 风格的代码）&lt;/li&gt;
&lt;li&gt;当存在多种可能，不要尝试去猜测&lt;/li&gt;
&lt;li&gt;而是尽量找一种，最好是唯一一种明显的解决方案（如果不确定，就用穷举法）&lt;/li&gt;
&lt;li&gt;虽然这并不容易，因为你不是 Python 之父（这里的 Dutch 是指 Guido ）&lt;/li&gt;
&lt;li&gt;做也许好过不做，但不假思索就动手还不如不做（动手之前要细思量）&lt;/li&gt;
&lt;li&gt;如果你无法向人描述你的方案，那肯定不是一个好方案；反之亦然（方案测评标准）&lt;/li&gt;
&lt;li&gt;命名空间是一种绝妙的理念，我们应当多加利用（倡导与号召）&lt;/li&gt;
&lt;/ul&gt;</content><category term="python"></category></entry></feed>