---
title: org-mode，最好的文档编辑利器，没有之一
tags:
  - emacs
  - org-mode
layout: post
---
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#sec-1">1. 用大纲组织内容</a>
<ul>
<li><a href="#sec-1-1">1.1. 定义标题</a></li>
<li><a href="#sec-1-2">1.2. 大纲相关的快捷键</a>
<ul>
<li><a href="#sec-1-2-1">1.2.1. 折叠大纲</a></li>
<li><a href="#sec-1-2-2">1.2.2. 在大纲之间移动</a></li>
<li><a href="#sec-1-2-3">1.2.3. 基于大纲的编辑</a></li>
</ul>
</li>
<li><a href="#sec-1-3">1.3. 大纲的显示方式</a></li>
</ul>
</li>
<li><a href="#sec-2">2. 超链接和图文混排</a>
<ul>
<li><a href="#sec-2-1">2.1. 创建链接</a></li>
<li><a href="#sec-2-2">2.2. 内部链接</a></li>
<li><a href="#sec-2-3">2.3. 显示图片</a></li>
</ul>
</li>
<li><a href="#sec-3">3. 轻量级标记语言</a>
<ul>
<li><a href="#sec-3-1">3.1. 字体</a></li>
<li><a href="#sec-3-2">3.2. 表格</a>
<ul>
<li><a href="#sec-3-2-1">3.2.1. 创建和转换表格</a></li>
<li><a href="#sec-3-2-2">3.2.2. 调整和区域移动</a></li>
<li><a href="#sec-3-2-3">3.2.3. 编辑行和列</a></li>
</ul>
</li>
<li><a href="#sec-3-3">3.3. 段落</a></li>
<li><a href="#sec-3-4">3.4. 列表</a>
<ul>
<li><a href="#sec-3-4-1">3.4.1. 列表操作快捷键</a></li>
</ul>
</li>
<li><a href="#sec-3-5">3.5. 分隔线</a></li>
</ul>
</li>
<li><a href="#sec-4">4. 标签</a>
<ul>
<li><a href="#sec-4-1">4.1. tag的作用</a></li>
<li><a href="#sec-4-2">4.2. 标记tag</a></li>
<li><a href="#sec-4-3">4.3. 预定义tag</a></li>
<li><a href="#sec-4-4">4.4. 按tag搜索</a></li>
</ul>
</li>
<li><a href="#sec-5">5. 导出和发布</a>
<ul>
<li><a href="#sec-5-1">5.1. 准备工作</a>
<ul>
<li><a href="#sec-5-1-1">5.1.1. 文档元数据</a></li>
<li><a href="#sec-5-1-2">5.1.2. 内容元数据</a></li>
<li><a href="#sec-5-1-3">5.1.3. (h)嵌入Html</a></li>
<li><a href="#sec-5-1-4">5.1.4. 包含文件</a></li>
<li><a href="#sec-5-1-5">5.1.5. 嵌入 LaTex</a></li>
</ul>
</li>
<li><a href="#sec-5-2">5.2. 导出</a></li>
<li><a href="#sec-5-3">5.3. 发布</a></li>
</ul>
</li>
</ul>
</div>
</div>
<p>
尽管按照org-mode <a href="http://orgmode.org/org.html">官方</a> 的说法，Org 是一个基于快速高效的文本方式来实现做笔记、管理待办事项（TODO list）以及做项目计划的模式（Org is a mode for keeping notes, maintaining TODO lists, and doing project planning with a fast and effective plain-text system
），但 Org-mode 首先是最好的文档编辑利器，没有之一。 
</p>

<p>
我之前用过很多年M$ Word, 也尝试过OpenOffice/LibreOffice Writer,以及iWorks Pager，但都不理想，写文档是没有痛快淋漓的感觉。直到后来发现了<a href="http://www.omnigroup.com/products/omnioutliner/">Omni Outliner</a> , 才终于找到了写作的乐趣。
但是了解了org-mode之后，发现原来一切都是浮云。只有Org-mode才是终极的解决之道。
使用org-mode写文档的时候，你只需要关注内容本身，而不需要写上几个字，选中它们按Ctl-B，或者停下来用鼠标去点击“标题1”，更甚觉得那个标题格式不顺眼，开始去调整样式，而停下写作的思路。
</p>

<p>
BTW，Omni Outliner似乎也是从Org-mode找到的灵感，有图为证：
</p>


<div class="figure">
<p><img src="/./assets/images/orgmode/OmniOutliner.png" alt="OmniOutliner.png" />
</p>
<p><span class="figure-number">Figure 1:</span> OmniOutliner</p>
</div>

<p>
其功能与Org-mode 几乎一样，而且这货居然支持emacs快捷键！
</p>


<p>
尽管Omni Outliner以GUI的方式实现了org-mode的功能，但是并不是很理想：它的内容是“所见即所得”的，很多时候你难以更改其样式，而且只能在Mac OS下使用。
而Org-mode使用文本方式，具有如下优势：
</p>

<ul class="org-ul">
<li>格式通用，系统无关，软件无关
</li>
<li>体积小，速度快
</li>
<li>“所想即所得”,比“所见即所得”更人性化
</li>
</ul>


<p>
可以说，正是由于有了 Org-Mode， Emacs 处理文本的能力才得到了大幅度的提高，使得Emacs能够被非程序员接受。
如果说LaTex是排版的终极，那么Org-mode就是编辑的终极。Emacs 22 以后的版本已经集成了 org-mode，打开 .org 扩展的文件会自动进入 org 模式。此外，Vim下面也有了对应的Org-mode。
</p>

<p>
本文介绍最基本的编辑、格式化文本以及导出功能，后续再讨论高级玩法。
</p>

<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1"><span class="section-number-2">1</span> 用大纲组织内容</h2>
<div class="outline-text-2" id="text-1">
<p>
尽管Org-mode的功能不断丰富，现在已经可以记笔记，管理个人事务，制定项目计划以及很多其他的用途，但是最初和最基本的功能还是通过大纲(outline)的方式来编辑文档。
而且，无论是笔记管理，任务管理还是项目计划的编写，都是以对内容进行高效的组织（organization)为基础的。
</p>

<p>
在编辑文档，尤其是大型文档的时候，对内容的组织就显得尤为重要。经常需要在文档中快速定位，只关注某一部分的内容，
Word之类的编辑器，通过文档结构图来定位文档位置，速度很慢，而且很多时候不能满足编辑的需要。尽管Word也提供了“大纲视图”，但是，唉……不说也罢，
如果那个功能真的好用，也就不需要Omni Outliner了。
</p>

<p>
Org-mode天然支持大纲视图，通过在文档中定义标题，可以方便的浏览每个小节，从而把握文档的总体内容。
Org是基于Outline模式的，它提供了更灵活的编辑结构文件的命令。比如折叠文档，针对大纲的编辑功能等，极其强大。
</p>
</div>

<div id="outline-container-sec-1-1" class="outline-3">
<h3 id="sec-1-1"><span class="section-number-3">1.1</span> 定义标题</h3>
<div class="outline-text-3" id="text-1-1">
<p>
要实现大纲，首先要定义标题。用emacs新建一个orgmode.org，输入如下内容：
</p>

<pre class="example">
* org-mode
** 大纲
正在编写大纲
** 轻量级标记语言
* 可以导出其他格式
支持html,pdf等格式
</pre>

<p>
注意：
</p>
<ol class="org-ol">
<li><code>*</code> 要位于每行的行首
</li>
<li><code>*</code> 之后要有一个空格，然后再输入标题
</li>
<li>连续几个 <code>*</code> 就表示是第几级大纲，最多支持10级。
</li>
</ol>

<p>
此时看起来应该是这个样子：
</p>


<div class="figure">
<p><img src="/./assets/images/orgmode/org01.png" alt="org01.png" />
</p>
<p><span class="figure-number">Figure 2:</span> org-mode</p>
</div>

<p>
觉得没什么出奇的地方，只是改变了一些颜色？其真正的用处在于可以通过大纲操作文档，包括折叠，定位和编辑。
而这些操作都通过快捷键实现，非常有效率。尤其是对大文档。
</p>
</div>
</div>
<div id="outline-container-sec-1-2" class="outline-3">
<h3 id="sec-1-2"><span class="section-number-3">1.2</span> 大纲相关的快捷键</h3>
<div class="outline-text-3" id="text-1-2">
</div><div id="outline-container-sec-1-2-1" class="outline-4">
<h4 id="sec-1-2-1"><span class="section-number-4">1.2.1</span> 折叠大纲</h4>
<div class="outline-text-4" id="text-1-2-1">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left">快捷键</th>
<th scope="col" class="left">命令</th>
<th scope="col" class="left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left">S-TAB</td>
<td class="left">org-shifttab</td>
<td class="left">循环切换整个文档的大纲状态（三种状态：折叠，打开下一级，打开全部）</td>
</tr>

<tr>
<td class="left">TAB</td>
<td class="left">org-cycle</td>
<td class="left">循环切换光标所在大纲的状态</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-sec-1-2-2" class="outline-4">
<h4 id="sec-1-2-2"><span class="section-number-4">1.2.2</span> 在大纲之间移动</h4>
<div class="outline-text-4" id="text-1-2-2">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left">快捷键</th>
<th scope="col" class="left">命令</th>
<th scope="col" class="left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left">C-c C-n/p</td>
<td class="left">&#xa0;</td>
<td class="left">下/上一标题</td>
</tr>

<tr>
<td class="left">C-c C-f/b</td>
<td class="left">&#xa0;</td>
<td class="left">下/上一标题（仅限同级标题）</td>
</tr>

<tr>
<td class="left">C-c C-u</td>
<td class="left">&#xa0;</td>
<td class="left">跳到上一级标题</td>
</tr>

<tr>
<td class="left">C-c C-j</td>
<td class="left">&#xa0;</td>
<td class="left">切换到大纲浏览状态</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-sec-1-2-3" class="outline-4">
<h4 id="sec-1-2-3"><span class="section-number-4">1.2.3</span> 基于大纲的编辑</h4>
<div class="outline-text-4" id="text-1-2-3">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left">快捷键</th>
<th scope="col" class="left">命令</th>
<th scope="col" class="left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left">M-RET</td>
<td class="left">&#xa0;</td>
<td class="left">插入一个同级标题</td>
</tr>

<tr>
<td class="left">M-S-RET</td>
<td class="left">&#xa0;</td>
<td class="left">插入一个同级TODO 标题</td>
</tr>

<tr>
<td class="left">M-LEFT/RIGHT</td>
<td class="left">&#xa0;</td>
<td class="left">将当前标题升/降级</td>
</tr>

<tr>
<td class="left">M-S-LEFT/RIGHT</td>
<td class="left">&#xa0;</td>
<td class="left">将子树升/降级</td>
</tr>

<tr>
<td class="left">M-S-UP/DOWN</td>
<td class="left">&#xa0;</td>
<td class="left">将子树上/下移</td>
</tr>

<tr>
<td class="left">C-c *</td>
<td class="left">&#xa0;</td>
<td class="left">将本行设为标题/正文</td>
</tr>

<tr>
<td class="left">C-c C-w</td>
<td class="left">&#xa0;</td>
<td class="left">将子树或区域移动到另一标题处（跨缓冲区）</td>
</tr>

<tr>
<td class="left">C-x n s/w</td>
<td class="left">&#xa0;</td>
<td class="left">只显示当前子树/返回</td>
</tr>

<tr>
<td class="left">C-c C-x b</td>
<td class="left">&#xa0;</td>
<td class="left">在新缓冲区显示当前分支（类似C-x n s)</td>
</tr>

<tr>
<td class="left">C-c /</td>
<td class="left">&#xa0;</td>
<td class="left">只列出包含搜索结果的大纲，并高亮，支持多种搜索方式</td>
</tr>

<tr>
<td class="left">C-c C-c</td>
<td class="left">&#xa0;</td>
<td class="left">取消高亮</td>
</tr>
</tbody>
</table>

<p>
更多的快捷键可以通过 <code>C-c C-x C-h</code> 查看。
</p>
</div>
</div>
</div>
<div id="outline-container-sec-1-3" class="outline-3">
<h3 id="sec-1-3"><span class="section-number-3">1.3</span> 大纲的显示方式</h3>
<div class="outline-text-3" id="text-1-3">
<p>
默认的大纲显示没有缩进，显得有些乱。可以用 M-x org-indent-mode切换到另一种显示方式：
</p>


<div class="figure">
<p><img src="/./assets/images/orgmode/org02.png" alt="org02.png" />
</p>
<p><span class="figure-number">Figure 3:</span> 大纲缩进</p>
</div>


<p>
如果想让某个文件默认用这种方式打开，可以在文件头部增加：
</p>

<pre class="example">
#+STARTUP: indent
</pre>

<p>
如果希望打开所有org文件都默认用这种方式，可以在.emacs中配置：
</p>

<pre class="example">
(setq org-startup-indented t)
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-2" class="outline-2">
<h2 id="sec-2"><span class="section-number-2">2</span> 超链接和图文混排</h2>
<div class="outline-text-2" id="text-2">
<p>
超链接也是组织内容的一种非常有效的方式。Org 支持多种超链接。对于符合要求的图片链接，可以形成图文混排。
</p>
</div>
<div id="outline-container-sec-2-1" class="outline-3">
<h3 id="sec-2-1"><span class="section-number-3">2.1</span> 创建链接</h3>
<div class="outline-text-3" id="text-2-1">
<p>
对于符合链接规则的内容，org-mode会自动将其视为链接，包括括文件、网页、邮箱、新闻组、BBDB 数据库项、IRC 会话和记录等。下面是一些例子：
</p>

<pre class="example">
http://www.astro.uva.nl/~dominik            on the web
file:/home/dominik/images/jupiter.jpg       file, absolute path
/home/dominik/images/jupiter.jpg            same as above
file:papers/last.pdf                        file, relative path
file:projects.org                           another Org file
docview:papers/last.pdf::NNN                open file in doc-view mode at page NNN
id:B7423F4D-2E8A-471B-8810-C40F074717E9     Link to heading by ID
news:comp.emacs                             Usenet link
mailto:adent@galaxy.net                     Mail link
vm:folder                                   VM folder link
vm:folder#id                                VM message link
wl:folder#id                                WANDERLUST message link
mhe:folder#id                               MH-E message link
rmail:folder#id                             RMAIL message link
gnus:group#id                               Gnus article link
bbdb:R.*Stallman                            BBDB link (with regexp)
irc:/irc.com/#emacs/bob                     IRC link
info:org:External%20links                   Info node link (with encoded space)
</pre>


<p>
对于文件链接，可以用::后面增加定位符的方式链接到文件的特定位置。定位符可以是行号或搜索选项。如：
</p>

<pre class="example">
file:~/code/main.c::255                     进入到 255 行
file:~/xx.org::My Target                    找到目标‘&lt;&lt;My Target&gt;&gt;’
file:~/xx.org/::#my-custom-id               查找自定义 id 的项
</pre>


<p>
除了上述的自动链接外，还可以显示指定链接，采用如下格式：
</p>

<pre class="example">
[[link][description]]
[[link]]
</pre>

<p>
显示指定的链接可以不显示原始的URL而是显示对该链接的描述。
这种方式可以用相对路径链接本地文件。
</p>

<p>
对于显示指定的链接，即可以手工输入，也可以用org-mode提供的快捷键进行编辑：
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left">快捷键</th>
<th scope="col" class="left">命令</th>
<th scope="col" class="left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left">C-c l</td>
<td class="left">&#xa0;</td>
<td class="left">保存链接</td>
</tr>

<tr>
<td class="left">C-c C-l</td>
<td class="left">org-insert-link</td>
<td class="left">创建或修改链接，可以引用已保存的链接</td>
</tr>

<tr>
<td class="left">C-c C-o</td>
<td class="left">org-open-at-point</td>
<td class="left">打开链接</td>
</tr>

<tr>
<td class="left">C-c %</td>
<td class="left">&#xa0;</td>
<td class="left">记录内部链接地址</td>
</tr>

<tr>
<td class="left">C-c &amp;</td>
<td class="left">&#xa0;</td>
<td class="left">跳转到已记录的内部链接</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-sec-2-2" class="outline-3">
<h3 id="sec-2-2"><span class="section-number-3">2.2</span> 内部链接</h3>
<div class="outline-text-3" id="text-2-2">
<p>
前面的例子都是外部链接，Org-mode还支持内部链接：
</p>

<pre class="example">
定义锚点 #&lt;&lt;my-anchor&gt;&gt;
[[my-anchor][内部链接]]
</pre>

<p>
脚注可以看作是一种特殊的内部链接，但是要求具有"fn:"前缀：
</p>

<pre class="example">
添加脚注链接 [[fn:footprint1][脚注1]]
定义脚注 [fn:footprint1]
</pre>
</div>
</div>
<div id="outline-container-sec-2-3" class="outline-3">
<h3 id="sec-2-3"><span class="section-number-3">2.3</span> 显示图片</h3>
<div class="outline-text-3" id="text-2-3">
<p>
尽管不看重"所见即所得"，但有时候能够看到图文混排的内容还是很有必要的。通过iimage这个minor mode，可以在Org-mode中显示图片。
下载 iimage.el 文件扔到 Emacs 的目录里，然后在 .emacs 里添加下面的代码：
</p>

<pre class="example">
;; iimage mode
(autoload 'iimage-mode "iimage" "Support Inline image minor mode." t)
(autoload 'turn-on-iimage-mode "iimage" "Turn on Inline image minor mode." t)
</pre>

<p>
然后就可以用命令 <code>M-x iimage-mode RET</code> 在当前模式里启动 iimage 这个 minor mode。
</p>

<p>
iimage-mode目前只能显示以文件方式链接的图片。
</p>
</div>
</div>
</div>
<div id="outline-container-sec-3" class="outline-2">
<h2 id="sec-3"><span class="section-number-2">3</span> 轻量级标记语言</h2>
<div class="outline-text-2" id="text-3">
<p>
前面的大纲和超链接都是使用标记来定义的。实际上，Org现在已经成为一种专门的轻量级标记语言，与Markdown、reStructedText、Textile、RDoc、MediaWiki等并列。
</p>

<p>
相对于重量级标记语言（如html, xml)，轻量级标记语言的语法简单，书写容易。即使不经过渲染，也可以很容易阅读。用途越来越广泛。
比如，gitHub的README文档除了支持纯文本外，还支持丰富的轻量级标记语言，其中就包括Org。
</p>

<p>
关于这些语言的对比，可以参考<a href="http://www.worldhello.net/gotgithub/appendix/markups.html">这里</a> 。下面来看一下Org还支持哪些标记。
</p>
</div>
<div id="outline-container-sec-3-1" class="outline-3">
<h3 id="sec-3-1"><span class="section-number-3">3.1</span> 字体</h3>
<div class="outline-text-3" id="text-3-1">
<pre class="example">
*粗体*
/斜体/
+删除线+
_下划线_
下标： H_2 O
上标： E=mc^2
等宽字：  =git=  或者 ～git～
</pre>
</div>
</div>
<div id="outline-container-sec-3-2" class="outline-3">
<h3 id="sec-3-2"><span class="section-number-3">3.2</span> 表格</h3>
<div class="outline-text-3" id="text-3-2">
<p>
Org 能够很容易地处理 ASCII 文本表格。任何以‘|’为首个非空字符的行都会被认为是表格的一部分。’|‘也是列分隔符。一个表格是下面的样子：
</p>

<pre class="example">
| Name  | Pone | Age |
|-------+------+-----|
| Peter | 1234 | 17  |
| Anna  | 4321 | 25  |
</pre>

<p>
你可能认为要录入这样的表格很繁琐，实际上你只需要输入表头“|Name|Pone|Age”之后，按C-c RET,就可以生成整个表格的结构。类似的快捷键还有很多：
</p>
</div>

<div id="outline-container-sec-3-2-1" class="outline-4">
<h4 id="sec-3-2-1"><span class="section-number-4">3.2.1</span> 创建和转换表格</h4>
<div class="outline-text-4" id="text-3-2-1">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left">快捷键</th>
<th scope="col" class="left">命令</th>
<th scope="col" class="left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left">C-c 竖线</td>
<td class="left">&#xa0;</td>
<td class="left">创建或转换成表格</td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-sec-3-2-2" class="outline-4">
<h4 id="sec-3-2-2"><span class="section-number-4">3.2.2</span> 调整和区域移动</h4>
<div class="outline-text-4" id="text-3-2-2">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left">快捷键</th>
<th scope="col" class="left">命令</th>
<th scope="col" class="left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left">C-c C-c</td>
<td class="left">&#xa0;</td>
<td class="left">调整表格，不移动光标</td>
</tr>

<tr>
<td class="left">TAB</td>
<td class="left">&#xa0;</td>
<td class="left">移动到下一区域，必要时新建一行</td>
</tr>

<tr>
<td class="left">S-TAB</td>
<td class="left">&#xa0;</td>
<td class="left">移动到上一区域</td>
</tr>

<tr>
<td class="left">RET</td>
<td class="left">&#xa0;</td>
<td class="left">移动到下一行，必要时新建一行</td>
</tr>
</tbody>
</table>
</div>
</div>
<div id="outline-container-sec-3-2-3" class="outline-4">
<h4 id="sec-3-2-3"><span class="section-number-4">3.2.3</span> 编辑行和列</h4>
<div class="outline-text-4" id="text-3-2-3">
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left">快捷键</th>
<th scope="col" class="left">命令</th>
<th scope="col" class="left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left">M-LEFT/RIGHT</td>
<td class="left">&#xa0;</td>
<td class="left">移动列</td>
</tr>

<tr>
<td class="left">M-UP/DOWN</td>
<td class="left">&#xa0;</td>
<td class="left">移动行</td>
</tr>

<tr>
<td class="left">M-S-LEFT/RIGHT</td>
<td class="left">&#xa0;</td>
<td class="left">删除/插入列</td>
</tr>

<tr>
<td class="left">M-S-UP/DOWN</td>
<td class="left">&#xa0;</td>
<td class="left">删除/插入行</td>
</tr>

<tr>
<td class="left">C-c -</td>
<td class="left">&#xa0;</td>
<td class="left">添加水平分割线</td>
</tr>

<tr>
<td class="left">C-c RET</td>
<td class="left">&#xa0;</td>
<td class="left">添加水平分割线并跳到下一行</td>
</tr>

<tr>
<td class="left">C-c ^</td>
<td class="left">&#xa0;</td>
<td class="left">根据当前列排序，可以选择排序方式</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>


<div id="outline-container-sec-3-3" class="outline-3">
<h3 id="sec-3-3"><span class="section-number-3">3.3</span> 段落</h3>
<div class="outline-text-3" id="text-3-3">
<p>
对于单个回车换行的文本，认为其属于同一个段落。在导出的时候将会转化为不换行的同一段。如果要新起一个段落，需要留出一个空行。
这点与MediaWiki类似。
</p>
</div>
</div>
<div id="outline-container-sec-3-4" class="outline-3">
<h3 id="sec-3-4"><span class="section-number-3">3.4</span> 列表</h3>
<div class="outline-text-3" id="text-3-4">
<p>
Org 能够识别有序列表、无序列表和描述列表。
</p>

<ul class="org-ul">
<li>无序列表项以 <code>-</code> 、=+= 或者 <code>*</code> 开头。
</li>
<li>有序列表项以 <code>1.</code> 或者 <code>1)</code> 开头。
</li>
<li>描述列表用 <code>::</code> 将项和描述分开。
</li>
<li>有序列表和无序列表都以缩进表示层级。只要对齐缩进，不管是换行还是分块都认为是处于当前列表项。
</li>
</ul>

<p>
同一列表中的项的第一行必须缩进相同程度。当下一行的缩进与列表项的的开头的符号或者数字相同或者更小时，这一项就结束了。
当所有的项都关上时，或者后面有两个空行时，列表就结束了。例如：
</p>

<pre class="example">
My favorite scenes are (in this order)
1. The attack of the Rohirrim
2. Eowyn's fight with the witch king
    + this was already my favorite scene in the book
    + I really like Miranda Otto.
Important actors in this film are:
- Elijah Wood :: He plays Frodo
- Sean Austin :: He plays Sam, Frodo's friend.
</pre>

<p>
将显示为：
</p>

<blockquote>
<p>
My favorite scenes are (in this order)
</p>
<ol class="org-ol">
<li>The attack of the Rohirrim
</li>
<li>Eowyn's fight with the witch king
<ul class="org-ul">
<li>this was already my favorite scene in the book
</li>
<li>I really like Miranda Otto.
</li>
</ul>
</li>
</ol>
<p>
Important actors in this film are:
</p>
<dl class="org-dl">
<dt> Elijah Wood </dt><dd>He plays Frodo
</dd>
<dt> Sean Austin </dt><dd>He plays Sam, Frodo's friend.
</dd>
</dl>
</blockquote>
</div>

<div id="outline-container-sec-3-4-1" class="outline-4">
<h4 id="sec-3-4-1"><span class="section-number-4">3.4.1</span> 列表操作快捷键</h4>
<div class="outline-text-4" id="text-3-4-1">
<p>
为了便利，org-mode也支持很多列表操作的快捷键，大部分都与大纲的快捷键类似：
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left">快捷键</th>
<th scope="col" class="left">命令</th>
<th scope="col" class="left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left">TAB</td>
<td class="left">&#xa0;</td>
<td class="left">折叠列表项</td>
</tr>

<tr>
<td class="left">M-RET</td>
<td class="left">&#xa0;</td>
<td class="left">插入项</td>
</tr>

<tr>
<td class="left">M-S-RET</td>
<td class="left">&#xa0;</td>
<td class="left">插入带复选框的项</td>
</tr>

<tr>
<td class="left">M-S-UP/DOWN</td>
<td class="left">&#xa0;</td>
<td class="left">移动列表项</td>
</tr>

<tr>
<td class="left">M-LEFT/RIGHT</td>
<td class="left">&#xa0;</td>
<td class="left">升/降级列表项，不包括子项</td>
</tr>

<tr>
<td class="left">M-S-LEFT/RIGTH</td>
<td class="left">&#xa0;</td>
<td class="left">升/降级列表项，包括子项</td>
</tr>

<tr>
<td class="left">C-c C-c</td>
<td class="left">&#xa0;</td>
<td class="left">改变复选框状态</td>
</tr>

<tr>
<td class="left">C-c -</td>
<td class="left">&#xa0;</td>
<td class="left">更换列表标记（循环切换）</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>

<div id="outline-container-sec-3-5" class="outline-3">
<h3 id="sec-3-5"><span class="section-number-3">3.5</span> 分隔线</h3>
<div class="outline-text-3" id="text-3-5">
<p>
五条短线或以上显示为分隔线。
</p>
<pre class="example">
-----
</pre>
</div>
</div>
</div>
<div id="outline-container-sec-4" class="outline-2">
<h2 id="sec-4"><span class="section-number-2">4</span> 标签</h2>
<div class="outline-text-2" id="text-4">
</div><div id="outline-container-sec-4-1" class="outline-3">
<h3 id="sec-4-1"><span class="section-number-3">4.1</span> tag的作用</h3>
<div class="outline-text-3" id="text-4-1">
<p>
对于信息的管理，有分类(category)和标签(tag)两种方式。这两种方式各有特点：
</p>

<p>
通常分类是固定的，很少变化，而tag随时可以增加。
分类通常表现为树状结构，比较清晰，但是树状结构过于简单，不能表达复杂的信息。比如，如果有多个分类树，处理起来就会比较麻烦。
</p>

<p>
所以，这两种方式通常结合起来使用。比如blog系统中，通常既支持文章的分类（树），又支持为每篇文章作tag标记。
</p>

<p>
org-mode作为 <b>最好的文档编辑利器</b> ，在支持文内大纲（也是树状结构）的同时，还方便的支持tag功能。tag可以在多篇文档中共用。
</p>
</div>
</div>
<div id="outline-container-sec-4-2" class="outline-3">
<h3 id="sec-4-2"><span class="section-number-3">4.2</span> 标记tag</h3>
<div class="outline-text-3" id="text-4-2">
<p>
在Org-mode中，可以对标题增加tag标记。标记的格式如下：
</p>

<pre class="example">
跟特留尼西特握手                    :苦差:薪水:逃不掉:
</pre>

<p>
而且Org-mode的标签自动按照大纲树的结构继承。即子标题自动继承父标题的标签。比如：
</p>

<pre class="example">
* Meeting with the French group     :work:
** Summary by Frank                 :boss:notes:
*** TODO Prepare slides for him     :action:
</pre>

<p>
则最后一行标题具有 work, boss, notes, action 四个标签。
</p>


<p>
如果希望文档中的所有标题都具有某些标签，只需要定义文档元数据：
</p>

<pre class="example">
#+FILETAGS: :Peter:Boss:Secret:
</pre>

<p>
如果手工输入标签，在标题后设置标签，键入:后，M-Tab自动提供标签的补齐。
</p>

<p>
更方便的做法是在正文部分用C-c C-q 或直接在标题上用C-c C-c创建标签，这种方式可以列出所有预定义的标签以便选取。
</p>
</div>
</div>
<div id="outline-container-sec-4-3" class="outline-3">
<h3 id="sec-4-3"><span class="section-number-3">4.3</span> 预定义tag</h3>
<div class="outline-text-3" id="text-4-3">
<p>
上面提到，除了可以输入标签外，还可以从预定义的标签中进行选择。预定义的方式有两种：
</p>

<ul class="org-ul">
<li>在当前文件头部定义
<pre class="example">
这种方式预定义的标签只能在当前文件中使用。使用#+TAGS元数据进行标记，如：

    #+TAGS: { 桌面(d) 服务器(s) }  编辑器(e) 浏览器(f) 多媒体(m) 压缩(z)
</pre>

<p>
每项之间必须用空格分隔，可以在括号中定义一个快捷键；花括号里的为标签组，只能选择一个
</p>

<p>
对标签定义进行修改后，要在标签定义的位置按 C-c C-c 刷新才能生效。
</p>
</li>

<li>在配置文件中定义

<p>
上面的标签定义只能在当前文件生效，如果要在所有的.org 文件中生效，需要在 Emacs 配置文件 .emacs 中进行定义：
</p>
</li>
</ul>

<pre class="example">
(setq org-tag-alist '(
 		      (:startgroup . nil)
  			   ("桌面" . ?d) ("服务器" . ?s)
 		      (:endgroup . nil)
 		      ("编辑器" . ?e)
 		      ("浏览器" . ?f)
 		      ("多媒体" . ?m)
 		      ))
</pre>

<p>
默认情况下，org会动态维护一个Tag列表，即当前输入的标签若不在列表中，则自动加入列表以供下次补齐使用。
</p>

<p>
为了使这几种情况（默认列表、文件预设tags，全局预设tags）同时生效，需要在文件中增加一个空的TAGS定义：
</p>

<pre class="example">
#+TAGS:
</pre>
</div>
</div>
<div id="outline-container-sec-4-4" class="outline-3">
<h3 id="sec-4-4"><span class="section-number-3">4.4</span> 按tag搜索</h3>
<div class="outline-text-3" id="text-4-4">
<p>
使用标签可以更好的管理内容。org-mode提供了以下功能：
</p>
<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left">KEYS</th>
<th scope="col" class="left">COMMENT</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left">C-c \</td>
<td class="left">按tag搜索标题</td>
</tr>

<tr>
<td class="left">C-c / m</td>
<td class="left">搜索并按树状结构显示</td>
</tr>

<tr>
<td class="left">C-c a m</td>
<td class="left">按标签搜索多个文件（需要将文件加入全局agenda)</td>
</tr>
</tbody>
</table>


<p>
可以使用逻辑表达式限制条件，更准确灵活的搜索
</p>

<pre class="example">
+       和      a+b     同时有这两个标签
-       排除    a-b     有 a 但没有 b
|       或      a|b     有 a 或者有 b
&amp;       和      a&amp;b     同时有 a 和 b，可以用“+”替代
</pre>


<p>
在查询视图中 <code>C-c C-c</code> 退出。
</p>
</div>
</div>
</div>

<div id="outline-container-sec-5" class="outline-2">
<h2 id="sec-5"><span class="section-number-2">5</span> 导出和发布</h2>
<div class="outline-text-2" id="text-5">
<p>
更多： <a href="http://orgmode.org/manual/Exporting.html">http://orgmode.org/manual/Exporting.html</a>
</p>

<p>
Org-mode可以完美的编辑，但是最终文档可能需要发布成其他的格式。
</p>

<p>
Org-Mode 支持多种文档的输出，包括：
</p>
<ul class="org-ul">
<li>文本
</li>
<li>网页
</li>
<li>PDF（需要 Latex 支持）
</li>
<li>XOXO
</li>
<li>FreeMind/Xmind
</li>
<li>Docbook
</li>
<li>iCalendar（苹果 iCal 文件）
</li>
<li>……
</li>
</ul>
</div>

<div id="outline-container-sec-5-1" class="outline-3">
<h3 id="sec-5-1"><span class="section-number-3">5.1</span> 准备工作</h3>
<div class="outline-text-3" id="text-5-1">
<p>
为了更好的发布文档，还需要做一些准备工作。主要是为文档添加一些”元数据“，使得发布的时候能更好地识别文档的内容。
</p>
</div>

<div id="outline-container-sec-5-1-1" class="outline-4">
<h4 id="sec-5-1-1"><span class="section-number-4">5.1.1</span> 文档元数据</h4>
<div class="outline-text-4" id="text-5-1-1">
<p>
具体包括：
</p>

<pre class="example">
#+TITLE:       the title to be shown (default is the buffer name)
#+AUTHOR:      the author (default taken from user-full-name)
#+DATE:        a date, an Org timestamp1, or a format string for format-time-string
#+EMAIL:       his/her email address (default from user-mail-address)
#+DESCRIPTION: the page description, e.g. for the XHTML meta tag
#+KEYWORDS:    the page keywords, e.g. for the XHTML meta tag
#+LANGUAGE:    language for HTML, e.g. ‘en’ (org-export-default-language)
#+TEXT:        Some descriptive text to be inserted at the beginning.
#+TEXT:        Several lines may be given.
#+OPTIONS:     H:2 num:t toc:t \n:nil @:t ::t |:t ^:t f:t TeX:t ...
#+BIND:        lisp-var lisp-val, e.g.: org-export-latex-low-levels itemize
               You need to confirm using these, or configure org-export-allow-BIND
#+LINK_UP:     the ``up'' link of an exported page
#+LINK_HOME:   the ``home'' link of an exported page
#+LATEX_HEADER: extra line(s) for the LaTeX header, like \usepackage{xyz}
#+EXPORT_SELECT_TAGS:   Tags that select a tree for export
#+EXPORT_EXCLUDE_TAGS:  Tags that exclude a tree from export
#+XSLT:        the XSLT stylesheet used by DocBook exporter to generate FO file
</pre>

<p>
其中#+OPTIONS是复合的选项，包括：
</p>

<pre class="example">
H:         set the number of headline levels for export
num:       turn on/off section-numbers
toc:       turn on/off table of contents, or set level limit (integer)
\n:        turn on/off line-break-preservation (DOES NOT WORK)
@:         turn on/off quoted HTML tags
::         turn on/off fixed-width sections
|:         turn on/off tables
^:         turn on/off TeX-like syntax for sub- and superscripts.  If
           you write "^:{}", a_{b} will be interpreted, but
           the simple a_b will be left as it is.
-:         turn on/off conversion of special strings.
f:         turn on/off footnotes like this[1].
todo:      turn on/off inclusion of TODO keywords into exported text
tasks:     turn on/off inclusion of tasks (TODO items), can be nil to remove
           all tasks, todo to remove DONE tasks, or list of kwds to keep
pri:       turn on/off priority cookies
tags:      turn on/off inclusion of tags, may also be not-in-toc
&lt;:         turn on/off inclusion of any time/date stamps like DEADLINES
*:         turn on/off emphasized text (bold, italic, underlined)
TeX:       turn on/off simple TeX macros in plain text
LaTeX:     configure export of LaTeX fragments.  Default auto
skip:      turn on/off skipping the text before the first heading
author:    turn on/off inclusion of author name/email into exported file
email:     turn on/off inclusion of author email into exported file
creator:   turn on/off inclusion of creator info into exported file
timestamp: turn on/off inclusion creation time into exported file
d:         turn on/off inclusion of drawers
</pre>

<p>
这些元数据可以根据需要设置。建议放在文档的开头部分。如，本文采用的元数据如下：
</p>

<pre class="example">
#+TITLE: org-mode: 最好的文档编辑利器，没有之一
#+AUTHOR:Holbrook Wong
#+EMAIL: wanghaikuo@gmail.com
#+KEYWORDS: emacs, org-mode
#+OPTIONS: H:4 toc:t 
</pre>
</div>
</div>
<div id="outline-container-sec-5-1-2" class="outline-4">
<h4 id="sec-5-1-2"><span class="section-number-4">5.1.2</span> 内容元数据</h4>
<div class="outline-text-4" id="text-5-1-2">
<p>
通常在行首以“#+”开头，可以有多种用途。创建内容元数据的区块可以用快捷键 <code>&lt; ? TAB=，其中 =?</code> 为首字母，在下面的标题中列出。
</p>
</div>

<ol class="org-ol"><li>(v)分行区块<br  /><div class="outline-text-5" id="text-5-1-2-1">
<p>
默认内容不换行，需要留出空行才能换行。定义了分行的区块可以实现普通换行：
</p>

<pre class="example">
#+BEGIN_VERSE
 Great clouds overhead
 Tiny black birds rise and fall
 Snow covers Emacs
     -- AlexSchroeder
#+END_VERSE
</pre>
</div>
</li>
<li>(q)引用区块<br  /><div class="outline-text-5" id="text-5-1-2-2">
<p>
通常用于引用，与默认格式相比左右都会留出缩进：
</p>

<pre class="example">
#+BEGIN_QUOTE
  缩进区块
#+END_QUOTE
</pre>
</div>
</li>
<li>(c)居中区块<br  /><div class="outline-text-5" id="text-5-1-2-3">
<pre class="example">
#+BEGIN_CENTER
Everything should be made as simple as possible, \\
but not any simpler
#+END_CENTER
</pre>
</div>
</li>
<li>(s)代码区块<br  /><div class="outline-text-5" id="text-5-1-2-4">
<pre class="example">
#+BEGIN_SRC ruby
  require 'redcarpet'
  md = Redcarpet.new("Hello, world.")
  puts md.to_html
#+END_SRC
</pre>
</div>
</li>
<li>(e)例子<br  /><div class="outline-text-5" id="text-5-1-2-5">
<pre class="example">
: 单行的例子以冒号开头

#+BEGIN_EXAMPLE
 多行的例子
 使用区块
#+END_EXAMPLE
</pre>
</div>
</li>

<li>(a)ASCII码<br  /><div class="outline-text-5" id="text-5-1-2-6">
<p>
TODO
</p>
</div>
</li>
<li>表格与图片<br  /><div class="outline-text-5" id="text-5-1-2-7">
<p>
对于表格和图片，可以在前面增加标题和标签的说明，以方便交叉引用。
</p>

<p>
比如在表格的前面添加：
</p>

<pre class="example">
#+CAPTION: This is the caption for the next table (or link)
#+LABEL: tbl:table1
</pre>

<p>
则在需要的地方可以通过 <code>ref{table1}</code> 来引用该表格。
</p>
</div>
</li></ol>
</div>
<div id="outline-container-sec-5-1-3" class="outline-4">
<h4 id="sec-5-1-3"><span class="section-number-4">5.1.3</span> (h)嵌入Html</h4>
<div class="outline-text-4" id="text-5-1-3">
<p>
对于导出html以及发布，嵌入html代码就很有用。比如下面的例子适用于格式化为cnblogs的代码块：
</p>

<pre class="example">
#+BEGIN_HTML
  &lt;div class="cnblogs_Highlighter"&gt;
  &lt;pre class="brush:cpp"&gt;
  int main()
  {
    return 0;
  }
  &lt;/pre&gt;
  &lt;/div&gt;
#+END_HTML
</pre>
</div>
</div>
<div id="outline-container-sec-5-1-4" class="outline-4">
<h4 id="sec-5-1-4"><span class="section-number-4">5.1.4</span> 包含文件</h4>
<div class="outline-text-4" id="text-5-1-4">
<p>
当导出文档时，你可以包含其他文件中的内容。比如，想包含你的“.emacs”文件，你可以用：
</p>

<pre class="example">
#+INCLUDE: "~/.emacs" src emacs-lisp
</pre>

<p>
可选的第二个第三个参数是组织方式（例如，“quote”，“example”，或者“src”），如果是 “src”，语言用来格式化内容。组织方式是可选的，如果不给出，文本会被当作 Org
模式的正常处理。用 C-c ,可以访问包含的文件。
</p>
</div>
</div>
<div id="outline-container-sec-5-1-5" class="outline-4">
<h4 id="sec-5-1-5"><span class="section-number-4">5.1.5</span> 嵌入 LaTex</h4>
<div class="outline-text-4" id="text-5-1-5">
<p>
对于需要包含数学符号和特殊方程的科学笔记，Org 模式支持嵌入 LaTeX 代码到文件中。你可以直接使用类 TeX 的宏来输入特殊符号，输入方程，或者整个 LaTeX 环境。
</p>

<pre class="example">
Angles are written as Greek letters \alpha, \beta and \gamma. The mass if
the sun is M_sun = 1.989 x 10^30 kg. The radius of the sun is R_{sun} =
6.96 x 10^8 m. If $a^2=b$ and $b=2$, then the solution must be either
$a=+\sqrt{2}$ or $a=-\sqrt{2}$.
\begin{equation}
x=\sqrt{b}
\end{equation}
</pre>

<p>
特殊设置之后，导出 HTML 时 LaTeX 代码片断会生成图片并包含进来。
</p>
</div>
</div>
</div>
<div id="outline-container-sec-5-2" class="outline-3">
<h3 id="sec-5-2"><span class="section-number-3">5.2</span> 导出</h3>
<div class="outline-text-3" id="text-5-2">
<p>
做好准备工作后，就可以导出了。使用命令：
</p>
<pre class="example">
C-c C-e
</pre>
<p>
然后选择相应的格式，就可以导出对应的文件了。
</p>
</div>
</div>
<div id="outline-container-sec-5-3" class="outline-3">
<h3 id="sec-5-3"><span class="section-number-3">5.3</span> 发布</h3>
<div class="outline-text-3" id="text-5-3">
<p>
Org 包含一个发布管理系统，可以配置一个由相互链接的 Org 文件组成的工程项目的自动向 HTML 转换。你也可以设置 Org，
将导出的 HTML 页面和相应的附件如图片，源代码文件等自动上传到服务器。
</p>

<p>
下面是一个例子：
</p>

<pre class="example">
(setq org-publish-project-alist
     '(("org"
        :base-directory "~/org/"
        :publishing-directory "~/public_html"
        :section-numbers nil
        :table-of-contents nil
        :style "&lt;link rel=\"stylesheet\"
               href=\"../other/mystyle.css\"
               type=\"text/css\"/&gt;")))
</pre>

<p>
发布相关的命令：
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="left" />

<col  class="left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="left">命令</th>
<th scope="col" class="left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td class="left">C-c C-e C</td>
<td class="left">提示指明一个项目，将所有的文件发布</td>
</tr>

<tr>
<td class="left">C-c C-e P</td>
<td class="left">发布包含当前文件的项目</td>
</tr>

<tr>
<td class="left">C-c C-e F</td>
<td class="left">只发布当前文件</td>
</tr>

<tr>
<td class="left">C-c C-e E</td>
<td class="left">发布所有项目</td>
</tr>
</tbody>
</table>

<p>
Org 用时间戳来查看文件是否改变。上面的命令只发布修改过的文件。你可以给它们加上前缀来强制重新发布所有的文件。
</p>

<hr  />
</div>
</div>
</div>
