---
layout: post
title: ""
description: ""
category: 领域模型
tags: [DevOps]
lastmod: 2013-06-10
---

对系统工程师来说，配置管理已经向前跃进了一大步. 系统配置的自动化不仅可预测,可重复, 还具有可管理性. 配置管理工具通常使用版本控制化的配置模板来描述基础设施的目标状态。凭借版本控制化的配置，可以将环境回滚（或前滚）到前面（或后序）状态；环境配置文件的自动化管理也是持续性交付管道的必要特性。
CFEngine, Puppet和Chef(按年龄降序)是开源领域流行的配置管理工具。 我是一个Puppet的长期用户, 与自定义的配置脚本相比，它在系统自动化的组织性和可靠性方面带来了巨大的提升。(我是在2009年作出这一次飞跃，与此相比, 以前的日子简直是混乱不堪…).
虽然配置管理工具精于描述并达到想要的状态, 但并不擅长动态地查询或设置状态. 这一点在状态资源还没有被纳入配置管理时特别明显。Llinux系统管理员的传统解决办法是ssh循环登陆节点列表并执行一堆命令。这不仅容易出错, 且每一次循环都要打开新的ssh会话，效率低下。想像一下要在1000台机器上顺序执行命令！更不用说网络安全，ssh密钥和命令执行权限的问题。这当然是一种可行的办法,但缺少一种可管理的框架。
这就是命令编排工具产生的原因。这些工具旨在大量的节点上并行执行命令和实时操作。CFEngine, Puppet和Chef各自用不同的方法来解决命令编排问题。Puppet使用MCollective作为其武器,并将其集成到商业版中。
近来，我开始探索使用SaltStack <http://wiki.saltstack.cn/SaltStack>来解决配置管理和命令编排这两个问题。SaltStack <http://wiki.saltstack.cn/SaltStack>开始于2011年，是一个相对较新的项目，但在系统管理员和DevOps <http://wiki.saltstack.cn/DevOps>工程师中拥有越来越多的粉丝。



# DevOps对工具的需求

在我所在的公司，IT部门划分成开发和运维等不同的团队。

[DevOps](http://zh.wikipedia.org/wiki/DevOps)

配置管理，描述服务器的状态，也可以批量的操作服务器，甚至可以用来监控服务器。

配置管理
CFEngine, Puppet和Chef(按年龄降序)是。 我是一个Puppet的长期用户, 与自定义的配置脚本相比，它在系统自动化的组织性和可靠性方面带来了巨大的提升。(我是在2009年作出这一次飞跃，与此相比, 以前的日子简直是混乱不堪…).


配置管理：设定资源的目标状态。工具：
    自定义脚本——不严格，不可复用
    配置管理工具：精于描述并达到想要的状态，使得对资源状态的设定可预测,可重复, 可管理。 使用版本控制实现回滚；使用模板完成重复任务；对配置文件进行自动化管理。从而支持应用的持续交付
    开源领域流行的配置管理工具：CFEngine, Puppet, Chef

状态监控：配置管理工具不擅长动态地查询或设置状态
    传统手工操作：登录每一个节点并执行一系列命令进行状态的查询或设置。效率低下并且容易出错，而且存在安全隐患（网络安全，系统安全）。
    集中监控工具：

状态设置：
    传统手工操作：
    命令编排工具：可以在大量的节点上并行执行命令和实时操作。
           CFEngine, Puppet和Chef各自用不同的方法来解决命令编排问题。Puppet使用MCollective作为其武器,并将其集成到商业版中。


远程执行系统：
Func <http://wiki.saltstack.cn/Func>、
MCollective <http://wiki.saltstack.cn/MCollective> 	（puppet企业版？中使用)
Salt <http://wiki.saltstack.cn/Salt>
RunDeck <http://wiki.saltstack.cn/RunDeck>







运维的工作主要在2方面:
	1.	状态的管理
	2.	系统性能调优
这里主要简介下运维状态的管理:
	•	对于运维来说,基于状态的配置管理已经向自动化迈进了一大步,以状态为核心的运维,让状态本身有了可管理性;在运维过程中我们会发现,同样的一个配置,我们会在不同的时间,不同的地点一次在一次的配置,这个时候,配置管理就有了重复性;有的甚至是原封不动的重复,而另外一些则是按照一定的规律在发展,这些按照一定规律发展的配置,就是可预测的.综上我认识的,我们运维工作的本身是可管理,可重复,可预测的.基于这样的理念,我们就可以更高一步的推进我们的运维自动化,甚至到智能化.
看到这里,我理想中的运维自动化的配置管理平台应该有如下功能:
	1.	对状态的配置及管理(最基本的)
	2.	可以及时的对系统状态进行调整并能看到结果(可以方便的实时升级系统状态)
	3.	可以对其本身做方便的第三方管理(借助其API,直接给状态制定好其发展方向)

